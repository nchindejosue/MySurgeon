function XB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Be(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YB(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var tN={exports:{}},Ng={},nN={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=Symbol.for("react.element"),QB=Symbol.for("react.portal"),JB=Symbol.for("react.fragment"),ZB=Symbol.for("react.strict_mode"),e3=Symbol.for("react.profiler"),t3=Symbol.for("react.provider"),n3=Symbol.for("react.context"),r3=Symbol.for("react.forward_ref"),i3=Symbol.for("react.suspense"),o3=Symbol.for("react.memo"),s3=Symbol.for("react.lazy"),zS=Symbol.iterator;function a3(t){return t===null||typeof t!="object"?null:(t=zS&&t[zS]||t["@@iterator"],typeof t=="function"?t:null)}var rN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iN=Object.assign,oN={};function fu(t,e,n){this.props=t,this.context=e,this.refs=oN,this.updater=n||rN}fu.prototype.isReactComponent={};fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sN(){}sN.prototype=fu.prototype;function T1(t,e,n){this.props=t,this.context=e,this.refs=oN,this.updater=n||rN}var S1=T1.prototype=new sN;S1.constructor=T1;iN(S1,fu.prototype);S1.isPureReactComponent=!0;var WS=Array.isArray,aN=Object.prototype.hasOwnProperty,A1={current:null},lN={key:!0,ref:!0,__self:!0,__source:!0};function uN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)aN.call(e,r)&&!lN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wf,type:t,key:o,ref:s,props:i,_owner:A1.current}}function l3(t,e){return{$$typeof:wf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P1(t){return typeof t=="object"&&t!==null&&t.$$typeof===wf}function u3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var HS=/\/+/g;function Nv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?u3(""+t.key):e.toString(36)}function ap(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case wf:case QB:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Nv(s,0):r,WS(i)?(n="",t!=null&&(n=t.replace(HS,"$&/")+"/"),ap(i,e,n,"",function(u){return u})):i!=null&&(P1(i)&&(i=l3(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(HS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",WS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Nv(o,a);s+=ap(o,e,n,l,i)}else if(l=a3(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Nv(o,a++),s+=ap(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function pd(t,e,n){if(t==null)return t;var r=[],i=0;return ap(t,r,"","",function(o){return e.call(n,o,i++)}),r}function c3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},lp={transition:null},h3={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:lp,ReactCurrentOwner:A1};function cN(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:pd,forEach:function(t,e,n){pd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pd(t,function(){e++}),e},toArray:function(t){return pd(t,function(e){return e})||[]},only:function(t){if(!P1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=fu;Ee.Fragment=JB;Ee.Profiler=e3;Ee.PureComponent=T1;Ee.StrictMode=ZB;Ee.Suspense=i3;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h3;Ee.act=cN;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=A1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)aN.call(e,l)&&!lN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wf,type:t.type,key:i,ref:o,props:r,_owner:s}};Ee.createContext=function(t){return t={$$typeof:n3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:t3,_context:t},t.Consumer=t};Ee.createElement=uN;Ee.createFactory=function(t){var e=uN.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:r3,render:t}};Ee.isValidElement=P1;Ee.lazy=function(t){return{$$typeof:s3,_payload:{_status:-1,_result:t},_init:c3}};Ee.memo=function(t,e){return{$$typeof:o3,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=lp.transition;lp.transition={};try{t()}finally{lp.transition=e}};Ee.unstable_act=cN;Ee.useCallback=function(t,e){return bn.current.useCallback(t,e)};Ee.useContext=function(t){return bn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return bn.current.useEffect(t,e)};Ee.useId=function(){return bn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return bn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};Ee.useRef=function(t){return bn.current.useRef(t)};Ee.useState=function(t){return bn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return bn.current.useTransition()};Ee.version="18.3.1";nN.exports=Ee;var M=nN.exports;const D=Be(M),f3=XB({__proto__:null,default:D},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3=M,p3=Symbol.for("react.element"),m3=Symbol.for("react.fragment"),g3=Object.prototype.hasOwnProperty,y3=d3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v3={key:!0,ref:!0,__self:!0,__source:!0};function hN(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)g3.call(e,r)&&!v3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:p3,type:t,key:o,ref:s,props:i,_owner:y3.current}}Ng.Fragment=m3;Ng.jsx=hN;Ng.jsxs=hN;tN.exports=Ng;var O=tN.exports,fN={exports:{}},Gn={},dN={exports:{}},pN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var X=L.length;L.push(z);e:for(;0<X;){var Y=X-1>>>1,K=L[Y];if(0<i(K,z))L[Y]=z,L[X]=K,X=Y;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],X=L.pop();if(X!==z){L[0]=X;e:for(var Y=0,K=L.length,ne=K>>>1;Y<ne;){var _e=2*(Y+1)-1,Oe=L[_e],De=_e+1,yt=L[De];if(0>i(Oe,X))De<K&&0>i(yt,Oe)?(L[Y]=yt,L[De]=X,Y=De):(L[Y]=Oe,L[_e]=X,Y=_e);else if(De<K&&0>i(yt,X))L[Y]=yt,L[De]=X,Y=De;else break e}}return z}function i(L,z){var X=L.sortIndex-z.sortIndex;return X!==0?X:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,f=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function S(L){if(g=!1,v(L),!m)if(n(l)!==null)m=!0,B(E);else{var z=n(u);z!==null&&H(S,z.startTime-L)}}function E(L,z){m=!1,g&&(g=!1,w(T),T=-1),p=!0;var X=f;try{for(v(z),h=n(l);h!==null&&(!(h.expirationTime>z)||L&&!C());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var K=Y(h.expirationTime<=z);z=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(l)&&r(l),v(z)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var _e=n(u);_e!==null&&H(S,_e.startTime-z),ne=!1}return ne}finally{h=null,f=X,p=!1}}var A=!1,x=null,T=-1,I=5,k=-1;function C(){return!(t.unstable_now()-k<I)}function j(){if(x!==null){var L=t.unstable_now();k=L;var z=!0;try{z=x(!0,L)}finally{z?R():(A=!1,x=null)}}else A=!1}var R;if(typeof _=="function")R=function(){_(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=j,R=function(){U.postMessage(null)}}else R=function(){y(j,0)};function B(L){x=L,A||(A=!0,R())}function H(L,z){T=y(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,B(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var X=f;f=z;try{return L()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=f;f=L;try{return z()}finally{f=X}},t.unstable_scheduleCallback=function(L,z,X){var Y=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Y+X:Y):X=Y,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,L={id:c++,callback:z,priorityLevel:L,startTime:X,expirationTime:K,sortIndex:-1},X>Y?(L.sortIndex=X,e(u,L),n(l)===null&&L===n(u)&&(g?(w(T),T=-1):g=!0,H(S,X-Y))):(L.sortIndex=K,e(l,L),m||p||(m=!0,B(E))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var z=f;return function(){var X=f;f=z;try{return L.apply(this,arguments)}finally{f=X}}}})(pN);dN.exports=pN;var _3=dN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w3=M,Hn=_3;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mN=new Set,oh={};function ha(t,e){Pl(t,e),Pl(t+"Capture",e)}function Pl(t,e){for(oh[t]=e,t=0;t<e.length;t++)mN.add(e[t])}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h_=Object.prototype.hasOwnProperty,b3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qS={},KS={};function x3(t){return h_.call(KS,t)?!0:h_.call(qS,t)?!1:b3.test(t)?KS[t]=!0:(qS[t]=!0,!1)}function E3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function T3(t,e,n,r){if(e===null||typeof e>"u"||E3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var O1=/[\-:]([a-z])/g;function I1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(O1,I1);Gt[e]=new xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(O1,I1);Gt[e]=new xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(O1,I1);Gt[e]=new xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new xn(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function C1(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(T3(e,n,i,r)&&(n=null),r||i===null?x3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xi=w3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,md=Symbol.for("react.element"),Ka=Symbol.for("react.portal"),Ga=Symbol.for("react.fragment"),k1=Symbol.for("react.strict_mode"),f_=Symbol.for("react.profiler"),gN=Symbol.for("react.provider"),yN=Symbol.for("react.context"),R1=Symbol.for("react.forward_ref"),d_=Symbol.for("react.suspense"),p_=Symbol.for("react.suspense_list"),j1=Symbol.for("react.memo"),lo=Symbol.for("react.lazy"),vN=Symbol.for("react.offscreen"),GS=Symbol.iterator;function Yu(t){return t===null||typeof t!="object"?null:(t=GS&&t[GS]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Mv;function vc(t){if(Mv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mv=e&&e[1]||""}return`
`+Mv+t}var Dv=!1;function $v(t,e){if(!t||Dv)return"";Dv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Dv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vc(t):""}function S3(t){switch(t.tag){case 5:return vc(t.type);case 16:return vc("Lazy");case 13:return vc("Suspense");case 19:return vc("SuspenseList");case 0:case 2:case 15:return t=$v(t.type,!1),t;case 11:return t=$v(t.type.render,!1),t;case 1:return t=$v(t.type,!0),t;default:return""}}function m_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ga:return"Fragment";case Ka:return"Portal";case f_:return"Profiler";case k1:return"StrictMode";case d_:return"Suspense";case p_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yN:return(t.displayName||"Context")+".Consumer";case gN:return(t._context.displayName||"Context")+".Provider";case R1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j1:return e=t.displayName||null,e!==null?e:m_(t.type)||"Memo";case lo:e=t._payload,t=t._init;try{return m_(t(e))}catch{}}return null}function A3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return m_(e);case 8:return e===k1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _N(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function P3(t){var e=_N(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gd(t){t._valueTracker||(t._valueTracker=P3(t))}function wN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_N(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function g_(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function XS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bN(t,e){e=e.checked,e!=null&&C1(t,"checked",e,!1)}function y_(t,e){bN(t,e);var n=Bo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?v_(t,e.type,n):e.hasOwnProperty("defaultValue")&&v_(t,e.type,Bo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function YS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function v_(t,e,n){(e!=="number"||Cp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _c=Array.isArray;function dl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function __(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function QS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(_c(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bo(n)}}function xN(t,e){var n=Bo(e.value),r=Bo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function JS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function EN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?EN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yd,TN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yd=yd||document.createElement("div"),yd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O3=["Webkit","ms","Moz","O"];Object.keys(kc).forEach(function(t){O3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kc[e]=kc[t]})});function SN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kc.hasOwnProperty(t)&&kc[t]?(""+e).trim():e+"px"}function AN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=SN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var I3=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b_(t,e){if(e){if(I3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function x_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E_=null;function N1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var T_=null,pl=null,ml=null;function ZS(t){if(t=Ef(t)){if(typeof T_!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Vg(e),T_(t.stateNode,t.type,e))}}function PN(t){pl?ml?ml.push(t):ml=[t]:pl=t}function ON(){if(pl){var t=pl,e=ml;if(ml=pl=null,ZS(t),e)for(t=0;t<e.length;t++)ZS(e[t])}}function IN(t,e){return t(e)}function CN(){}var Lv=!1;function kN(t,e,n){if(Lv)return t(e,n);Lv=!0;try{return IN(t,e,n)}finally{Lv=!1,(pl!==null||ml!==null)&&(CN(),ON())}}function ah(t,e){var n=t.stateNode;if(n===null)return null;var r=Vg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var S_=!1;if(Mi)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){S_=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{S_=!1}function C3(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Rc=!1,kp=null,Rp=!1,A_=null,k3={onError:function(t){Rc=!0,kp=t}};function R3(t,e,n,r,i,o,s,a,l){Rc=!1,kp=null,C3.apply(k3,arguments)}function j3(t,e,n,r,i,o,s,a,l){if(R3.apply(this,arguments),Rc){if(Rc){var u=kp;Rc=!1,kp=null}else throw Error(J(198));Rp||(Rp=!0,A_=u)}}function fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function RN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eA(t){if(fa(t)!==t)throw Error(J(188))}function N3(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return eA(i),t;if(o===r)return eA(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function jN(t){return t=N3(t),t!==null?NN(t):null}function NN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NN(t);if(e!==null)return e;t=t.sibling}return null}var MN=Hn.unstable_scheduleCallback,tA=Hn.unstable_cancelCallback,M3=Hn.unstable_shouldYield,D3=Hn.unstable_requestPaint,pt=Hn.unstable_now,$3=Hn.unstable_getCurrentPriorityLevel,M1=Hn.unstable_ImmediatePriority,DN=Hn.unstable_UserBlockingPriority,jp=Hn.unstable_NormalPriority,L3=Hn.unstable_LowPriority,$N=Hn.unstable_IdlePriority,Mg=null,qr=null;function V3(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(Mg,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:B3,F3=Math.log,U3=Math.LN2;function B3(t){return t>>>=0,t===0?32:31-(F3(t)/U3|0)|0}var vd=64,_d=4194304;function wc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Np(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=wc(a):(o&=s,o!==0&&(r=wc(o)))}else s=n&~i,s!==0?r=wc(s):o!==0&&(r=wc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),i=1<<n,r|=t[n],e&=~i;return r}function z3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Nr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=z3(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function P_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function LN(){var t=vd;return vd<<=1,!(vd&4194240)&&(vd=64),t}function Vv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function H3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function D1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function VN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FN,$1,UN,BN,zN,O_=!1,wd=[],Po=null,Oo=null,Io=null,lh=new Map,uh=new Map,po=[],q3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nA(t,e){switch(t){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":lh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function Ju(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ef(e),e!==null&&$1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function K3(t,e,n,r,i){switch(e){case"focusin":return Po=Ju(Po,t,e,n,r,i),!0;case"dragenter":return Oo=Ju(Oo,t,e,n,r,i),!0;case"mouseover":return Io=Ju(Io,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return lh.set(o,Ju(lh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,uh.set(o,Ju(uh.get(o)||null,t,e,n,r,i)),!0}return!1}function WN(t){var e=Rs(t.target);if(e!==null){var n=fa(e);if(n!==null){if(e=n.tag,e===13){if(e=RN(n),e!==null){t.blockedOn=e,zN(t.priority,function(){UN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function up(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=I_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);E_=r,n.target.dispatchEvent(r),E_=null}else return e=Ef(n),e!==null&&$1(e),t.blockedOn=n,!1;e.shift()}return!0}function rA(t,e,n){up(t)&&n.delete(e)}function G3(){O_=!1,Po!==null&&up(Po)&&(Po=null),Oo!==null&&up(Oo)&&(Oo=null),Io!==null&&up(Io)&&(Io=null),lh.forEach(rA),uh.forEach(rA)}function Zu(t,e){t.blockedOn===e&&(t.blockedOn=null,O_||(O_=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,G3)))}function ch(t){function e(i){return Zu(i,t)}if(0<wd.length){Zu(wd[0],t);for(var n=1;n<wd.length;n++){var r=wd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Po!==null&&Zu(Po,t),Oo!==null&&Zu(Oo,t),Io!==null&&Zu(Io,t),lh.forEach(e),uh.forEach(e),n=0;n<po.length;n++)r=po[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<po.length&&(n=po[0],n.blockedOn===null);)WN(n),n.blockedOn===null&&po.shift()}var gl=Xi.ReactCurrentBatchConfig,Mp=!0;function X3(t,e,n,r){var i=$e,o=gl.transition;gl.transition=null;try{$e=1,L1(t,e,n,r)}finally{$e=i,gl.transition=o}}function Y3(t,e,n,r){var i=$e,o=gl.transition;gl.transition=null;try{$e=4,L1(t,e,n,r)}finally{$e=i,gl.transition=o}}function L1(t,e,n,r){if(Mp){var i=I_(t,e,n,r);if(i===null)Xv(t,e,r,Dp,n),nA(t,r);else if(K3(i,t,e,n,r))r.stopPropagation();else if(nA(t,r),e&4&&-1<q3.indexOf(t)){for(;i!==null;){var o=Ef(i);if(o!==null&&FN(o),o=I_(t,e,n,r),o===null&&Xv(t,e,r,Dp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Xv(t,e,r,null,n)}}var Dp=null;function I_(t,e,n,r){if(Dp=null,t=N1(r),t=Rs(t),t!==null)if(e=fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=RN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dp=t,null}function HN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($3()){case M1:return 1;case DN:return 4;case jp:case L3:return 16;case $N:return 536870912;default:return 16}default:return 16}}var xo=null,V1=null,cp=null;function qN(){if(cp)return cp;var t,e=V1,n=e.length,r,i="value"in xo?xo.value:xo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return cp=i.slice(t,1<r?1-r:void 0)}function hp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bd(){return!0}function iA(){return!1}function Xn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bd:iA,this.isPropagationStopped=iA,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),e}var du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F1=Xn(du),xf=ot({},du,{view:0,detail:0}),Q3=Xn(xf),Fv,Uv,ec,Dg=ot({},xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ec&&(ec&&t.type==="mousemove"?(Fv=t.screenX-ec.screenX,Uv=t.screenY-ec.screenY):Uv=Fv=0,ec=t),Fv)},movementY:function(t){return"movementY"in t?t.movementY:Uv}}),oA=Xn(Dg),J3=ot({},Dg,{dataTransfer:0}),Z3=Xn(J3),e6=ot({},xf,{relatedTarget:0}),Bv=Xn(e6),t6=ot({},du,{animationName:0,elapsedTime:0,pseudoElement:0}),n6=Xn(t6),r6=ot({},du,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i6=Xn(r6),o6=ot({},du,{data:0}),sA=Xn(o6),s6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=l6[t])?!!e[t]:!1}function U1(){return u6}var c6=ot({},xf,{key:function(t){if(t.key){var e=s6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U1,charCode:function(t){return t.type==="keypress"?hp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h6=Xn(c6),f6=ot({},Dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aA=Xn(f6),d6=ot({},xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U1}),p6=Xn(d6),m6=ot({},du,{propertyName:0,elapsedTime:0,pseudoElement:0}),g6=Xn(m6),y6=ot({},Dg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v6=Xn(y6),_6=[9,13,27,32],B1=Mi&&"CompositionEvent"in window,jc=null;Mi&&"documentMode"in document&&(jc=document.documentMode);var w6=Mi&&"TextEvent"in window&&!jc,KN=Mi&&(!B1||jc&&8<jc&&11>=jc),lA=" ",uA=!1;function GN(t,e){switch(t){case"keyup":return _6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function b6(t,e){switch(t){case"compositionend":return XN(e);case"keypress":return e.which!==32?null:(uA=!0,lA);case"textInput":return t=e.data,t===lA&&uA?null:t;default:return null}}function x6(t,e){if(Xa)return t==="compositionend"||!B1&&GN(t,e)?(t=qN(),cp=V1=xo=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KN&&e.locale!=="ko"?null:e.data;default:return null}}var E6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E6[t.type]:e==="textarea"}function YN(t,e,n,r){PN(r),e=$p(e,"onChange"),0<e.length&&(n=new F1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nc=null,hh=null;function T6(t){a2(t,0)}function $g(t){var e=Ja(t);if(wN(e))return t}function S6(t,e){if(t==="change")return e}var QN=!1;if(Mi){var zv;if(Mi){var Wv="oninput"in document;if(!Wv){var hA=document.createElement("div");hA.setAttribute("oninput","return;"),Wv=typeof hA.oninput=="function"}zv=Wv}else zv=!1;QN=zv&&(!document.documentMode||9<document.documentMode)}function fA(){Nc&&(Nc.detachEvent("onpropertychange",JN),hh=Nc=null)}function JN(t){if(t.propertyName==="value"&&$g(hh)){var e=[];YN(e,hh,t,N1(t)),kN(T6,e)}}function A6(t,e,n){t==="focusin"?(fA(),Nc=e,hh=n,Nc.attachEvent("onpropertychange",JN)):t==="focusout"&&fA()}function P6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $g(hh)}function O6(t,e){if(t==="click")return $g(e)}function I6(t,e){if(t==="input"||t==="change")return $g(e)}function C6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:C6;function fh(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h_.call(e,i)||!Dr(t[i],e[i]))return!1}return!0}function dA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pA(t,e){var n=dA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dA(n)}}function ZN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e2(){for(var t=window,e=Cp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cp(t.document)}return e}function z1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k6(t){var e=e2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ZN(n.ownerDocument.documentElement,n)){if(r!==null&&z1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=pA(n,o);var s=pA(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var R6=Mi&&"documentMode"in document&&11>=document.documentMode,Ya=null,C_=null,Mc=null,k_=!1;function mA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;k_||Ya==null||Ya!==Cp(r)||(r=Ya,"selectionStart"in r&&z1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mc&&fh(Mc,r)||(Mc=r,r=$p(C_,"onSelect"),0<r.length&&(e=new F1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ya)))}function xd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qa={animationend:xd("Animation","AnimationEnd"),animationiteration:xd("Animation","AnimationIteration"),animationstart:xd("Animation","AnimationStart"),transitionend:xd("Transition","TransitionEnd")},Hv={},t2={};Mi&&(t2=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Lg(t){if(Hv[t])return Hv[t];if(!Qa[t])return t;var e=Qa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in t2)return Hv[t]=e[n];return t}var n2=Lg("animationend"),r2=Lg("animationiteration"),i2=Lg("animationstart"),o2=Lg("transitionend"),s2=new Map,gA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,e){s2.set(t,e),ha(e,[t])}for(var qv=0;qv<gA.length;qv++){var Kv=gA[qv],j6=Kv.toLowerCase(),N6=Kv[0].toUpperCase()+Kv.slice(1);es(j6,"on"+N6)}es(n2,"onAnimationEnd");es(r2,"onAnimationIteration");es(i2,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(o2,"onTransitionEnd");Pl("onMouseEnter",["mouseout","mouseover"]);Pl("onMouseLeave",["mouseout","mouseover"]);Pl("onPointerEnter",["pointerout","pointerover"]);Pl("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M6=new Set("cancel close invalid load scroll toggle".split(" ").concat(bc));function yA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,j3(r,e,void 0,t),t.currentTarget=null}function a2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;yA(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;yA(i,a,u),o=l}}}if(Rp)throw t=A_,Rp=!1,A_=null,t}function Xe(t,e){var n=e[D_];n===void 0&&(n=e[D_]=new Set);var r=t+"__bubble";n.has(r)||(l2(e,t,2,!1),n.add(r))}function Gv(t,e,n){var r=0;e&&(r|=4),l2(n,t,r,e)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function dh(t){if(!t[Ed]){t[Ed]=!0,mN.forEach(function(n){n!=="selectionchange"&&(M6.has(n)||Gv(n,!1,t),Gv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ed]||(e[Ed]=!0,Gv("selectionchange",!1,e))}}function l2(t,e,n,r){switch(HN(e)){case 1:var i=X3;break;case 4:i=Y3;break;default:i=L1}n=i.bind(null,e,n,t),i=void 0,!S_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Rs(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}kN(function(){var u=o,c=N1(n),h=[];e:{var f=s2.get(t);if(f!==void 0){var p=F1,m=t;switch(t){case"keypress":if(hp(n)===0)break e;case"keydown":case"keyup":p=h6;break;case"focusin":m="focus",p=Bv;break;case"focusout":m="blur",p=Bv;break;case"beforeblur":case"afterblur":p=Bv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Z3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=p6;break;case n2:case r2:case i2:p=n6;break;case o2:p=g6;break;case"scroll":p=Q3;break;case"wheel":p=v6;break;case"copy":case"cut":case"paste":p=i6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=aA}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?f!==null?f+"Capture":null:f;g=[];for(var _=u,v;_!==null;){v=_;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,w!==null&&(S=ah(_,w),S!=null&&g.push(ph(_,S,v)))),y)break;_=_.return}0<g.length&&(f=new p(f,m,null,n,c),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==E_&&(m=n.relatedTarget||n.fromElement)&&(Rs(m)||m[Di]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Rs(m):null,m!==null&&(y=fa(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=oA,S="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=aA,S="onPointerLeave",w="onPointerEnter",_="pointer"),y=p==null?f:Ja(p),v=m==null?f:Ja(m),f=new g(S,_+"leave",p,n,c),f.target=y,f.relatedTarget=v,S=null,Rs(c)===u&&(g=new g(w,_+"enter",m,n,c),g.target=v,g.relatedTarget=y,S=g),y=S,p&&m)t:{for(g=p,w=m,_=0,v=g;v;v=ja(v))_++;for(v=0,S=w;S;S=ja(S))v++;for(;0<_-v;)g=ja(g),_--;for(;0<v-_;)w=ja(w),v--;for(;_--;){if(g===w||w!==null&&g===w.alternate)break t;g=ja(g),w=ja(w)}g=null}else g=null;p!==null&&vA(h,f,p,g,!1),m!==null&&y!==null&&vA(h,y,m,g,!0)}}e:{if(f=u?Ja(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=S6;else if(cA(f))if(QN)E=I6;else{E=P6;var A=A6}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=O6);if(E&&(E=E(t,u))){YN(h,E,n,c);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&v_(f,"number",f.value)}switch(A=u?Ja(u):window,t){case"focusin":(cA(A)||A.contentEditable==="true")&&(Ya=A,C_=u,Mc=null);break;case"focusout":Mc=C_=Ya=null;break;case"mousedown":k_=!0;break;case"contextmenu":case"mouseup":case"dragend":k_=!1,mA(h,n,c);break;case"selectionchange":if(R6)break;case"keydown":case"keyup":mA(h,n,c)}var x;if(B1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Xa?GN(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(KN&&n.locale!=="ko"&&(Xa||T!=="onCompositionStart"?T==="onCompositionEnd"&&Xa&&(x=qN()):(xo=c,V1="value"in xo?xo.value:xo.textContent,Xa=!0)),A=$p(u,T),0<A.length&&(T=new sA(T,t,null,n,c),h.push({event:T,listeners:A}),x?T.data=x:(x=XN(n),x!==null&&(T.data=x)))),(x=w6?b6(t,n):x6(t,n))&&(u=$p(u,"onBeforeInput"),0<u.length&&(c=new sA("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=x))}a2(h,e)})}function ph(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $p(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ah(t,n),o!=null&&r.unshift(ph(t,o,i)),o=ah(t,e),o!=null&&r.push(ph(t,o,i))),t=t.return}return r}function ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vA(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ah(n,o),l!=null&&s.unshift(ph(n,l,a))):i||(l=ah(n,o),l!=null&&s.push(ph(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var D6=/\r\n?/g,$6=/\u0000|\uFFFD/g;function _A(t){return(typeof t=="string"?t:""+t).replace(D6,`
`).replace($6,"")}function Td(t,e,n){if(e=_A(e),_A(t)!==e&&n)throw Error(J(425))}function Lp(){}var R_=null,j_=null;function N_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var M_=typeof setTimeout=="function"?setTimeout:void 0,L6=typeof clearTimeout=="function"?clearTimeout:void 0,wA=typeof Promise=="function"?Promise:void 0,V6=typeof queueMicrotask=="function"?queueMicrotask:typeof wA<"u"?function(t){return wA.resolve(null).then(t).catch(F6)}:M_;function F6(t){setTimeout(function(){throw t})}function Yv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ch(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ch(e)}function Co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pu=Math.random().toString(36).slice(2),Wr="__reactFiber$"+pu,mh="__reactProps$"+pu,Di="__reactContainer$"+pu,D_="__reactEvents$"+pu,U6="__reactListeners$"+pu,B6="__reactHandles$"+pu;function Rs(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Di]||n[Wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bA(t);t!==null;){if(n=t[Wr])return n;t=bA(t)}return e}t=n,n=t.parentNode}return null}function Ef(t){return t=t[Wr]||t[Di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Vg(t){return t[mh]||null}var $_=[],Za=-1;function ts(t){return{current:t}}function Je(t){0>Za||(t.current=$_[Za],$_[Za]=null,Za--)}function qe(t,e){Za++,$_[Za]=t.current,t.current=e}var zo={},dn=ts(zo),In=ts(!1),Xs=zo;function Ol(t,e){var n=t.type.contextTypes;if(!n)return zo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function Vp(){Je(In),Je(dn)}function xA(t,e,n){if(dn.current!==zo)throw Error(J(168));qe(dn,e),qe(In,n)}function u2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,A3(t)||"Unknown",i));return ot({},n,r)}function Fp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zo,Xs=dn.current,qe(dn,t),qe(In,In.current),!0}function EA(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=u2(t,e,Xs),r.__reactInternalMemoizedMergedChildContext=t,Je(In),Je(dn),qe(dn,t)):Je(In),qe(In,n)}var yi=null,Fg=!1,Qv=!1;function c2(t){yi===null?yi=[t]:yi.push(t)}function z6(t){Fg=!0,c2(t)}function ns(){if(!Qv&&yi!==null){Qv=!0;var t=0,e=$e;try{var n=yi;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yi=null,Fg=!1}catch(i){throw yi!==null&&(yi=yi.slice(t+1)),MN(M1,ns),i}finally{$e=e,Qv=!1}}return null}var el=[],tl=0,Up=null,Bp=0,tr=[],nr=0,Ys=null,vi=1,_i="";function bs(t,e){el[tl++]=Bp,el[tl++]=Up,Up=t,Bp=e}function h2(t,e,n){tr[nr++]=vi,tr[nr++]=_i,tr[nr++]=Ys,Ys=t;var r=vi;t=_i;var i=32-Nr(r)-1;r&=~(1<<i),n+=1;var o=32-Nr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,vi=1<<32-Nr(e)+i|n<<i|r,_i=o+t}else vi=1<<o|n<<i|r,_i=t}function W1(t){t.return!==null&&(bs(t,1),h2(t,1,0))}function H1(t){for(;t===Up;)Up=el[--tl],el[tl]=null,Bp=el[--tl],el[tl]=null;for(;t===Ys;)Ys=tr[--nr],tr[nr]=null,_i=tr[--nr],tr[nr]=null,vi=tr[--nr],tr[nr]=null}var Wn=null,zn=null,Ze=!1,Ar=null;function f2(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function TA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,zn=Co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ys!==null?{id:vi,overflow:_i}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,zn=null,!0):!1;default:return!1}}function L_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function V_(t){if(Ze){var e=zn;if(e){var n=e;if(!TA(t,e)){if(L_(t))throw Error(J(418));e=Co(n.nextSibling);var r=Wn;e&&TA(t,e)?f2(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Wn=t)}}else{if(L_(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ze=!1,Wn=t}}}function SA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function Sd(t){if(t!==Wn)return!1;if(!Ze)return SA(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!N_(t.type,t.memoizedProps)),e&&(e=zn)){if(L_(t))throw d2(),Error(J(418));for(;e;)f2(t,e),e=Co(e.nextSibling)}if(SA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=Co(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=Wn?Co(t.stateNode.nextSibling):null;return!0}function d2(){for(var t=zn;t;)t=Co(t.nextSibling)}function Il(){zn=Wn=null,Ze=!1}function q1(t){Ar===null?Ar=[t]:Ar.push(t)}var W6=Xi.ReactCurrentBatchConfig;function tc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Ad(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AA(t){var e=t._init;return e(t._payload)}function p2(t){function e(w,_){if(t){var v=w.deletions;v===null?(w.deletions=[_],w.flags|=16):v.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=No(w,_),w.index=0,w.sibling=null,w}function o(w,_,v){return w.index=v,t?(v=w.alternate,v!==null?(v=v.index,v<_?(w.flags|=2,_):v):(w.flags|=2,_)):(w.flags|=1048576,_)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,v,S){return _===null||_.tag!==6?(_=i0(v,w.mode,S),_.return=w,_):(_=i(_,v),_.return=w,_)}function l(w,_,v,S){var E=v.type;return E===Ga?c(w,_,v.props.children,S,v.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===lo&&AA(E)===_.type)?(S=i(_,v.props),S.ref=tc(w,_,v),S.return=w,S):(S=vp(v.type,v.key,v.props,null,w.mode,S),S.ref=tc(w,_,v),S.return=w,S)}function u(w,_,v,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=o0(v,w.mode,S),_.return=w,_):(_=i(_,v.children||[]),_.return=w,_)}function c(w,_,v,S,E){return _===null||_.tag!==7?(_=Bs(v,w.mode,S,E),_.return=w,_):(_=i(_,v),_.return=w,_)}function h(w,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=i0(""+_,w.mode,v),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case md:return v=vp(_.type,_.key,_.props,null,w.mode,v),v.ref=tc(w,null,_),v.return=w,v;case Ka:return _=o0(_,w.mode,v),_.return=w,_;case lo:var S=_._init;return h(w,S(_._payload),v)}if(_c(_)||Yu(_))return _=Bs(_,w.mode,v,null),_.return=w,_;Ad(w,_)}return null}function f(w,_,v,S){var E=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(w,_,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case md:return v.key===E?l(w,_,v,S):null;case Ka:return v.key===E?u(w,_,v,S):null;case lo:return E=v._init,f(w,_,E(v._payload),S)}if(_c(v)||Yu(v))return E!==null?null:c(w,_,v,S,null);Ad(w,v)}return null}function p(w,_,v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(v)||null,a(_,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case md:return w=w.get(S.key===null?v:S.key)||null,l(_,w,S,E);case Ka:return w=w.get(S.key===null?v:S.key)||null,u(_,w,S,E);case lo:var A=S._init;return p(w,_,v,A(S._payload),E)}if(_c(S)||Yu(S))return w=w.get(v)||null,c(_,w,S,E,null);Ad(_,S)}return null}function m(w,_,v,S){for(var E=null,A=null,x=_,T=_=0,I=null;x!==null&&T<v.length;T++){x.index>T?(I=x,x=null):I=x.sibling;var k=f(w,x,v[T],S);if(k===null){x===null&&(x=I);break}t&&x&&k.alternate===null&&e(w,x),_=o(k,_,T),A===null?E=k:A.sibling=k,A=k,x=I}if(T===v.length)return n(w,x),Ze&&bs(w,T),E;if(x===null){for(;T<v.length;T++)x=h(w,v[T],S),x!==null&&(_=o(x,_,T),A===null?E=x:A.sibling=x,A=x);return Ze&&bs(w,T),E}for(x=r(w,x);T<v.length;T++)I=p(x,w,T,v[T],S),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?T:I.key),_=o(I,_,T),A===null?E=I:A.sibling=I,A=I);return t&&x.forEach(function(C){return e(w,C)}),Ze&&bs(w,T),E}function g(w,_,v,S){var E=Yu(v);if(typeof E!="function")throw Error(J(150));if(v=E.call(v),v==null)throw Error(J(151));for(var A=E=null,x=_,T=_=0,I=null,k=v.next();x!==null&&!k.done;T++,k=v.next()){x.index>T?(I=x,x=null):I=x.sibling;var C=f(w,x,k.value,S);if(C===null){x===null&&(x=I);break}t&&x&&C.alternate===null&&e(w,x),_=o(C,_,T),A===null?E=C:A.sibling=C,A=C,x=I}if(k.done)return n(w,x),Ze&&bs(w,T),E;if(x===null){for(;!k.done;T++,k=v.next())k=h(w,k.value,S),k!==null&&(_=o(k,_,T),A===null?E=k:A.sibling=k,A=k);return Ze&&bs(w,T),E}for(x=r(w,x);!k.done;T++,k=v.next())k=p(x,w,T,k.value,S),k!==null&&(t&&k.alternate!==null&&x.delete(k.key===null?T:k.key),_=o(k,_,T),A===null?E=k:A.sibling=k,A=k);return t&&x.forEach(function(j){return e(w,j)}),Ze&&bs(w,T),E}function y(w,_,v,S){if(typeof v=="object"&&v!==null&&v.type===Ga&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case md:e:{for(var E=v.key,A=_;A!==null;){if(A.key===E){if(E=v.type,E===Ga){if(A.tag===7){n(w,A.sibling),_=i(A,v.props.children),_.return=w,w=_;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===lo&&AA(E)===A.type){n(w,A.sibling),_=i(A,v.props),_.ref=tc(w,A,v),_.return=w,w=_;break e}n(w,A);break}else e(w,A);A=A.sibling}v.type===Ga?(_=Bs(v.props.children,w.mode,S,v.key),_.return=w,w=_):(S=vp(v.type,v.key,v.props,null,w.mode,S),S.ref=tc(w,_,v),S.return=w,w=S)}return s(w);case Ka:e:{for(A=v.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(w,_.sibling),_=i(_,v.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=o0(v,w.mode,S),_.return=w,w=_}return s(w);case lo:return A=v._init,y(w,_,A(v._payload),S)}if(_c(v))return m(w,_,v,S);if(Yu(v))return g(w,_,v,S);Ad(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,v),_.return=w,w=_):(n(w,_),_=i0(v,w.mode,S),_.return=w,w=_),s(w)):n(w,_)}return y}var Cl=p2(!0),m2=p2(!1),zp=ts(null),Wp=null,nl=null,K1=null;function G1(){K1=nl=Wp=null}function X1(t){var e=zp.current;Je(zp),t._currentValue=e}function F_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yl(t,e){Wp=t,K1=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function hr(t){var e=t._currentValue;if(K1!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Wp===null)throw Error(J(308));nl=t,Wp.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var js=null;function Y1(t){js===null?js=[t]:js.push(t)}function g2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Y1(e)):(n.next=i.next,i.next=n),e.interleaved=n,$i(t,r)}function $i(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var uo=!1;function Q1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ko(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$i(t,n)}return i=r.interleaved,i===null?(e.next=e,Y1(r)):(e.next=i.next,i.next=e),r.interleaved=e,$i(t,n)}function fp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,D1(t,n)}}function PA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hp(t,e,n,r){var i=t.updateQueue;uo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=ot({},h,f);break e;case 2:uo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Js|=s,t.lanes=s,t.memoizedState=h}}function OA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Tf={},Kr=ts(Tf),gh=ts(Tf),yh=ts(Tf);function Ns(t){if(t===Tf)throw Error(J(174));return t}function J1(t,e){switch(qe(yh,e),qe(gh,t),qe(Kr,Tf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:w_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=w_(e,t)}Je(Kr),qe(Kr,e)}function kl(){Je(Kr),Je(gh),Je(yh)}function v2(t){Ns(yh.current);var e=Ns(Kr.current),n=w_(e,t.type);e!==n&&(qe(gh,t),qe(Kr,n))}function Z1(t){gh.current===t&&(Je(Kr),Je(gh))}var nt=ts(0);function qp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jv=[];function ex(){for(var t=0;t<Jv.length;t++)Jv[t]._workInProgressVersionPrimary=null;Jv.length=0}var dp=Xi.ReactCurrentDispatcher,Zv=Xi.ReactCurrentBatchConfig,Qs=0,it=null,St=null,Dt=null,Kp=!1,Dc=!1,vh=0,H6=0;function en(){throw Error(J(321))}function tx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dr(t[n],e[n]))return!1;return!0}function nx(t,e,n,r,i,o){if(Qs=o,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dp.current=t===null||t.memoizedState===null?X6:Y6,t=n(r,i),Dc){o=0;do{if(Dc=!1,vh=0,25<=o)throw Error(J(301));o+=1,Dt=St=null,e.updateQueue=null,dp.current=Q6,t=n(r,i)}while(Dc)}if(dp.current=Gp,e=St!==null&&St.next!==null,Qs=0,Dt=St=it=null,Kp=!1,e)throw Error(J(300));return t}function rx(){var t=vh!==0;return vh=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?it.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function fr(){if(St===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Dt===null?it.memoizedState:Dt.next;if(e!==null)Dt=e,St=t;else{if(t===null)throw Error(J(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Dt===null?it.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function _h(t,e){return typeof e=="function"?e(t):e}function e0(t){var e=fr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=St,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Qs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,it.lanes|=c,Js|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Dr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,it.lanes|=o,Js|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function t0(t){var e=fr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Dr(o,e.memoizedState)||(Pn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function _2(){}function w2(t,e){var n=it,r=fr(),i=e(),o=!Dr(r.memoizedState,i);if(o&&(r.memoizedState=i,Pn=!0),r=r.queue,ix(E2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,wh(9,x2.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(J(349));Qs&30||b2(n,e,i)}return i}function b2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function x2(t,e,n,r){e.value=n,e.getSnapshot=r,T2(e)&&S2(t)}function E2(t,e,n){return n(function(){T2(e)&&S2(t)})}function T2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dr(t,n)}catch{return!0}}function S2(t){var e=$i(t,1);e!==null&&Mr(e,t,1,-1)}function IA(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:t},e.queue=t,t=t.dispatch=G6.bind(null,it,t),[e.memoizedState,t]}function wh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function A2(){return fr().memoizedState}function pp(t,e,n,r){var i=Br();it.flags|=t,i.memoizedState=wh(1|e,n,void 0,r===void 0?null:r)}function Ug(t,e,n,r){var i=fr();r=r===void 0?null:r;var o=void 0;if(St!==null){var s=St.memoizedState;if(o=s.destroy,r!==null&&tx(r,s.deps)){i.memoizedState=wh(e,n,o,r);return}}it.flags|=t,i.memoizedState=wh(1|e,n,o,r)}function CA(t,e){return pp(8390656,8,t,e)}function ix(t,e){return Ug(2048,8,t,e)}function P2(t,e){return Ug(4,2,t,e)}function O2(t,e){return Ug(4,4,t,e)}function I2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function C2(t,e,n){return n=n!=null?n.concat([t]):null,Ug(4,4,I2.bind(null,e,t),n)}function ox(){}function k2(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function R2(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function j2(t,e,n){return Qs&21?(Dr(n,e)||(n=LN(),it.lanes|=n,Js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function q6(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=Zv.transition;Zv.transition={};try{t(!1),e()}finally{$e=n,Zv.transition=r}}function N2(){return fr().memoizedState}function K6(t,e,n){var r=jo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},M2(t))D2(e,n);else if(n=g2(t,e,n,r),n!==null){var i=wn();Mr(n,t,r,i),$2(n,e,r)}}function G6(t,e,n){var r=jo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(M2(t))D2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Dr(a,s)){var l=e.interleaved;l===null?(i.next=i,Y1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=g2(t,e,i,r),n!==null&&(i=wn(),Mr(n,t,r,i),$2(n,e,r))}}function M2(t){var e=t.alternate;return t===it||e!==null&&e===it}function D2(t,e){Dc=Kp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,D1(t,n)}}var Gp={readContext:hr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},X6={readContext:hr,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:hr,useEffect:CA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pp(4194308,4,I2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pp(4194308,4,t,e)},useInsertionEffect:function(t,e){return pp(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=K6.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:IA,useDebugValue:ox,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=IA(!1),e=t[0];return t=q6.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,i=Br();if(Ze){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),$t===null)throw Error(J(349));Qs&30||b2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,CA(E2.bind(null,r,o,t),[t]),r.flags|=2048,wh(9,x2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Br(),e=$t.identifierPrefix;if(Ze){var n=_i,r=vi;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=H6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Y6={readContext:hr,useCallback:k2,useContext:hr,useEffect:ix,useImperativeHandle:C2,useInsertionEffect:P2,useLayoutEffect:O2,useMemo:R2,useReducer:e0,useRef:A2,useState:function(){return e0(_h)},useDebugValue:ox,useDeferredValue:function(t){var e=fr();return j2(e,St.memoizedState,t)},useTransition:function(){var t=e0(_h)[0],e=fr().memoizedState;return[t,e]},useMutableSource:_2,useSyncExternalStore:w2,useId:N2,unstable_isNewReconciler:!1},Q6={readContext:hr,useCallback:k2,useContext:hr,useEffect:ix,useImperativeHandle:C2,useInsertionEffect:P2,useLayoutEffect:O2,useMemo:R2,useReducer:t0,useRef:A2,useState:function(){return t0(_h)},useDebugValue:ox,useDeferredValue:function(t){var e=fr();return St===null?e.memoizedState=t:j2(e,St.memoizedState,t)},useTransition:function(){var t=t0(_h)[0],e=fr().memoizedState;return[t,e]},useMutableSource:_2,useSyncExternalStore:w2,useId:N2,unstable_isNewReconciler:!1};function wr(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function U_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bg={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wn(),i=jo(t),o=Ai(r,i);o.payload=e,n!=null&&(o.callback=n),e=ko(t,o,i),e!==null&&(Mr(e,t,i,r),fp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wn(),i=jo(t),o=Ai(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ko(t,o,i),e!==null&&(Mr(e,t,i,r),fp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wn(),r=jo(t),i=Ai(n,r);i.tag=2,e!=null&&(i.callback=e),e=ko(t,i,r),e!==null&&(Mr(e,t,r,n),fp(e,t,r))}};function kA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!fh(n,r)||!fh(i,o):!0}function L2(t,e,n){var r=!1,i=zo,o=e.contextType;return typeof o=="object"&&o!==null?o=hr(o):(i=Cn(e)?Xs:dn.current,r=e.contextTypes,o=(r=r!=null)?Ol(t,i):zo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function RA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bg.enqueueReplaceState(e,e.state,null)}function B_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Q1(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=hr(o):(o=Cn(e)?Xs:dn.current,i.context=Ol(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(U_(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bg.enqueueReplaceState(i,i.state,null),Hp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Rl(t,e){try{var n="",r=e;do n+=S3(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function n0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function z_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var J6=typeof WeakMap=="function"?WeakMap:Map;function V2(t,e,n){n=Ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yp||(Yp=!0,Z_=r),z_(t,e)},n}function F2(t,e,n){n=Ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){z_(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){z_(t,e),typeof r!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function jA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new J6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=f5.bind(null,t,e,n),e.then(t,t))}function NA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function MA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ai(-1,1),e.tag=2,ko(n,e,1))),n.lanes|=1),t)}var Z6=Xi.ReactCurrentOwner,Pn=!1;function vn(t,e,n,r){e.child=t===null?m2(e,null,n,r):Cl(e,t.child,n,r)}function DA(t,e,n,r,i){n=n.render;var o=e.ref;return yl(e,i),r=nx(t,e,n,r,o,i),n=rx(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Li(t,e,i)):(Ze&&n&&W1(e),e.flags|=1,vn(t,e,r,i),e.child)}function $A(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!dx(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,U2(t,e,o,r,i)):(t=vp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:fh,n(s,r)&&t.ref===e.ref)return Li(t,e,i)}return e.flags|=1,t=No(o,r),t.ref=e.ref,t.return=e,e.child=t}function U2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(fh(o,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,Li(t,e,i)}return W_(t,e,n,r,i)}function B2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(il,Vn),Vn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(il,Vn),Vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qe(il,Vn),Vn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,qe(il,Vn),Vn|=r;return vn(t,e,i,n),e.child}function z2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function W_(t,e,n,r,i){var o=Cn(n)?Xs:dn.current;return o=Ol(e,o),yl(e,i),n=nx(t,e,n,r,o,i),r=rx(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Li(t,e,i)):(Ze&&r&&W1(e),e.flags|=1,vn(t,e,n,i),e.child)}function LA(t,e,n,r,i){if(Cn(n)){var o=!0;Fp(e)}else o=!1;if(yl(e,i),e.stateNode===null)mp(t,e),L2(e,n,r),B_(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Cn(n)?Xs:dn.current,u=Ol(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&RA(e,s,r,u),uo=!1;var f=e.memoizedState;s.state=f,Hp(e,r,s,i),l=e.memoizedState,a!==r||f!==l||In.current||uo?(typeof c=="function"&&(U_(e,n,c,r),l=e.memoizedState),(a=uo||kA(e,n,a,r,f,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,y2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wr(e.type,a),s.props=u,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=hr(l):(l=Cn(n)?Xs:dn.current,l=Ol(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&RA(e,s,r,l),uo=!1,f=e.memoizedState,s.state=f,Hp(e,r,s,i);var m=e.memoizedState;a!==h||f!==m||In.current||uo?(typeof p=="function"&&(U_(e,n,p,r),m=e.memoizedState),(u=uo||kA(e,n,u,r,f,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return H_(t,e,n,r,o,i)}function H_(t,e,n,r,i,o){z2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&EA(e,n,!1),Li(t,e,o);r=e.stateNode,Z6.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Cl(e,t.child,null,o),e.child=Cl(e,null,a,o)):vn(t,e,a,o),e.memoizedState=r.state,i&&EA(e,n,!0),e.child}function W2(t){var e=t.stateNode;e.pendingContext?xA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xA(t,e.context,!1),J1(t,e.containerInfo)}function VA(t,e,n,r,i){return Il(),q1(i),e.flags|=256,vn(t,e,n,r),e.child}var q_={dehydrated:null,treeContext:null,retryLane:0};function K_(t){return{baseLanes:t,cachePool:null,transitions:null}}function H2(t,e,n){var r=e.pendingProps,i=nt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(nt,i&1),t===null)return V_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Hg(s,r,0,null),t=Bs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=K_(n),e.memoizedState=q_,t):sx(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return e5(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=No(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=No(a,o):(o=Bs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?K_(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=q_,r}return o=t.child,t=o.sibling,r=No(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sx(t,e){return e=Hg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pd(t,e,n,r){return r!==null&&q1(r),Cl(e,t.child,null,n),t=sx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function e5(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=n0(Error(J(422))),Pd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Hg({mode:"visible",children:r.children},i,0,null),o=Bs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Cl(e,t.child,null,s),e.child.memoizedState=K_(s),e.memoizedState=q_,o);if(!(e.mode&1))return Pd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(J(419)),r=n0(o,r,void 0),Pd(t,e,s,r)}if(a=(s&t.childLanes)!==0,Pn||a){if(r=$t,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,$i(t,i),Mr(r,t,i,-1))}return fx(),r=n0(Error(J(421))),Pd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=d5.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,zn=Co(i.nextSibling),Wn=e,Ze=!0,Ar=null,t!==null&&(tr[nr++]=vi,tr[nr++]=_i,tr[nr++]=Ys,vi=t.id,_i=t.overflow,Ys=e),e=sx(e,r.children),e.flags|=4096,e)}function FA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),F_(t.return,e,n)}function r0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function q2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(vn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FA(t,n,e);else if(t.tag===19)FA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&qp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),r0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}r0(e,!0,n,null,o);break;case"together":r0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=No(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=No(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function t5(t,e,n){switch(e.tag){case 3:W2(e),Il();break;case 5:v2(e);break;case 1:Cn(e.type)&&Fp(e);break;case 4:J1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(zp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?H2(t,e,n):(qe(nt,nt.current&1),t=Li(t,e,n),t!==null?t.sibling:null);qe(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return q2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,B2(t,e,n)}return Li(t,e,n)}var K2,G_,G2,X2;K2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};G_=function(){};G2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ns(Kr.current);var o=null;switch(n){case"input":i=g_(t,i),r=g_(t,r),o=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":i=__(t,i),r=__(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lp)}b_(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oh.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};X2=function(t,e,n,r){n!==r&&(e.flags|=4)};function nc(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function n5(t,e,n){var r=e.pendingProps;switch(H1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return Cn(e.type)&&Vp(),tn(e),null;case 3:return r=e.stateNode,kl(),Je(In),Je(dn),ex(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(nw(Ar),Ar=null))),G_(t,e),tn(e),null;case 5:Z1(e);var i=Ns(yh.current);if(n=e.type,t!==null&&e.stateNode!=null)G2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return tn(e),null}if(t=Ns(Kr.current),Sd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Wr]=e,r[mh]=o,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<bc.length;i++)Xe(bc[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":XS(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":QS(r,o),Xe("invalid",r)}b_(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Td(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Td(r.textContent,a,t),i=["children",""+a]):oh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Xe("scroll",r)}switch(n){case"input":gd(r),YS(r,o,!0);break;case"textarea":gd(r),JS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Lp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=EN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Wr]=e,t[mh]=r,K2(t,e,!1,!1),e.stateNode=t;e:{switch(s=x_(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<bc.length;i++)Xe(bc[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":XS(t,r),i=g_(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":QS(t,r),i=__(t,r),Xe("invalid",t);break;default:i=r}b_(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?AN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sh(t,l):typeof l=="number"&&sh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(oh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Xe("scroll",t):l!=null&&C1(t,o,l,s))}switch(n){case"input":gd(t),YS(t,r,!1);break;case"textarea":gd(t),JS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?dl(t,!!r.multiple,o,!1):r.defaultValue!=null&&dl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)X2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Ns(yh.current),Ns(Kr.current),Sd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,(o=r.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:Td(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Td(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=e,e.stateNode=r}return tn(e),null;case 13:if(Je(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&zn!==null&&e.mode&1&&!(e.flags&128))d2(),Il(),e.flags|=98560,o=!1;else if(o=Sd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Wr]=e}else Il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),o=!1}else Ar!==null&&(nw(Ar),Ar=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?Pt===0&&(Pt=3):fx())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return kl(),G_(t,e),t===null&&dh(e.stateNode.containerInfo),tn(e),null;case 10:return X1(e.type._context),tn(e),null;case 17:return Cn(e.type)&&Vp(),tn(e),null;case 19:if(Je(nt),o=e.memoizedState,o===null)return tn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)nc(o,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=qp(t),s!==null){for(e.flags|=128,nc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(nt,nt.current&1|2),e.child}t=t.sibling}o.tail!==null&&pt()>jl&&(e.flags|=128,r=!0,nc(o,!1),e.lanes=4194304)}else{if(!r)if(t=qp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ze)return tn(e),null}else 2*pt()-o.renderingStartTime>jl&&n!==1073741824&&(e.flags|=128,r=!0,nc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pt(),e.sibling=null,n=nt.current,qe(nt,r?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return hx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vn&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function r5(t,e){switch(H1(e),e.tag){case 1:return Cn(e.type)&&Vp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kl(),Je(In),Je(dn),ex(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Z1(e),null;case 13:if(Je(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(nt),null;case 4:return kl(),null;case 10:return X1(e.type._context),null;case 22:case 23:return hx(),null;case 24:return null;default:return null}}var Od=!1,ln=!1,i5=typeof WeakSet=="function"?WeakSet:Set,ie=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function X_(t,e,n){try{n()}catch(r){ut(t,e,r)}}var UA=!1;function o5(t,e){if(R_=Mp,t=e2(),z1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(j_={focusedElem:t,selectionRange:n},Mp=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:wr(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(S){ut(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return m=UA,UA=!1,m}function $c(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&X_(e,n,o)}i=i.next}while(i!==r)}}function zg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Y_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Y2(t){var e=t.alternate;e!==null&&(t.alternate=null,Y2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wr],delete e[mh],delete e[D_],delete e[U6],delete e[B6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Q2(t){return t.tag===5||t.tag===3||t.tag===4}function BA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Q_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lp));else if(r!==4&&(t=t.child,t!==null))for(Q_(t,e,n),t=t.sibling;t!==null;)Q_(t,e,n),t=t.sibling}function J_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(J_(t,e,n),t=t.sibling;t!==null;)J_(t,e,n),t=t.sibling}var Bt=null,br=!1;function io(t,e,n){for(n=n.child;n!==null;)J2(t,e,n),n=n.sibling}function J2(t,e,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(Mg,n)}catch{}switch(n.tag){case 5:ln||rl(n,e);case 6:var r=Bt,i=br;Bt=null,io(t,e,n),Bt=r,br=i,Bt!==null&&(br?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(br?(t=Bt,n=n.stateNode,t.nodeType===8?Yv(t.parentNode,n):t.nodeType===1&&Yv(t,n),ch(t)):Yv(Bt,n.stateNode));break;case 4:r=Bt,i=br,Bt=n.stateNode.containerInfo,br=!0,io(t,e,n),Bt=r,br=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&X_(n,e,s),i=i.next}while(i!==r)}io(t,e,n);break;case 1:if(!ln&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}io(t,e,n);break;case 21:io(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,io(t,e,n),ln=r):io(t,e,n);break;default:io(t,e,n)}}function zA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new i5),e.forEach(function(r){var i=p5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,br=!1;break e;case 3:Bt=a.stateNode.containerInfo,br=!0;break e;case 4:Bt=a.stateNode.containerInfo,br=!0;break e}a=a.return}if(Bt===null)throw Error(J(160));J2(o,s,i),Bt=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ut(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Z2(e,t),e=e.sibling}function Z2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yr(e,t),Ur(t),r&4){try{$c(3,t,t.return),zg(3,t)}catch(g){ut(t,t.return,g)}try{$c(5,t,t.return)}catch(g){ut(t,t.return,g)}}break;case 1:yr(e,t),Ur(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(yr(e,t),Ur(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var i=t.stateNode;try{sh(i,"")}catch(g){ut(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&bN(i,o),x_(a,s);var u=x_(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?AN(i,h):c==="dangerouslySetInnerHTML"?TN(i,h):c==="children"?sh(i,h):C1(i,c,h,u)}switch(a){case"input":y_(i,o);break;case"textarea":xN(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?dl(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?dl(i,!!o.multiple,o.defaultValue,!0):dl(i,!!o.multiple,o.multiple?[]:"",!1))}i[mh]=o}catch(g){ut(t,t.return,g)}}break;case 6:if(yr(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){ut(t,t.return,g)}}break;case 3:if(yr(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ch(e.containerInfo)}catch(g){ut(t,t.return,g)}break;case 4:yr(e,t),Ur(t);break;case 13:yr(e,t),Ur(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ux=pt())),r&4&&zA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(u=ln)||c,yr(e,t),ln=u):yr(e,t),Ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ie=t,c=t.child;c!==null;){for(h=ie=c;ie!==null;){switch(f=ie,p=f.child,f.tag){case 0:case 11:case 14:case 15:$c(4,f,f.return);break;case 1:rl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ut(r,n,g)}}break;case 5:rl(f,f.return);break;case 22:if(f.memoizedState!==null){HA(h);continue}}p!==null?(p.return=f,ie=p):HA(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SN("display",s))}catch(g){ut(t,t.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){ut(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yr(e,t),Ur(t),r&4&&zA(t);break;case 21:break;default:yr(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Q2(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sh(i,""),r.flags&=-33);var o=BA(t);J_(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=BA(t);Q_(t,a,s);break;default:throw Error(J(161))}}catch(l){ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function s5(t,e,n){ie=t,eM(t)}function eM(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Od;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=Od;var u=ln;if(Od=s,(ln=l)&&!u)for(ie=i;ie!==null;)s=ie,l=s.child,s.tag===22&&s.memoizedState!==null?qA(i):l!==null?(l.return=s,ie=l):qA(i);for(;o!==null;)ie=o,eM(o),o=o.sibling;ie=i,Od=a,ln=u}WA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ie=o):WA(t)}}function WA(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||zg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&OA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}OA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ch(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}ln||e.flags&512&&Y_(e)}catch(f){ut(e,e.return,f)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function HA(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function qA(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zg(4,e)}catch(l){ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ut(e,i,l)}}var o=e.return;try{Y_(e)}catch(l){ut(e,o,l)}break;case 5:var s=e.return;try{Y_(e)}catch(l){ut(e,s,l)}}}catch(l){ut(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var a5=Math.ceil,Xp=Xi.ReactCurrentDispatcher,ax=Xi.ReactCurrentOwner,ar=Xi.ReactCurrentBatchConfig,Ie=0,$t=null,bt=null,qt=0,Vn=0,il=ts(0),Pt=0,bh=null,Js=0,Wg=0,lx=0,Lc=null,Sn=null,ux=0,jl=1/0,mi=null,Yp=!1,Z_=null,Ro=null,Id=!1,Eo=null,Qp=0,Vc=0,ew=null,gp=-1,yp=0;function wn(){return Ie&6?pt():gp!==-1?gp:gp=pt()}function jo(t){return t.mode&1?Ie&2&&qt!==0?qt&-qt:W6.transition!==null?(yp===0&&(yp=LN()),yp):(t=$e,t!==0||(t=window.event,t=t===void 0?16:HN(t.type)),t):1}function Mr(t,e,n,r){if(50<Vc)throw Vc=0,ew=null,Error(J(185));bf(t,n,r),(!(Ie&2)||t!==$t)&&(t===$t&&(!(Ie&2)&&(Wg|=n),Pt===4&&mo(t,qt)),kn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(jl=pt()+500,Fg&&ns()))}function kn(t,e){var n=t.callbackNode;W3(t,e);var r=Np(t,t===$t?qt:0);if(r===0)n!==null&&tA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tA(n),e===1)t.tag===0?z6(KA.bind(null,t)):c2(KA.bind(null,t)),V6(function(){!(Ie&6)&&ns()}),n=null;else{switch(VN(r)){case 1:n=M1;break;case 4:n=DN;break;case 16:n=jp;break;case 536870912:n=$N;break;default:n=jp}n=lM(n,tM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tM(t,e){if(gp=-1,yp=0,Ie&6)throw Error(J(327));var n=t.callbackNode;if(vl()&&t.callbackNode!==n)return null;var r=Np(t,t===$t?qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jp(t,r);else{e=r;var i=Ie;Ie|=2;var o=rM();($t!==t||qt!==e)&&(mi=null,jl=pt()+500,Us(t,e));do try{c5();break}catch(a){nM(t,a)}while(!0);G1(),Xp.current=o,Ie=i,bt!==null?e=0:($t=null,qt=0,e=Pt)}if(e!==0){if(e===2&&(i=P_(t),i!==0&&(r=i,e=tw(t,i))),e===1)throw n=bh,Us(t,0),mo(t,r),kn(t,pt()),n;if(e===6)mo(t,r);else{if(i=t.current.alternate,!(r&30)&&!l5(i)&&(e=Jp(t,r),e===2&&(o=P_(t),o!==0&&(r=o,e=tw(t,o))),e===1))throw n=bh,Us(t,0),mo(t,r),kn(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:xs(t,Sn,mi);break;case 3:if(mo(t,r),(r&130023424)===r&&(e=ux+500-pt(),10<e)){if(Np(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=M_(xs.bind(null,t,Sn,mi),e);break}xs(t,Sn,mi);break;case 4:if(mo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Nr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a5(r/1960))-r,10<r){t.timeoutHandle=M_(xs.bind(null,t,Sn,mi),r);break}xs(t,Sn,mi);break;case 5:xs(t,Sn,mi);break;default:throw Error(J(329))}}}return kn(t,pt()),t.callbackNode===n?tM.bind(null,t):null}function tw(t,e){var n=Lc;return t.current.memoizedState.isDehydrated&&(Us(t,e).flags|=256),t=Jp(t,e),t!==2&&(e=Sn,Sn=n,e!==null&&nw(e)),t}function nw(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function l5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Dr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mo(t,e){for(e&=~lx,e&=~Wg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function KA(t){if(Ie&6)throw Error(J(327));vl();var e=Np(t,0);if(!(e&1))return kn(t,pt()),null;var n=Jp(t,e);if(t.tag!==0&&n===2){var r=P_(t);r!==0&&(e=r,n=tw(t,r))}if(n===1)throw n=bh,Us(t,0),mo(t,e),kn(t,pt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xs(t,Sn,mi),kn(t,pt()),null}function cx(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(jl=pt()+500,Fg&&ns())}}function Zs(t){Eo!==null&&Eo.tag===0&&!(Ie&6)&&vl();var e=Ie;Ie|=1;var n=ar.transition,r=$e;try{if(ar.transition=null,$e=1,t)return t()}finally{$e=r,ar.transition=n,Ie=e,!(Ie&6)&&ns()}}function hx(){Vn=il.current,Je(il)}function Us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,L6(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(H1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vp();break;case 3:kl(),Je(In),Je(dn),ex();break;case 5:Z1(r);break;case 4:kl();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:X1(r.type._context);break;case 22:case 23:hx()}n=n.return}if($t=t,bt=t=No(t.current,null),qt=Vn=e,Pt=0,bh=null,lx=Wg=Js=0,Sn=Lc=null,js!==null){for(e=0;e<js.length;e++)if(n=js[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}js=null}return t}function nM(t,e){do{var n=bt;try{if(G1(),dp.current=Gp,Kp){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kp=!1}if(Qs=0,Dt=St=it=null,Dc=!1,vh=0,ax.current=null,n===null||n.return===null){Pt=1,bh=e,bt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=NA(s);if(p!==null){p.flags&=-257,MA(p,s,a,o,e),p.mode&1&&jA(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){jA(o,u,e),fx();break e}l=Error(J(426))}}else if(Ze&&a.mode&1){var y=NA(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),MA(y,s,a,o,e),q1(Rl(l,a));break e}}o=l=Rl(l,a),Pt!==4&&(Pt=2),Lc===null?Lc=[o]:Lc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=V2(o,l,e);PA(o,w);break e;case 1:a=l;var _=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ro===null||!Ro.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=F2(o,a,e);PA(o,S);break e}}o=o.return}while(o!==null)}oM(n)}catch(E){e=E,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function rM(){var t=Xp.current;return Xp.current=Gp,t===null?Gp:t}function fx(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),$t===null||!(Js&268435455)&&!(Wg&268435455)||mo($t,qt)}function Jp(t,e){var n=Ie;Ie|=2;var r=rM();($t!==t||qt!==e)&&(mi=null,Us(t,e));do try{u5();break}catch(i){nM(t,i)}while(!0);if(G1(),Ie=n,Xp.current=r,bt!==null)throw Error(J(261));return $t=null,qt=0,Pt}function u5(){for(;bt!==null;)iM(bt)}function c5(){for(;bt!==null&&!M3();)iM(bt)}function iM(t){var e=aM(t.alternate,t,Vn);t.memoizedProps=t.pendingProps,e===null?oM(t):bt=e,ax.current=null}function oM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=r5(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,bt=null;return}}else if(n=n5(n,e,Vn),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);Pt===0&&(Pt=5)}function xs(t,e,n){var r=$e,i=ar.transition;try{ar.transition=null,$e=1,h5(t,e,n,r)}finally{ar.transition=i,$e=r}return null}function h5(t,e,n,r){do vl();while(Eo!==null);if(Ie&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(H3(t,o),t===$t&&(bt=$t=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Id||(Id=!0,lM(jp,function(){return vl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ar.transition,ar.transition=null;var s=$e;$e=1;var a=Ie;Ie|=4,ax.current=null,o5(t,n),Z2(n,t),k6(j_),Mp=!!R_,j_=R_=null,t.current=n,s5(n),D3(),Ie=a,$e=s,ar.transition=o}else t.current=n;if(Id&&(Id=!1,Eo=t,Qp=i),o=t.pendingLanes,o===0&&(Ro=null),V3(n.stateNode),kn(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yp)throw Yp=!1,t=Z_,Z_=null,t;return Qp&1&&t.tag!==0&&vl(),o=t.pendingLanes,o&1?t===ew?Vc++:(Vc=0,ew=t):Vc=0,ns(),null}function vl(){if(Eo!==null){var t=VN(Qp),e=ar.transition,n=$e;try{if(ar.transition=null,$e=16>t?16:t,Eo===null)var r=!1;else{if(t=Eo,Eo=null,Qp=0,Ie&6)throw Error(J(331));var i=Ie;for(Ie|=4,ie=t.current;ie!==null;){var o=ie,s=o.child;if(ie.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ie=u;ie!==null;){var c=ie;switch(c.tag){case 0:case 11:case 15:$c(8,c,o)}var h=c.child;if(h!==null)h.return=c,ie=h;else for(;ie!==null;){c=ie;var f=c.sibling,p=c.return;if(Y2(c),c===u){ie=null;break}if(f!==null){f.return=p,ie=f;break}ie=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ie=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ie=s;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:$c(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ie=w;break e}ie=o.return}}var _=t.current;for(ie=_;ie!==null;){s=ie;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,ie=v;else e:for(s=_;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zg(9,a)}}catch(E){ut(a,a.return,E)}if(a===s){ie=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ie=S;break e}ie=a.return}}if(Ie=i,ns(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(Mg,t)}catch{}r=!0}return r}finally{$e=n,ar.transition=e}}return!1}function GA(t,e,n){e=Rl(n,e),e=V2(t,e,1),t=ko(t,e,1),e=wn(),t!==null&&(bf(t,1,e),kn(t,e))}function ut(t,e,n){if(t.tag===3)GA(t,t,n);else for(;e!==null;){if(e.tag===3){GA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ro===null||!Ro.has(r))){t=Rl(n,t),t=F2(e,t,1),e=ko(e,t,1),t=wn(),e!==null&&(bf(e,1,t),kn(e,t));break}}e=e.return}}function f5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(qt&n)===n&&(Pt===4||Pt===3&&(qt&130023424)===qt&&500>pt()-ux?Us(t,0):lx|=n),kn(t,e)}function sM(t,e){e===0&&(t.mode&1?(e=_d,_d<<=1,!(_d&130023424)&&(_d=4194304)):e=1);var n=wn();t=$i(t,e),t!==null&&(bf(t,e,n),kn(t,n))}function d5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sM(t,n)}function p5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),sM(t,n)}var aM;aM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||In.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,t5(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,Ze&&e.flags&1048576&&h2(e,Bp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mp(t,e),t=e.pendingProps;var i=Ol(e,dn.current);yl(e,n),i=nx(null,e,r,t,i,n);var o=rx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(o=!0,Fp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Q1(e),i.updater=Bg,e.stateNode=i,i._reactInternals=e,B_(e,r,t,n),e=H_(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&W1(e),vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=g5(r),t=wr(r,t),i){case 0:e=W_(null,e,r,t,n);break e;case 1:e=LA(null,e,r,t,n);break e;case 11:e=DA(null,e,r,t,n);break e;case 14:e=$A(null,e,r,wr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),W_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),LA(t,e,r,i,n);case 3:e:{if(W2(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,y2(t,e),Hp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Rl(Error(J(423)),e),e=VA(t,e,r,n,i);break e}else if(r!==i){i=Rl(Error(J(424)),e),e=VA(t,e,r,n,i);break e}else for(zn=Co(e.stateNode.containerInfo.firstChild),Wn=e,Ze=!0,Ar=null,n=m2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Il(),r===i){e=Li(t,e,n);break e}vn(t,e,r,n)}e=e.child}return e;case 5:return v2(e),t===null&&V_(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,N_(r,i)?s=null:o!==null&&N_(r,o)&&(e.flags|=32),z2(t,e),vn(t,e,s,n),e.child;case 6:return t===null&&V_(e),null;case 13:return H2(t,e,n);case 4:return J1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cl(e,null,r,n):vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),DA(t,e,r,i,n);case 7:return vn(t,e,e.pendingProps,n),e.child;case 8:return vn(t,e,e.pendingProps.children,n),e.child;case 12:return vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,qe(zp,r._currentValue),r._currentValue=s,o!==null)if(Dr(o.value,s)){if(o.children===i.children&&!In.current){e=Li(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ai(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),F_(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(J(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),F_(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yl(e,n),i=hr(i),r=r(i),e.flags|=1,vn(t,e,r,n),e.child;case 14:return r=e.type,i=wr(r,e.pendingProps),i=wr(r.type,i),$A(t,e,r,i,n);case 15:return U2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),mp(t,e),e.tag=1,Cn(r)?(t=!0,Fp(e)):t=!1,yl(e,n),L2(e,r,i),B_(e,r,i,n),H_(null,e,r,!0,t,n);case 19:return q2(t,e,n);case 22:return B2(t,e,n)}throw Error(J(156,e.tag))};function lM(t,e){return MN(t,e)}function m5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new m5(t,e,n,r)}function dx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function g5(t){if(typeof t=="function")return dx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===R1)return 11;if(t===j1)return 14}return 2}function No(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vp(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")dx(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ga:return Bs(n.children,i,o,e);case k1:s=8,i|=8;break;case f_:return t=ir(12,n,e,i|2),t.elementType=f_,t.lanes=o,t;case d_:return t=ir(13,n,e,i),t.elementType=d_,t.lanes=o,t;case p_:return t=ir(19,n,e,i),t.elementType=p_,t.lanes=o,t;case vN:return Hg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gN:s=10;break e;case yN:s=9;break e;case R1:s=11;break e;case j1:s=14;break e;case lo:s=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=ir(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Bs(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function Hg(t,e,n,r){return t=ir(22,t,r,e),t.elementType=vN,t.lanes=n,t.stateNode={isHidden:!1},t}function i0(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function o0(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function y5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vv(0),this.expirationTimes=Vv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function px(t,e,n,r,i,o,s,a,l){return t=new y5(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ir(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Q1(o),t}function v5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uM(t){if(!t)return zo;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Cn(n))return u2(t,n,e)}return e}function cM(t,e,n,r,i,o,s,a,l){return t=px(n,r,!0,t,i,o,s,a,l),t.context=uM(null),n=t.current,r=wn(),i=jo(n),o=Ai(r,i),o.callback=e??null,ko(n,o,i),t.current.lanes=i,bf(t,i,r),kn(t,r),t}function qg(t,e,n,r){var i=e.current,o=wn(),s=jo(i);return n=uM(n),e.context===null?e.context=n:e.pendingContext=n,e=Ai(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ko(i,e,s),t!==null&&(Mr(t,i,s,o),fp(t,i,s)),s}function Zp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function XA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mx(t,e){XA(t,e),(t=t.alternate)&&XA(t,e)}function _5(){return null}var hM=typeof reportError=="function"?reportError:function(t){console.error(t)};function gx(t){this._internalRoot=t}Kg.prototype.render=gx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));qg(t,e,null,null)};Kg.prototype.unmount=gx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zs(function(){qg(null,t,null,null)}),e[Di]=null}};function Kg(t){this._internalRoot=t}Kg.prototype.unstable_scheduleHydration=function(t){if(t){var e=BN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<po.length&&e!==0&&e<po[n].priority;n++);po.splice(n,0,t),n===0&&WN(t)}};function yx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function YA(){}function w5(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Zp(s);o.call(u)}}var s=cM(e,r,t,0,null,!1,!1,"",YA);return t._reactRootContainer=s,t[Di]=s.current,dh(t.nodeType===8?t.parentNode:t),Zs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Zp(l);a.call(u)}}var l=px(t,0,!1,null,null,!1,!1,"",YA);return t._reactRootContainer=l,t[Di]=l.current,dh(t.nodeType===8?t.parentNode:t),Zs(function(){qg(e,l,n,r)}),l}function Xg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Zp(s);a.call(l)}}qg(e,s,t,i)}else s=w5(n,e,t,i,r);return Zp(s)}FN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wc(e.pendingLanes);n!==0&&(D1(e,n|1),kn(e,pt()),!(Ie&6)&&(jl=pt()+500,ns()))}break;case 13:Zs(function(){var r=$i(t,1);if(r!==null){var i=wn();Mr(r,t,1,i)}}),mx(t,1)}};$1=function(t){if(t.tag===13){var e=$i(t,134217728);if(e!==null){var n=wn();Mr(e,t,134217728,n)}mx(t,134217728)}};UN=function(t){if(t.tag===13){var e=jo(t),n=$i(t,e);if(n!==null){var r=wn();Mr(n,t,e,r)}mx(t,e)}};BN=function(){return $e};zN=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};T_=function(t,e,n){switch(e){case"input":if(y_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vg(r);if(!i)throw Error(J(90));wN(r),y_(r,i)}}}break;case"textarea":xN(t,n);break;case"select":e=n.value,e!=null&&dl(t,!!n.multiple,e,!1)}};IN=cx;CN=Zs;var b5={usingClientEntryPoint:!1,Events:[Ef,Ja,Vg,PN,ON,cx]},rc={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x5={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jN(t),t===null?null:t.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||_5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Mg=Cd.inject(x5),qr=Cd}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b5;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yx(e))throw Error(J(200));return v5(t,e,null,n)};Gn.createRoot=function(t,e){if(!yx(t))throw Error(J(299));var n=!1,r="",i=hM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=px(t,1,!1,null,null,n,!1,r,i),t[Di]=e.current,dh(t.nodeType===8?t.parentNode:t),new gx(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=jN(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return Zs(t)};Gn.hydrate=function(t,e,n){if(!Gg(e))throw Error(J(200));return Xg(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!yx(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=hM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=cM(e,null,t,1,n??null,i,!1,o,s),t[Di]=e.current,dh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kg(e)};Gn.render=function(t,e,n){if(!Gg(e))throw Error(J(200));return Xg(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!Gg(t))throw Error(J(40));return t._reactRootContainer?(Zs(function(){Xg(null,null,t,!1,function(){t._reactRootContainer=null,t[Di]=null})}),!0):!1};Gn.unstable_batchedUpdates=cx;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gg(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Xg(t,e,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function fM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fM)}catch(t){console.error(t)}}fM(),fN.exports=Gn;var E5=fN.exports,dM,QA=E5;dM=QA.createRoot,QA.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}var To;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(To||(To={}));const JA="popstate";function T5(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return rw("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mM(i)}return A5(e,n,null,t)}function Rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S5(){return Math.random().toString(36).substr(2,8)}function ZA(t,e){return{usr:t.state,key:t.key,idx:e}}function rw(t,e,n,r){return n===void 0&&(n=null),em({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yg(e):e,{state:n,key:e&&e.key||r||S5()})}function mM(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function A5(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=To.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(em({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=To.Pop;let y=c(),w=y==null?null:y-u;u=y,l&&l({action:a,location:g.location,delta:w})}function f(y,w){a=To.Push;let _=rw(g.location,y,w);u=c()+1;let v=ZA(_,u),S=g.createHref(_);try{s.pushState(v,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}o&&l&&l({action:a,location:g.location,delta:1})}function p(y,w){a=To.Replace;let _=rw(g.location,y,w);u=c();let v=ZA(_,u),S=g.createHref(_);s.replaceState(v,"",S),o&&l&&l({action:a,location:g.location,delta:0})}function m(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:mM(y);return _=_.replace(/ $/,"%20"),Rn(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let g={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JA,h),l=y,()=>{i.removeEventListener(JA,h),l=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let w=m(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:p,go(y){return s.go(y)}};return g}var eP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eP||(eP={}));function P5(t,e,n){return n===void 0&&(n="/"),O5(t,e,n,!1)}function O5(t,e,n,r){let i=typeof e=="string"?Yg(e):e,o=vM(i.pathname||"/",n);if(o==null)return null;let s=gM(t);I5(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=F5(o);a=L5(s[l],u,r)}return a}function gM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Rn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=_l([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Rn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gM(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:D5(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of yM(o.path))i(o,s,l)}),e}function yM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=yM(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function I5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const C5=/^:[\w-]+$/,k5=3,R5=2,j5=1,N5=10,M5=-2,tP=t=>t==="*";function D5(t,e){let n=t.split("/"),r=n.length;return n.some(tP)&&(r+=M5),e&&(r+=R5),n.filter(i=>!tP(i)).reduce((i,o)=>i+(C5.test(o)?k5:o===""?j5:N5),r)}function $5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function L5(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",h=nP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=nP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:_l([o,h.pathname]),pathnameBase:U5(_l([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=_l([o,h.pathnameBase]))}return s}function nP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=V5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let g=a[h]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function V5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pM(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function F5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pM(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vM(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const _l=t=>t.join("/").replace(/\/\/+/g,"/"),U5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function B5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _M=["post","put","patch","delete"];new Set(_M);const z5=["get",..._M];new Set(z5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}const W5=M.createContext(null),H5=M.createContext(null),wM=M.createContext(null),Qg=M.createContext(null),Jg=M.createContext({outlet:null,matches:[],isDataRoute:!1}),bM=M.createContext(null);function vx(){return M.useContext(Qg)!=null}function q5(){return vx()||Rn(!1),M.useContext(Qg).location}function K5(t,e){return G5(t,e)}function G5(t,e,n,r){vx()||Rn(!1);let{navigator:i}=M.useContext(wM),{matches:o}=M.useContext(Jg),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=q5(),c;if(e){var h;let y=typeof e=="string"?Yg(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Rn(!1),c=y}else c=u;let f=c.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=P5(t,{pathname:p}),g=Z5(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:_l([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:_l([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&g?M.createElement(Qg.Provider,{value:{location:tm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:To.Pop}},g):g}function X5(){let t=r9(),e=B5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const Y5=M.createElement(X5,null);class Q5 extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Jg.Provider,{value:this.props.routeContext},M.createElement(bM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J5(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(W5);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Jg.Provider,{value:e},r)}function Z5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Rn(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,f)=>{let p,m=!1,g=null,y=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||Y5,l&&(u<0&&f===0?(m=!0,y=null):u===f&&(m=!0,y=h.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,f+1)),_=()=>{let v;return p?v=g:m?v=y:h.route.Component?v=M.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=c,M.createElement(J5,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?M.createElement(Q5,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var iw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(iw||{});function e9(t){let e=M.useContext(H5);return e||Rn(!1),e}function t9(t){let e=M.useContext(Jg);return e||Rn(!1),e}function n9(t){let e=t9(),n=e.matches[e.matches.length-1];return n.route.id||Rn(!1),n.route.id}function r9(){var t;let e=M.useContext(bM),n=e9(iw.UseRouteError),r=n9(iw.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function i9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xM(t){Rn(!1)}function o9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=To.Pop,navigator:o,static:s=!1,future:a}=t;vx()&&Rn(!1);let l=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:o,static:s,future:tm({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Yg(r));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=M.useMemo(()=>{let y=vM(c,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:m},navigationType:i}},[l,c,h,f,p,m,i]);return g==null?null:M.createElement(wM.Provider,{value:u},M.createElement(Qg.Provider,{children:n,value:g}))}function s9(t){let{children:e,location:n}=t;return K5(ow(e),n)}new Promise(()=>{});function ow(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let o=[...e,i];if(r.type===M.Fragment){n.push.apply(n,ow(r.props.children,o));return}r.type!==xM&&Rn(!1),!r.props.index||!r.props.children||Rn(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ow(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const a9="6";try{window.__reactRouterVersion=a9}catch{}const l9="startTransition",rP=f3[l9];function u9(t){let{basename:e,children:n,future:r,window:i}=t,o=M.useRef();o.current==null&&(o.current=T5({window:i,v5Compat:!0}));let s=o.current,[a,l]=M.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=M.useCallback(h=>{u&&rP?rP(()=>l(h)):l(h)},[l,u]);return M.useLayoutEffect(()=>s.listen(c),[s,c]),M.useEffect(()=>i9(r),[r]),M.createElement(o9,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var iP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iP||(iP={}));var oP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oP||(oP={}));const c9=()=>{};var sP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},TM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new f9;const f=o<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d9=function(t){const e=EM(t);return TM.encodeByteArray(e,!0)},nm=function(t){return d9(t).replace(/\./g,"")},SM=function(t){try{return TM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=()=>p9().__FIREBASE_DEFAULTS__,g9=()=>{if(typeof process>"u"||typeof sP>"u")return;const t=sP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SM(t[1]);return e&&JSON.parse(e)},Zg=()=>{try{return c9()||m9()||g9()||y9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AM=t=>{var e,n;return(n=(e=Zg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PM=t=>{const e=AM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OM=()=>{var t;return(t=Zg())===null||t===void 0?void 0:t.config},IM=t=>{var e;return(e=Zg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v9=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){return t.endsWith(".cloudworkstations.dev")}async function _x(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nm(JSON.stringify(n)),nm(JSON.stringify(s)),""].join(".")}const Fc={};function _9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fc))Fc[e]?t.emulator.push(e):t.prod.push(e);return t}function w9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let aP=!1;function wx(t,e){if(typeof window>"u"||typeof document>"u"||!da(window.location.host)||Fc[t]===e||Fc[t]||aP)return;Fc[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",o=_9().prod.length>0;function s(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{aP=!0,s()},f}function c(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=w9(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const v=f.element;a(v),c(y,g);const S=u();l(_,w),v.append(_,m,y,S),document.body.appendChild(v)}o?(m.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function x9(){var t;const e=(t=Zg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A9(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function P9(){return!x9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O9(){try{return typeof indexedDB=="object"}catch{return!1}}function I9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="FirebaseError";class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C9,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sf.prototype.create)}}class Sf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?k9(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new si(i,a,r)}}function k9(t,e){return t.replace(R9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const R9=/\{\$([^}]+)}/g;function j9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ea(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(lP(o)&&lP(s)){if(!ea(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function N9(t,e){const n=new M9(t,e);return n.subscribe.bind(n)}class M9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=s0),i.error===void 0&&(i.error=s0),i.complete===void 0&&(i.complete=s0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function s0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){return t&&t._delegate?t._delegate:t}class Wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V9(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L9(t){return t===Es?void 0:t}function V9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const U9={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},B9=Te.INFO,z9={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},W9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=z9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bx{constructor(e){this.name=e,this._logLevel=B9,this._logHandler=W9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const H9=(t,e)=>e.some(n=>t instanceof n);let uP,cP;function q9(){return uP||(uP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K9(){return cP||(cP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kM=new WeakMap,sw=new WeakMap,RM=new WeakMap,a0=new WeakMap,xx=new WeakMap;function G9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Mo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&kM.set(n,t)}).catch(()=>{}),xx.set(e,t),e}function X9(t){if(sw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});sw.set(t,e)}let aw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y9(t){aw=t(aw)}function Q9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(l0(this),e,...n);return RM.set(r,e.sort?e.sort():[e]),Mo(r)}:K9().includes(t)?function(...e){return t.apply(l0(this),e),Mo(kM.get(this))}:function(...e){return Mo(t.apply(l0(this),e))}}function J9(t){return typeof t=="function"?Q9(t):(t instanceof IDBTransaction&&X9(t),H9(t,q9())?new Proxy(t,aw):t)}function Mo(t){if(t instanceof IDBRequest)return G9(t);if(a0.has(t))return a0.get(t);const e=J9(t);return e!==t&&(a0.set(t,e),xx.set(e,t)),e}const l0=t=>xx.get(t);function Z9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Mo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Mo(s.result),l.oldVersion,l.newVersion,Mo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ez=["get","getKey","getAll","getAllKeys","count"],tz=["put","add","delete","clear"],u0=new Map;function hP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(u0.get(e))return u0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ez.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return u0.set(e,o),o}Y9(t=>({...t,get:(e,n,r)=>hP(e,n)||t.get(e,n,r),has:(e,n)=>!!hP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lw="@firebase/app",fP="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new bx("@firebase/app"),iz="@firebase/app-compat",oz="@firebase/analytics-compat",sz="@firebase/analytics",az="@firebase/app-check-compat",lz="@firebase/app-check",uz="@firebase/auth",cz="@firebase/auth-compat",hz="@firebase/database",fz="@firebase/data-connect",dz="@firebase/database-compat",pz="@firebase/functions",mz="@firebase/functions-compat",gz="@firebase/installations",yz="@firebase/installations-compat",vz="@firebase/messaging",_z="@firebase/messaging-compat",wz="@firebase/performance",bz="@firebase/performance-compat",xz="@firebase/remote-config",Ez="@firebase/remote-config-compat",Tz="@firebase/storage",Sz="@firebase/storage-compat",Az="@firebase/firestore",Pz="@firebase/ai",Oz="@firebase/firestore-compat",Iz="firebase",Cz="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="[DEFAULT]",kz={[lw]:"fire-core",[iz]:"fire-core-compat",[sz]:"fire-analytics",[oz]:"fire-analytics-compat",[lz]:"fire-app-check",[az]:"fire-app-check-compat",[uz]:"fire-auth",[cz]:"fire-auth-compat",[hz]:"fire-rtdb",[fz]:"fire-data-connect",[dz]:"fire-rtdb-compat",[pz]:"fire-fn",[mz]:"fire-fn-compat",[gz]:"fire-iid",[yz]:"fire-iid-compat",[vz]:"fire-fcm",[_z]:"fire-fcm-compat",[wz]:"fire-perf",[bz]:"fire-perf-compat",[xz]:"fire-rc",[Ez]:"fire-rc-compat",[Tz]:"fire-gcs",[Sz]:"fire-gcs-compat",[Az]:"fire-fst",[Oz]:"fire-fst-compat",[Pz]:"fire-vertex","fire-js":"fire-js",[Iz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Map,Rz=new Map,cw=new Map;function dP(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ta(t){const e=t.name;if(cw.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;cw.set(e,t);for(const n of rm.values())dP(n,t);for(const n of Rz.values())dP(n,t);return!0}function ey(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Do=new Sf("app","Firebase",jz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=Cz;function jM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:uw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Do.create("bad-app-name",{appName:String(i)});if(n||(n=OM()),!n)throw Do.create("no-options");const o=rm.get(i);if(o){if(ea(n,o.options)&&ea(r,o.config))return o;throw Do.create("duplicate-app",{appName:i})}const s=new F9(i);for(const l of cw.values())s.addComponent(l);const a=new Nz(n,r,s);return rm.set(i,a),a}function Ex(t=uw){const e=rm.get(t);if(!e&&t===uw&&OM())return jM();if(!e)throw Do.create("no-app",{appName:t});return e}function Gr(t,e,n){var r;let i=(r=kz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(a.join(" "));return}ta(new Wo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz="firebase-heartbeat-database",Dz=1,xh="firebase-heartbeat-store";let c0=null;function NM(){return c0||(c0=Z9(Mz,Dz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Do.create("idb-open",{originalErrorMessage:t.message})})),c0}async function $z(t){try{const n=(await NM()).transaction(xh),r=await n.objectStore(xh).get(MM(t));return await n.done,r}catch(e){if(e instanceof si)Vi.warn(e.message);else{const n=Do.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function pP(t,e){try{const r=(await NM()).transaction(xh,"readwrite");await r.objectStore(xh).put(e,MM(t)),await r.done}catch(n){if(n instanceof si)Vi.warn(n.message);else{const r=Do.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(r.message)}}}function MM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=1024,Vz=30;class Fz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Vz){const s=zz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mP(),{heartbeatsToSend:r,unsentEntries:i}=Uz(this._heartbeatsCache.heartbeats),o=nm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Vi.warn(n),""}}}function mP(){return new Date().toISOString().substring(0,10)}function Uz(t,e=Lz){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),gP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O9()?I9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $z(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gP(t){return nm(JSON.stringify({version:2,heartbeats:t})).length}function zz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(t){ta(new Wo("platform-logger",e=>new nz(e),"PRIVATE")),ta(new Wo("heartbeat",e=>new Fz(e),"PRIVATE")),Gr(lw,fP,t),Gr(lw,fP,"esm2017"),Gr("fire-js","")}Wz("");function Tx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hz=DM,$M=new Sf("auth","Firebase",DM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new bx("@firebase/auth");function qz(t,...e){im.logLevel<=Te.WARN&&im.warn(`Auth (${pa}): ${t}`,...e)}function _p(t,...e){im.logLevel<=Te.ERROR&&im.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,...e){throw Sx(t,...e)}function Xr(t,...e){return Sx(t,...e)}function LM(t,e,n){const r=Object.assign(Object.assign({},Hz()),{[e]:n});return new Sf("auth","Firebase",r).create(e,{appName:t.name})}function Pi(t){return LM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $M.create(t,...e)}function fe(t,e,...n){if(!t)throw Sx(e,...n)}function wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function Fi(t,e){t||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Kz(){return yP()==="http:"||yP()==="https:"}function yP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kz()||T9()||"connection"in navigator)?navigator.onLine:!0}function Xz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=b9()||S9()}get(){return Gz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jz=new Pf(3e4,6e4);function rs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function is(t,e,n,r,i={}){return FM(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Af(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return E9()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&da(t.emulatorConfig.host)&&(u.credentials="include"),VM.fetch()(await UM(t,t.config.apiHost,n,a),u)})}async function FM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yz),e);try{const i=new e8(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw kd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw kd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw kd(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw LM(t,c,u);$r(t,c)}}catch(i){if(i instanceof si)throw i;$r(t,"network-request-failed",{message:String(i)})}}async function Of(t,e,n,r,i={}){const o=await is(t,e,n,r,i);return"mfaPendingCredential"in o&&$r(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function UM(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Ax(t.config,i):`${t.config.apiScheme}://${i}`;return Qz.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function Zz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),Jz.get())})}}function kd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xr(t,e,r);return i.customData._tokenResponse=n,i}function vP(t){return t!==void 0&&t.enterprise!==void 0}class t8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Zz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n8(t,e){return is(t,"GET","/v2/recaptchaConfig",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(t,e){return is(t,"POST","/v1/accounts:delete",e)}async function om(t,e){return is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i8(t,e=!1){const n=jn(t),r=await n.getIdToken(e),i=Px(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Uc(h0(i.auth_time)),issuedAtTime:Uc(h0(i.iat)),expirationTime:Uc(h0(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function h0(t){return Number(t)*1e3}function Px(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const i=SM(n);return i?JSON.parse(i):(_p("Failed to decode base64 JWT payload"),null)}catch(i){return _p("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _P(t){const e=Px(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof si&&o8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function o8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Eh(t,om(n,{idToken:r}));fe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?BM(o.providerUserInfo):[],a=l8(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fw(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function a8(t){const e=jn(t);await sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BM(t){return t.map(e=>{var{providerId:n}=e,r=Tx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(t,e){const n=await FM(t,{},async()=>{const r=Af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await UM(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&da(t.emulatorConfig.host)&&(l.credentials="include"),VM.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c8(t,e){return is(t,"POST","/v2/accounts:revokeToken",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_P(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=_P(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await u8(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new wl;return r&&(fe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(fe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Tx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fw(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Eh(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i8(this,e)}reload(){return a8(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await Eh(this,r8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:S,isAnonymous:E,providerData:A,stsTokenManager:x}=n;fe(v&&x,e,"internal-error");const T=wl.fromJSON(this.name,x);fe(typeof v=="string",e,"internal-error"),oo(h,e.name),oo(f,e.name),fe(typeof S=="boolean",e,"internal-error"),fe(typeof E=="boolean",e,"internal-error"),oo(p,e.name),oo(m,e.name),oo(g,e.name),oo(y,e.name),oo(w,e.name),oo(_,e.name);const I=new Cr({uid:v,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:T,createdAt:w,lastLoginAt:_});return A&&Array.isArray(A)&&(I.providerData=A.map(k=>Object.assign({},k))),y&&(I._redirectEventId=y),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new wl;i.updateFromServerResponse(n);const o=new Cr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?BM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new wl;a.updateFromIdToken(r);const l=new Cr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new Map;function bi(t){Fi(t instanceof Function,"Expected a class definition");let e=wP.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zM.type="NONE";const bP=zM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=wp(this.userKey,i.apiKey,o),this.fullPersistenceKey=wp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await om(this.auth,{idToken:e}).catch(()=>{});return n?Cr._fromGetAccountInfoResponse(this.auth,n,e):null}return Cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bl(bi(bP),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||bi(bP);const s=wp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let h;if(typeof c=="string"){const f=await om(e,{idToken:c}).catch(()=>{});if(!f)break;h=await Cr._fromGetAccountInfoResponse(e,f,c)}else h=Cr._fromJSON(e,c);u!==o&&(a=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new bl(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new bl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XM(e))return"Blackberry";if(YM(e))return"Webos";if(HM(e))return"Safari";if((e.includes("chrome/")||qM(e))&&!e.includes("edge/"))return"Chrome";if(GM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WM(t=pn()){return/firefox\//i.test(t)}function HM(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qM(t=pn()){return/crios\//i.test(t)}function KM(t=pn()){return/iemobile/i.test(t)}function GM(t=pn()){return/android/i.test(t)}function XM(t=pn()){return/blackberry/i.test(t)}function YM(t=pn()){return/webos/i.test(t)}function Ox(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h8(t=pn()){var e;return Ox(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function f8(){return A9()&&document.documentMode===10}function QM(t=pn()){return Ox(t)||GM(t)||YM(t)||XM(t)||/windows phone/i.test(t)||KM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t,e=[]){let n;switch(t){case"Browser":n=xP(pn());break;case"Worker":n=`${xP(pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p8(t,e={}){return is(t,"GET","/v2/passwordPolicy",rs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=6;class g8{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:m8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EP(this),this.idTokenSubscription=new EP(this),this.beforeStateQueue=new d8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$M,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await om(this,{idToken:e}),r=await Cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Pi(this));const n=e?jn(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p8(this),n=new g8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await c8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ma(t){return jn(t)}class EP{constructor(e){this.auth=e,this.observer=null,this.addObserver=N9(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v8(t){ty=t}function ZM(t){return ty.loadJS(t)}function _8(){return ty.recaptchaEnterpriseScript}function w8(){return ty.gapiScript}function b8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class x8{constructor(){this.enterprise=new E8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class E8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const T8="recaptcha-enterprise",eD="NO_RECAPTCHA";class S8{constructor(e){this.type=T8,this.auth=ma(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{n8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new t8(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;vP(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(eD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new x8().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&vP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_8();l.length!==0&&(l+=a),ZM(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function TP(t,e,n,r=!1,i=!1){const o=new S8(t);let s;if(i)s=eD;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function dw(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await TP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await TP(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t,e){const n=ey(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ea(o,e??{}))return i;$r(i,"already-initialized")}return n.initialize({options:e})}function P8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O8(t,e,n){const r=ma(t);fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=tD(e),{host:s,port:a}=I8(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),fe(ea(u,r.config.emulator)&&ea(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,da(s)?(_x(`${o}//${s}${l}`),wx("Auth",!0)):C8()}function tD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I8(t){const e=tD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:SP(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:SP(s)}}}function SP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function C8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function k8(t,e){return is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(t,e){return Of(t,"POST","/v1/accounts:signInWithPassword",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,e))}async function N8(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends Ix{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Th(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Th(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dw(e,n,"signInWithPassword",R8);case"emailLink":return j8(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dw(e,r,"signUpPassword",k8);case"emailLink":return N8(e,{idToken:n,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e){return Of(t,"POST","/v1/accounts:signInWithIdp",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8="http://localhost";class na extends Ix{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Tx(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new na(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return xl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xl(e,n)}buildRequest(){const e={requestUri:M8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Af(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $8(t){const e=xc(Ec(t)).link,n=e?xc(Ec(e)).deep_link_id:null,r=xc(Ec(t)).deep_link_id;return(r?xc(Ec(r)).link:null)||r||n||e||t}class Cx{constructor(e){var n,r,i,o,s,a;const l=xc(Ec(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=D8((i=l.mode)!==null&&i!==void 0?i:null);fe(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$8(e);try{return new Cx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,n){return Th._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cx.parseLink(n);return fe(r,"argument-error"),Th._fromEmailAndCode(e,r.code,r.tenantId)}}mu.PROVIDER_ID="password";mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends nD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends If{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends If{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yo.credential(n,r)}catch{return null}}}yo.GOOGLE_SIGN_IN_METHOD="google.com";yo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends If{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends If{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _o.credential(n,r)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L8(t,e){return Of(t,"POST","/v1/accounts:signUp",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Cr._fromIdTokenResponse(e,r,i),s=AP(r);return new ra({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=AP(r);return new ra({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function AP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends si{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,am.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new am(e,n,r,i)}}function rD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?am._fromErrorAndOperation(t,o,e,r):o})}async function V8(t,e,n=!1){const r=await Eh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ra._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F8(t,e,n=!1){const{auth:r}=t;if(Un(r.app))return Promise.reject(Pi(r));const i="reauthenticate";try{const o=await Eh(t,rD(r,i,e,t),n);fe(o.idToken,r,"internal-error");const s=Px(o.idToken);fe(s,r,"internal-error");const{sub:a}=s;return fe(t.uid===a,r,"user-mismatch"),ra._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&$r(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e,n=!1){if(Un(t.app))return Promise.reject(Pi(t));const r="signIn",i=await rD(t,r,e),o=await ra._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function U8(t,e){return iD(ma(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t){const e=ma(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function B8(t,e,n){if(Un(t.app))return Promise.reject(Pi(t));const r=ma(t),s=await dw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&oD(t),l}),a=await ra._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function z8(t,e,n){return Un(t.app)?Promise.reject(Pi(t)):U8(jn(t),mu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oD(t),r})}function W8(t,e,n,r){return jn(t).onIdTokenChanged(e,n,r)}function H8(t,e,n){return jn(t).beforeAuthStateChanged(e,n)}function q8(t,e,n,r){return jn(t).onAuthStateChanged(e,n,r)}function K8(t){return jn(t).signOut()}const lm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=1e3,X8=10;class aD extends sD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);f8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,X8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aD.type="LOCAL";const Y8=aD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD extends sD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lD.type="SESSION";const uD=lD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ny(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Q8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ny.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=kx("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function Z8(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function eW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nW(){return cD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="firebaseLocalStorageDb",rW=1,um="firebaseLocalStorage",fD="fbase_key";class Cf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ry(t,e){return t.transaction([um],e?"readwrite":"readonly").objectStore(um)}function iW(){const t=indexedDB.deleteDatabase(hD);return new Cf(t).toPromise()}function pw(){const t=indexedDB.open(hD,rW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(um,{keyPath:fD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(um)?e(r):(r.close(),await iW(),e(await pw()))})})}async function PP(t,e,n){const r=ry(t,!0).put({[fD]:e,value:n});return new Cf(r).toPromise()}async function oW(t,e){const n=ry(t,!1).get(e),r=await new Cf(n).toPromise();return r===void 0?null:r.value}function OP(t,e){const n=ry(t,!0).delete(e);return new Cf(n).toPromise()}const sW=800,aW=3;class dD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ny._getInstance(nW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await eW(),!this.activeServiceWorker)return;this.sender=new J8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pw();return await PP(e,lm,"1"),await OP(e,lm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ry(i,!1).getAll();return new Cf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dD.type="LOCAL";const lW=dD;new Pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(t,e){return e?bi(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends Ix{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cW(t){return iD(t.auth,new Rx(t),t.bypassAuthState)}function hW(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),F8(n,new Rx(t),t.bypassAuthState)}async function fW(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),V8(n,new Rx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cW;case"linkViaPopup":case"linkViaRedirect":return fW;case"reauthViaPopup":case"reauthViaRedirect":return hW;default:$r(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=new Pf(2e3,1e4);class ol extends pD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=kx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dW.get())};e()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW="pendingRedirect",bp=new Map;class mW extends pD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bp.get(this.auth._key());if(!e){try{const r=await gW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bp.set(this.auth._key(),e)}return this.bypassAuthState||bp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gW(t,e){const n=_W(e),r=vW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function yW(t,e){bp.set(t._key(),e)}function vW(t){return bi(t._redirectPersistence)}function _W(t){return wp(pW,t.config.apiKey,t.name)}async function wW(t,e,n=!1){if(Un(t.app))return Promise.reject(Pi(t));const r=ma(t),i=uW(r,e),s=await new mW(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=10*60*1e3;class xW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bW&&this.cachedEventUids.clear(),this.cachedEventUids.has(IP(e))}saveEventToCache(e){this.cachedEventUids.add(IP(e)),this.lastProcessedEventTime=Date.now()}}function IP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TW(t,e={}){return is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AW=/^https?/;async function PW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TW(t);for(const n of e)try{if(OW(n))return}catch{}$r(t,"unauthorized-domain")}function OW(t){const e=hw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!AW.test(n))return!1;if(SW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=new Pf(3e4,6e4);function CP(){const t=Yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CW(t){return new Promise((e,n)=>{var r,i,o;function s(){CP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CP(),n(Xr(t,"network-request-failed"))},timeout:IW.get()})}if(!((i=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Yr().gapi)===null||o===void 0)&&o.load)s();else{const a=b8("iframefcb");return Yr()[a]=()=>{gapi.load?s():n(Xr(t,"network-request-failed"))},ZM(`${w8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xp=null,e})}let xp=null;function kW(t){return xp=xp||CW(t),xp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW=new Pf(5e3,15e3),jW="__/auth/iframe",NW="emulator/auth/iframe",MW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $W(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ax(e,NW):`https://${t.config.authDomain}/${jW}`,r={apiKey:e.apiKey,appName:t.name,v:pa},i=DW.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Af(r).slice(1)}`}async function LW(t){const e=await kW(t),n=Yr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:$W(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MW,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Xr(t,"network-request-failed"),a=Yr().setTimeout(()=>{o(s)},RW.get());function l(){Yr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FW=500,UW=600,BW="_blank",zW="http://localhost";class kP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WW(t,e,n,r=FW,i=UW){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},VW),{width:r.toString(),height:i.toString(),top:o,left:s}),u=pn().toLowerCase();n&&(a=qM(u)?BW:n),WM(u)&&(e=e||zW,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(h8(u)&&a!=="_self")return HW(e||"",a),new kP(null);const h=window.open(e||"",a,c);fe(h,t,"popup-blocked");try{h.focus()}catch{}return new kP(h)}function HW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW="__/auth/handler",KW="emulator/auth/handler",GW=encodeURIComponent("fac");async function RP(t,e,n,r,i,o){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pa,eventId:i};if(e instanceof nD){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",j9(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))s[c]=h}if(e instanceof If){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${GW}=${encodeURIComponent(l)}`:"";return`${XW(t)}?${Af(a).slice(1)}${u}`}function XW({config:t}){return t.emulator?Ax(t,KW):`https://${t.authDomain}/${qW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="webStorageSupport";class YW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uD,this._completeRedirectFn=wW,this._overrideRedirectResult=yW}async _openPopup(e,n,r,i){var o;Fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await RP(e,n,r,hw(),i);return WW(e,s,kx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await RP(e,n,r,hw(),i);return Z8(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Fi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LW(e),r=new xW(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(f0,{type:f0},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[f0];s!==void 0&&n(!!s),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QM()||HM()||Ox()}}const QW=YW;var jP="@firebase/auth",NP="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eH(t){ta(new Wo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;fe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JM(t)},u=new y8(r,i,o,l);return P8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ta(new Wo("auth-internal",e=>{const n=ma(e.getProvider("auth").getImmediate());return(r=>new JW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(jP,NP,ZW(t)),Gr(jP,NP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=5*60,nH=IM("authIdTokenMaxAge")||tH;let MP=null;const rH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nH)return;const i=n==null?void 0:n.token;MP!==i&&(MP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function iH(t=Ex()){const e=ey(t,"auth");if(e.isInitialized())return e.getImmediate();const n=A8(t,{popupRedirectResolver:QW,persistence:[lW,Y8,uD]}),r=IM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=rH(o.toString());H8(n,s,()=>s(n.currentUser)),W8(n,a=>s(a))}}const i=AM("auth");return i&&O8(n,`http://${i}`),n}function oH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}v8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Xr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",oH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eH("Browser");var DP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $o,gD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function I(){}I.prototype=T.prototype,x.D=T.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(k,C,j){for(var R=Array(arguments.length-2),V=2;V<arguments.length;V++)R[V-2]=arguments[V];return T.prototype[C].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,T,I){I||(I=0);var k=Array(16);if(typeof T=="string")for(var C=0;16>C;++C)k[C]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(C=0;16>C;++C)k[C]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=x.g[0],I=x.g[1],C=x.g[2];var j=x.g[3],R=T+(j^I&(C^j))+k[0]+3614090360&4294967295;T=I+(R<<7&4294967295|R>>>25),R=j+(C^T&(I^C))+k[1]+3905402710&4294967295,j=T+(R<<12&4294967295|R>>>20),R=C+(I^j&(T^I))+k[2]+606105819&4294967295,C=j+(R<<17&4294967295|R>>>15),R=I+(T^C&(j^T))+k[3]+3250441966&4294967295,I=C+(R<<22&4294967295|R>>>10),R=T+(j^I&(C^j))+k[4]+4118548399&4294967295,T=I+(R<<7&4294967295|R>>>25),R=j+(C^T&(I^C))+k[5]+1200080426&4294967295,j=T+(R<<12&4294967295|R>>>20),R=C+(I^j&(T^I))+k[6]+2821735955&4294967295,C=j+(R<<17&4294967295|R>>>15),R=I+(T^C&(j^T))+k[7]+4249261313&4294967295,I=C+(R<<22&4294967295|R>>>10),R=T+(j^I&(C^j))+k[8]+1770035416&4294967295,T=I+(R<<7&4294967295|R>>>25),R=j+(C^T&(I^C))+k[9]+2336552879&4294967295,j=T+(R<<12&4294967295|R>>>20),R=C+(I^j&(T^I))+k[10]+4294925233&4294967295,C=j+(R<<17&4294967295|R>>>15),R=I+(T^C&(j^T))+k[11]+2304563134&4294967295,I=C+(R<<22&4294967295|R>>>10),R=T+(j^I&(C^j))+k[12]+1804603682&4294967295,T=I+(R<<7&4294967295|R>>>25),R=j+(C^T&(I^C))+k[13]+4254626195&4294967295,j=T+(R<<12&4294967295|R>>>20),R=C+(I^j&(T^I))+k[14]+2792965006&4294967295,C=j+(R<<17&4294967295|R>>>15),R=I+(T^C&(j^T))+k[15]+1236535329&4294967295,I=C+(R<<22&4294967295|R>>>10),R=T+(C^j&(I^C))+k[1]+4129170786&4294967295,T=I+(R<<5&4294967295|R>>>27),R=j+(I^C&(T^I))+k[6]+3225465664&4294967295,j=T+(R<<9&4294967295|R>>>23),R=C+(T^I&(j^T))+k[11]+643717713&4294967295,C=j+(R<<14&4294967295|R>>>18),R=I+(j^T&(C^j))+k[0]+3921069994&4294967295,I=C+(R<<20&4294967295|R>>>12),R=T+(C^j&(I^C))+k[5]+3593408605&4294967295,T=I+(R<<5&4294967295|R>>>27),R=j+(I^C&(T^I))+k[10]+38016083&4294967295,j=T+(R<<9&4294967295|R>>>23),R=C+(T^I&(j^T))+k[15]+3634488961&4294967295,C=j+(R<<14&4294967295|R>>>18),R=I+(j^T&(C^j))+k[4]+3889429448&4294967295,I=C+(R<<20&4294967295|R>>>12),R=T+(C^j&(I^C))+k[9]+568446438&4294967295,T=I+(R<<5&4294967295|R>>>27),R=j+(I^C&(T^I))+k[14]+3275163606&4294967295,j=T+(R<<9&4294967295|R>>>23),R=C+(T^I&(j^T))+k[3]+4107603335&4294967295,C=j+(R<<14&4294967295|R>>>18),R=I+(j^T&(C^j))+k[8]+1163531501&4294967295,I=C+(R<<20&4294967295|R>>>12),R=T+(C^j&(I^C))+k[13]+2850285829&4294967295,T=I+(R<<5&4294967295|R>>>27),R=j+(I^C&(T^I))+k[2]+4243563512&4294967295,j=T+(R<<9&4294967295|R>>>23),R=C+(T^I&(j^T))+k[7]+1735328473&4294967295,C=j+(R<<14&4294967295|R>>>18),R=I+(j^T&(C^j))+k[12]+2368359562&4294967295,I=C+(R<<20&4294967295|R>>>12),R=T+(I^C^j)+k[5]+4294588738&4294967295,T=I+(R<<4&4294967295|R>>>28),R=j+(T^I^C)+k[8]+2272392833&4294967295,j=T+(R<<11&4294967295|R>>>21),R=C+(j^T^I)+k[11]+1839030562&4294967295,C=j+(R<<16&4294967295|R>>>16),R=I+(C^j^T)+k[14]+4259657740&4294967295,I=C+(R<<23&4294967295|R>>>9),R=T+(I^C^j)+k[1]+2763975236&4294967295,T=I+(R<<4&4294967295|R>>>28),R=j+(T^I^C)+k[4]+1272893353&4294967295,j=T+(R<<11&4294967295|R>>>21),R=C+(j^T^I)+k[7]+4139469664&4294967295,C=j+(R<<16&4294967295|R>>>16),R=I+(C^j^T)+k[10]+3200236656&4294967295,I=C+(R<<23&4294967295|R>>>9),R=T+(I^C^j)+k[13]+681279174&4294967295,T=I+(R<<4&4294967295|R>>>28),R=j+(T^I^C)+k[0]+3936430074&4294967295,j=T+(R<<11&4294967295|R>>>21),R=C+(j^T^I)+k[3]+3572445317&4294967295,C=j+(R<<16&4294967295|R>>>16),R=I+(C^j^T)+k[6]+76029189&4294967295,I=C+(R<<23&4294967295|R>>>9),R=T+(I^C^j)+k[9]+3654602809&4294967295,T=I+(R<<4&4294967295|R>>>28),R=j+(T^I^C)+k[12]+3873151461&4294967295,j=T+(R<<11&4294967295|R>>>21),R=C+(j^T^I)+k[15]+530742520&4294967295,C=j+(R<<16&4294967295|R>>>16),R=I+(C^j^T)+k[2]+3299628645&4294967295,I=C+(R<<23&4294967295|R>>>9),R=T+(C^(I|~j))+k[0]+4096336452&4294967295,T=I+(R<<6&4294967295|R>>>26),R=j+(I^(T|~C))+k[7]+1126891415&4294967295,j=T+(R<<10&4294967295|R>>>22),R=C+(T^(j|~I))+k[14]+2878612391&4294967295,C=j+(R<<15&4294967295|R>>>17),R=I+(j^(C|~T))+k[5]+4237533241&4294967295,I=C+(R<<21&4294967295|R>>>11),R=T+(C^(I|~j))+k[12]+1700485571&4294967295,T=I+(R<<6&4294967295|R>>>26),R=j+(I^(T|~C))+k[3]+2399980690&4294967295,j=T+(R<<10&4294967295|R>>>22),R=C+(T^(j|~I))+k[10]+4293915773&4294967295,C=j+(R<<15&4294967295|R>>>17),R=I+(j^(C|~T))+k[1]+2240044497&4294967295,I=C+(R<<21&4294967295|R>>>11),R=T+(C^(I|~j))+k[8]+1873313359&4294967295,T=I+(R<<6&4294967295|R>>>26),R=j+(I^(T|~C))+k[15]+4264355552&4294967295,j=T+(R<<10&4294967295|R>>>22),R=C+(T^(j|~I))+k[6]+2734768916&4294967295,C=j+(R<<15&4294967295|R>>>17),R=I+(j^(C|~T))+k[13]+1309151649&4294967295,I=C+(R<<21&4294967295|R>>>11),R=T+(C^(I|~j))+k[4]+4149444226&4294967295,T=I+(R<<6&4294967295|R>>>26),R=j+(I^(T|~C))+k[11]+3174756917&4294967295,j=T+(R<<10&4294967295|R>>>22),R=C+(T^(j|~I))+k[2]+718787259&4294967295,C=j+(R<<15&4294967295|R>>>17),R=I+(j^(C|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+C&4294967295,x.g[3]=x.g[3]+j&4294967295}r.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var I=T-this.blockSize,k=this.B,C=this.h,j=0;j<T;){if(C==0)for(;j<=I;)i(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<T;)if(k[C++]=x.charCodeAt(j++),C==this.blockSize){i(this,k),C=0;break}}else for(;j<T;)if(k[C++]=x[j++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=T},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var I=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=I&255,I/=256;for(this.u(x),x=Array(16),T=I=0;4>T;++T)for(var k=0;32>k;k+=8)x[I++]=this.g[T]>>>k&255;return x};function o(x,T){var I=a;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=T(x)}function s(x,T){this.h=T;for(var I=[],k=!0,C=x.length-1;0<=C;C--){var j=x[C]|0;k&&j==T||(I[C]=j,k=!1)}this.g=I}var a={};function l(x){return-128<=x&&128>x?o(x,function(T){return new s([T|0],0>T?-1:0)}):new s([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return y(u(-x));for(var T=[],I=1,k=0;x>=I;k++)T[k]=x/I|0,I*=4294967296;return new s(T,0)}function c(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return y(c(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(T,8)),k=h,C=0;C<x.length;C+=8){var j=Math.min(8,x.length-C),R=parseInt(x.substring(C,C+j),T);8>j?(j=u(Math.pow(T,j)),k=k.j(j).add(u(R))):(k=k.j(I),k=k.add(u(R)))}return k}var h=l(0),f=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-y(this).m();for(var x=0,T=1,I=0;I<this.g.length;I++){var k=this.i(I);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(m(this))return"0";if(g(this))return"-"+y(this).toString(x);for(var T=u(Math.pow(x,6)),I=this,k="";;){var C=S(I,T).g;I=w(I,C.j(T));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=C,m(I))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function m(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function g(x){return x.h==-1}t.l=function(x){return x=w(this,x),g(x)?-1:m(x)?0:1};function y(x){for(var T=x.g.length,I=[],k=0;k<T;k++)I[k]=~x.g[k];return new s(I,~x.h).add(f)}t.abs=function(){return g(this)?y(this):this},t.add=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0,C=0;C<=T;C++){var j=k+(this.i(C)&65535)+(x.i(C)&65535),R=(j>>>16)+(this.i(C)>>>16)+(x.i(C)>>>16);k=R>>>16,j&=65535,R&=65535,I[C]=R<<16|j}return new s(I,I[I.length-1]&-2147483648?-1:0)};function w(x,T){return x.add(y(T))}t.j=function(x){if(m(this)||m(x))return h;if(g(this))return g(x)?y(this).j(y(x)):y(y(this).j(x));if(g(x))return y(this.j(y(x)));if(0>this.l(p)&&0>x.l(p))return u(this.m()*x.m());for(var T=this.g.length+x.g.length,I=[],k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<x.g.length;C++){var j=this.i(k)>>>16,R=this.i(k)&65535,V=x.i(C)>>>16,U=x.i(C)&65535;I[2*k+2*C]+=R*U,_(I,2*k+2*C),I[2*k+2*C+1]+=j*U,_(I,2*k+2*C+1),I[2*k+2*C+1]+=R*V,_(I,2*k+2*C+1),I[2*k+2*C+2]+=j*V,_(I,2*k+2*C+2)}for(k=0;k<T;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=T;k<2*T;k++)I[k]=0;return new s(I,0)};function _(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function v(x,T){this.g=x,this.h=T}function S(x,T){if(m(T))throw Error("division by zero");if(m(x))return new v(h,h);if(g(x))return T=S(y(x),T),new v(y(T.g),y(T.h));if(g(T))return T=S(x,y(T)),new v(y(T.g),T.h);if(30<x.g.length){if(g(x)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var I=f,k=T;0>=k.l(x);)I=E(I),k=E(k);var C=A(I,1),j=A(k,1);for(k=A(k,2),I=A(I,2);!m(k);){var R=j.add(k);0>=R.l(x)&&(C=C.add(I),j=R),k=A(k,1),I=A(I,1)}return T=w(x,C.j(T)),new v(C,T)}for(C=h;0<=x.l(T);){for(I=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=u(I),R=j.j(T);g(R)||0<R.l(x);)I-=k,j=u(I),R=j.j(T);m(j)&&(j=f),C=C.add(j),x=w(x,R)}return new v(C,x)}t.A=function(x){return S(this,x).h},t.and=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)&x.i(k);return new s(I,this.h&x.h)},t.or=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)|x.i(k);return new s(I,this.h|x.h)},t.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)^x.i(k);return new s(I,this.h^x.h)};function E(x){for(var T=x.g.length+1,I=[],k=0;k<T;k++)I[k]=x.i(k)<<1|x.i(k-1)>>>31;return new s(I,x.h)}function A(x,T){var I=T>>5;T%=32;for(var k=x.g.length-I,C=[],j=0;j<k;j++)C[j]=0<T?x.i(j+I)>>>T|x.i(j+I+1)<<32-T:x.i(j+I);return new s(C,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gD=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,$o=s}).apply(typeof DP<"u"?DP:typeof self<"u"?self:typeof window<"u"?window:{});var Rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yD,Tc,vD,Ep,mw,_D,wD,bD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,P){return d==Array.prototype||d==Object.prototype||(d[b]=P.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rd=="object"&&Rd];for(var b=0;b<d.length;++b){var P=d[b];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(d,b){if(b)e:{var P=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var $=d[N];if(!($ in P))break e;P=P[$]}d=d[d.length-1],N=P[d],b=b(N),b!=N&&b!=null&&e(P,d,{configurable:!0,writable:!0,value:b})}}function o(d,b){d instanceof String&&(d+="");var P=0,N=!1,$={next:function(){if(!N&&P<d.length){var F=P++;return{value:b(F,d[F]),done:!1}}return N=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(d){return d||function(){return o(this,function(b,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function u(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function c(d,b,P){return d.call.apply(d.bind,arguments)}function h(d,b,P){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,N),d.apply(b,$)}}return function(){return d.apply(b,arguments)}}function f(d,b,P){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,b){var P=Array.prototype.slice.call(arguments,1);return function(){var N=P.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function m(d,b){function P(){}P.prototype=b.prototype,d.aa=b.prototype,d.prototype=new P,d.prototype.constructor=d,d.Qb=function(N,$,F){for(var Z=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Z[Fe-2]=arguments[Fe];return b.prototype[$].apply(N,Z)}}function g(d){const b=d.length;if(0<b){const P=Array(b);for(let N=0;N<b;N++)P[N]=d[N];return P}return[]}function y(d,b){for(let P=1;P<arguments.length;P++){const N=arguments[P];if(l(N)){const $=d.length||0,F=N.length||0;d.length=$+F;for(let Z=0;Z<F;Z++)d[$+Z]=N[Z]}else d.push(N)}}class w{constructor(b,P){this.i=b,this.j=P,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function _(d){return/^[\s\xa0]*$/.test(d)}function v(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function S(d){return S[" "](d),d}S[" "]=function(){};var E=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function A(d,b,P){for(const N in d)b.call(P,d[N],N,d)}function x(d,b){for(const P in d)b.call(void 0,d[P],P,d)}function T(d){const b={};for(const P in d)b[P]=d[P];return b}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,b){let P,N;for(let $=1;$<arguments.length;$++){N=arguments[$];for(P in N)d[P]=N[P];for(let F=0;F<I.length;F++)P=I[F],Object.prototype.hasOwnProperty.call(N,P)&&(d[P]=N[P])}}function C(d){var b=1;d=d.split(":");const P=[];for(;0<b&&d.length;)P.push(d.shift()),b--;return d.length&&P.push(d.join(":")),P}function j(d){a.setTimeout(()=>{throw d},0)}function R(){var d=z;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class V{constructor(){this.h=this.g=null}add(b,P){const N=U.get();N.set(b,P),this.h?this.h.next=N:this.g=N,this.h=N}}var U=new w(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(b,P){this.h=b,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let H,L=!1,z=new V,X=()=>{const d=a.Promise.resolve(void 0);H=()=>{d.then(Y)}};var Y=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(P){j(P)}var b=U;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}L=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const P=()=>{};a.addEventListener("test",P,b),a.removeEventListener("test",P,b)}catch{}return d}();function Oe(d,b){if(ne.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var P=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(E){e:{try{S(b.nodeName);var $=!0;break e}catch{}$=!1}$||(b=null)}}else P=="mouseover"?b=d.fromElement:P=="mouseout"&&(b=d.toElement);this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Oe.aa.h.call(this)}}m(Oe,ne);var De={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Rt=0;function te(d,b,P,N,$){this.listener=d,this.proxy=null,this.src=b,this.type=P,this.capture=!!N,this.ha=$,this.key=++Rt,this.da=this.fa=!1}function ae(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function se(d){this.src=d,this.g={},this.h=0}se.prototype.add=function(d,b,P,N,$){var F=d.toString();d=this.g[F],d||(d=this.g[F]=[],this.h++);var Z=ze(d,b,N,$);return-1<Z?(b=d[Z],P||(b.fa=!1)):(b=new te(b,this.src,F,!!N,$),b.fa=P,d.push(b)),b};function G(d,b){var P=b.type;if(P in d.g){var N=d.g[P],$=Array.prototype.indexOf.call(N,b,void 0),F;(F=0<=$)&&Array.prototype.splice.call(N,$,1),F&&(ae(b),d.g[P].length==0&&(delete d.g[P],d.h--))}}function ze(d,b,P,N){for(var $=0;$<d.length;++$){var F=d[$];if(!F.da&&F.listener==b&&F.capture==!!P&&F.ha==N)return $}return-1}var we="closure_lm_"+(1e6*Math.random()|0),tt={};function at(d,b,P,N,$){if(Array.isArray(b)){for(var F=0;F<b.length;F++)at(d,b[F],P,N,$);return null}return P=Du(P),d&&d[yt]?d.K(b,P,u(N)?!!N.capture:!!N,$):Yt(d,b,P,!1,N,$)}function Yt(d,b,P,N,$,F){if(!b)throw Error("Invalid event type");var Z=u($)?!!$.capture:!!$,Fe=ds(d);if(Fe||(d[we]=Fe=new se(d)),P=Fe.add(b,P,N,Z,F),P.proxy)return P;if(N=Vr(),P.proxy=N,N.src=d,N.listener=P,d.addEventListener)_e||($=Z),$===void 0&&($=!1),d.addEventListener(b.toString(),N,$);else if(d.attachEvent)d.attachEvent(Fr(b.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Vr(){function d(P){return b.call(d.src,d.listener,P)}const b=ui;return d}function li(d,b,P,N,$){if(Array.isArray(b))for(var F=0;F<b.length;F++)li(d,b[F],P,N,$);else N=u(N)?!!N.capture:!!N,P=Du(P),d&&d[yt]?(d=d.i,b=String(b).toString(),b in d.g&&(F=d.g[b],P=ze(F,P,N,$),-1<P&&(ae(F[P]),Array.prototype.splice.call(F,P,1),F.length==0&&(delete d.g[b],d.h--)))):d&&(d=ds(d))&&(b=d.g[b.toString()],d=-1,b&&(d=ze(b,P,N,$)),(P=-1<d?b[d]:null)&&eo(P))}function eo(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[yt])G(b.i,d);else{var P=d.type,N=d.proxy;b.removeEventListener?b.removeEventListener(P,N,d.capture):b.detachEvent?b.detachEvent(Fr(P),N):b.addListener&&b.removeListener&&b.removeListener(N),(P=ds(b))?(G(P,d),P.h==0&&(P.src=null,b[we]=null)):ae(d)}}}function Fr(d){return d in tt?tt[d]:tt[d]="on"+d}function ui(d,b){if(d.da)d=!0;else{b=new Oe(b,this);var P=d.listener,N=d.ha||d.src;d.fa&&eo(d),d=P.call(N,b)}return d}function ds(d){return d=d[we],d instanceof se?d:null}var Oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(d){return typeof d=="function"?d:(d[Oa]||(d[Oa]=function(b){return d.handleEvent(b)}),d[Oa])}function Qt(){K.call(this),this.i=new se(this),this.M=this,this.F=null}m(Qt,K),Qt.prototype[yt]=!0,Qt.prototype.removeEventListener=function(d,b,P,N){li(this,d,b,P,N)};function mn(d,b){var P,N=d.F;if(N)for(P=[];N;N=N.F)P.push(N);if(d=d.M,N=b.type||b,typeof b=="string")b=new ne(b,d);else if(b instanceof ne)b.target=b.target||d;else{var $=b;b=new ne(N,d),k(b,$)}if($=!0,P)for(var F=P.length-1;0<=F;F--){var Z=b.g=P[F];$=Jf(Z,N,!0,b)&&$}if(Z=b.g=d,$=Jf(Z,N,!0,b)&&$,$=Jf(Z,N,!1,b)&&$,P)for(F=0;F<P.length;F++)Z=b.g=P[F],$=Jf(Z,N,!1,b)&&$}Qt.prototype.N=function(){if(Qt.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var P=d.g[b],N=0;N<P.length;N++)ae(P[N]);delete d.g[b],d.h--}}this.F=null},Qt.prototype.K=function(d,b,P,N){return this.i.add(String(d),b,!1,P,N)},Qt.prototype.L=function(d,b,P,N){return this.i.add(String(d),b,!0,P,N)};function Jf(d,b,P,N){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var $=!0,F=0;F<b.length;++F){var Z=b[F];if(Z&&!Z.da&&Z.capture==P){var Fe=Z.listener,Ft=Z.ha||Z.src;Z.fa&&G(d.i,Z),$=Fe.call(Ft,N)!==!1&&$}}return $&&!N.defaultPrevented}function GT(d,b,P){if(typeof d=="function")P&&(d=f(d,P));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(d,b||0)}function XT(d){d.g=GT(()=>{d.g=null,d.i&&(d.i=!1,XT(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class EB extends K{constructor(b,P){super(),this.m=b,this.l=P,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:XT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $u(d){K.call(this),this.h=d,this.g={}}m($u,K);var YT=[];function QT(d){A(d.g,function(b,P){this.g.hasOwnProperty(P)&&eo(b)},d),d.g={}}$u.prototype.N=function(){$u.aa.N.call(this),QT(this)},$u.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vv=a.JSON.stringify,TB=a.JSON.parse,SB=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function _v(){}_v.prototype.h=null;function JT(d){return d.h||(d.h=d.i())}function ZT(){}var Lu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wv(){ne.call(this,"d")}m(wv,ne);function bv(){ne.call(this,"c")}m(bv,ne);var ps={},eS=null;function Zf(){return eS=eS||new Qt}ps.La="serverreachability";function tS(d){ne.call(this,ps.La,d)}m(tS,ne);function Vu(d){const b=Zf();mn(b,new tS(b))}ps.STAT_EVENT="statevent";function nS(d,b){ne.call(this,ps.STAT_EVENT,d),this.stat=b}m(nS,ne);function gn(d){const b=Zf();mn(b,new nS(b,d))}ps.Ma="timingevent";function rS(d,b){ne.call(this,ps.Ma,d),this.size=b}m(rS,ne);function Fu(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},b)}function Uu(){this.g=!0}Uu.prototype.xa=function(){this.g=!1};function AB(d,b,P,N,$,F){d.info(function(){if(d.g)if(F)for(var Z="",Fe=F.split("&"),Ft=0;Ft<Fe.length;Ft++){var ke=Fe[Ft].split("=");if(1<ke.length){var Jt=ke[0];ke=ke[1];var Zt=Jt.split("_");Z=2<=Zt.length&&Zt[1]=="type"?Z+(Jt+"="+ke+"&"):Z+(Jt+"=redacted&")}}else Z=null;else Z=F;return"XMLHTTP REQ ("+N+") [attempt "+$+"]: "+b+`
`+P+`
`+Z})}function PB(d,b,P,N,$,F,Z){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+$+"]: "+b+`
`+P+`
`+F+" "+Z})}function Ia(d,b,P,N){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+IB(d,P)+(N?" "+N:"")})}function OB(d,b){d.info(function(){return"TIMEOUT: "+b})}Uu.prototype.info=function(){};function IB(d,b){if(!d.g)return b;if(!b)return null;try{var P=JSON.parse(b);if(P){for(d=0;d<P.length;d++)if(Array.isArray(P[d])){var N=P[d];if(!(2>N.length)){var $=N[1];if(Array.isArray($)&&!(1>$.length)){var F=$[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Z=1;Z<$.length;Z++)$[Z]=""}}}}return vv(P)}catch{return b}}var ed={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xv;function td(){}m(td,_v),td.prototype.g=function(){return new XMLHttpRequest},td.prototype.i=function(){return{}},xv=new td;function to(d,b,P,N){this.j=d,this.i=b,this.l=P,this.R=N||1,this.U=new $u(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oS}function oS(){this.i=null,this.g="",this.h=!1}var sS={},Ev={};function Tv(d,b,P){d.L=1,d.v=od(ci(b)),d.m=P,d.P=!0,aS(d,null)}function aS(d,b){d.F=Date.now(),nd(d),d.A=ci(d.v);var P=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),bS(P.i,"t",N),d.C=0,P=d.j.J,d.h=new oS,d.g=VS(d.j,P?b:null,!d.m),0<d.O&&(d.M=new EB(f(d.Y,d,d.g),d.O)),b=d.U,P=d.g,N=d.ca;var $="readystatechange";Array.isArray($)||($&&(YT[0]=$.toString()),$=YT);for(var F=0;F<$.length;F++){var Z=at(P,$[F],N||b.handleEvent,!1,b.h||b);if(!Z)break;b.g[Z.key]=Z}b=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),Vu(),AB(d.i,d.u,d.A,d.l,d.R,d.m)}to.prototype.ca=function(d){d=d.target;const b=this.M;b&&hi(d)==3?b.j():this.Y(d)},to.prototype.Y=function(d){try{if(d==this.g)e:{const Zt=hi(this.g);var b=this.g.Ba();const Ra=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||OS(this.g)))){this.J||Zt!=4||b==7||(b==8||0>=Ra?Vu(3):Vu(2)),Sv(this);var P=this.g.Z();this.X=P;t:if(lS(this)){var N=OS(this.g);d="";var $=N.length,F=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ms(this),Bu(this);var Z="";break t}this.h.i=new a.TextDecoder}for(b=0;b<$;b++)this.h.h=!0,d+=this.h.i.decode(N[b],{stream:!(F&&b==$-1)});N.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=P==200,PB(this.i,this.u,this.A,this.l,this.R,Zt,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Ft=this.g;if((Fe=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Fe)){var ke=Fe;break t}}ke=null}if(P=ke)Ia(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Av(this,P);else{this.o=!1,this.s=3,gn(12),ms(this),Bu(this);break e}}if(this.P){P=!0;let gr;for(;!this.J&&this.C<Z.length;)if(gr=CB(this,Z),gr==Ev){Zt==4&&(this.s=4,gn(14),P=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==sS){this.s=4,gn(15),Ia(this.i,this.l,Z,"[Invalid Chunk]"),P=!1;break}else Ia(this.i,this.l,gr,null),Av(this,gr);if(lS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||Z.length!=0||this.h.h||(this.s=1,gn(16),P=!1),this.o=this.o&&P,!P)Ia(this.i,this.l,Z,"[Invalid Chunked Response]"),ms(this),Bu(this);else if(0<Z.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Rv(Jt),Jt.M=!0,gn(11))}}else Ia(this.i,this.l,Z,null),Av(this,Z);Zt==4&&ms(this),this.o&&!this.J&&(Zt==4?MS(this.j,this):(this.o=!1,nd(this)))}else KB(this.g),P==400&&0<Z.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),ms(this),Bu(this)}}}catch{}finally{}};function lS(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function CB(d,b){var P=d.C,N=b.indexOf(`
`,P);return N==-1?Ev:(P=Number(b.substring(P,N)),isNaN(P)?sS:(N+=1,N+P>b.length?Ev:(b=b.slice(N,N+P),d.C=N+P,b)))}to.prototype.cancel=function(){this.J=!0,ms(this)};function nd(d){d.S=Date.now()+d.I,uS(d,d.I)}function uS(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Fu(f(d.ba,d),b)}function Sv(d){d.B&&(a.clearTimeout(d.B),d.B=null)}to.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(OB(this.i,this.A),this.L!=2&&(Vu(),gn(17)),ms(this),this.s=2,Bu(this)):uS(this,this.S-d)};function Bu(d){d.j.G==0||d.J||MS(d.j,d)}function ms(d){Sv(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,QT(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function Av(d,b){try{var P=d.j;if(P.G!=0&&(P.g==d||Pv(P.h,d))){if(!d.K&&Pv(P.h,d)&&P.G==3){try{var N=P.Da.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var $=N;if($[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<d.F)hd(P),ud(P);else break e;kv(P),gn(18)}}else P.za=$[1],0<P.za-P.T&&37500>$[2]&&P.F&&P.v==0&&!P.C&&(P.C=Fu(f(P.Za,P),6e3));if(1>=fS(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else ys(P,11)}else if((d.K||P.g==d)&&hd(P),!_(b))for($=P.Da.g.parse(b),b=0;b<$.length;b++){let ke=$[b];if(P.T=ke[0],ke=ke[1],P.G==2)if(ke[0]=="c"){P.K=ke[1],P.ia=ke[2];const Jt=ke[3];Jt!=null&&(P.la=Jt,P.j.info("VER="+P.la));const Zt=ke[4];Zt!=null&&(P.Aa=Zt,P.j.info("SVER="+P.Aa));const Ra=ke[5];Ra!=null&&typeof Ra=="number"&&0<Ra&&(N=1.5*Ra,P.L=N,P.j.info("backChannelRequestTimeoutMs_="+N)),N=P;const gr=d.g;if(gr){const dd=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dd){var F=N.h;F.g||dd.indexOf("spdy")==-1&&dd.indexOf("quic")==-1&&dd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ov(F,F.h),F.h=null))}if(N.D){const jv=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;jv&&(N.ya=jv,Ge(N.I,N.D,jv))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-d.F,P.j.info("Handshake RTT: "+P.R+"ms")),N=P;var Z=d;if(N.qa=LS(N,N.J?N.ia:null,N.W),Z.K){dS(N.h,Z);var Fe=Z,Ft=N.L;Ft&&(Fe.I=Ft),Fe.B&&(Sv(Fe),nd(Fe)),N.g=Z}else jS(N);0<P.i.length&&cd(P)}else ke[0]!="stop"&&ke[0]!="close"||ys(P,7);else P.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?ys(P,7):Cv(P):ke[0]!="noop"&&P.l&&P.l.ta(ke),P.v=0)}}Vu(4)}catch{}}var kB=class{constructor(d,b){this.g=d,this.map=b}};function cS(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hS(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function fS(d){return d.h?1:d.g?d.g.size:0}function Pv(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function Ov(d,b){d.g?d.g.add(b):d.h=b}function dS(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}cS.prototype.cancel=function(){if(this.i=pS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function pS(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const P of d.g.values())b=b.concat(P.D);return b}return g(d.i)}function RB(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var b=[],P=d.length,N=0;N<P;N++)b.push(d[N]);return b}b=[],P=0;for(N in d)b[P++]=d[N];return b}function jB(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var b=[];d=d.length;for(var P=0;P<d;P++)b.push(P);return b}b=[],P=0;for(const N in d)b[P++]=N;return b}}}function mS(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var P=jB(d),N=RB(d),$=N.length,F=0;F<$;F++)b.call(void 0,N[F],P&&P[F],d)}var gS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NB(d,b){if(d){d=d.split("&");for(var P=0;P<d.length;P++){var N=d[P].indexOf("="),$=null;if(0<=N){var F=d[P].substring(0,N);$=d[P].substring(N+1)}else F=d[P];b(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function gs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof gs){this.h=d.h,rd(this,d.j),this.o=d.o,this.g=d.g,id(this,d.s),this.l=d.l;var b=d.i,P=new Hu;P.i=b.i,b.g&&(P.g=new Map(b.g),P.h=b.h),yS(this,P),this.m=d.m}else d&&(b=String(d).match(gS))?(this.h=!1,rd(this,b[1]||"",!0),this.o=zu(b[2]||""),this.g=zu(b[3]||"",!0),id(this,b[4]),this.l=zu(b[5]||"",!0),yS(this,b[6]||"",!0),this.m=zu(b[7]||"")):(this.h=!1,this.i=new Hu(null,this.h))}gs.prototype.toString=function(){var d=[],b=this.j;b&&d.push(Wu(b,vS,!0),":");var P=this.g;return(P||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Wu(b,vS,!0),"@"),d.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&d.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&d.push("/"),d.push(Wu(P,P.charAt(0)=="/"?$B:DB,!0))),(P=this.i.toString())&&d.push("?",P),(P=this.m)&&d.push("#",Wu(P,VB)),d.join("")};function ci(d){return new gs(d)}function rd(d,b,P){d.j=P?zu(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function id(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function yS(d,b,P){b instanceof Hu?(d.i=b,FB(d.i,d.h)):(P||(b=Wu(b,LB)),d.i=new Hu(b,d.h))}function Ge(d,b,P){d.i.set(b,P)}function od(d){return Ge(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function zu(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Wu(d,b,P){return typeof d=="string"?(d=encodeURI(d).replace(b,MB),P&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function MB(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var vS=/[#\/\?@]/g,DB=/[#\?:]/g,$B=/[#\?]/g,LB=/[#\?@]/g,VB=/#/g;function Hu(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function no(d){d.g||(d.g=new Map,d.h=0,d.i&&NB(d.i,function(b,P){d.add(decodeURIComponent(b.replace(/\+/g," ")),P)}))}t=Hu.prototype,t.add=function(d,b){no(this),this.i=null,d=Ca(this,d);var P=this.g.get(d);return P||this.g.set(d,P=[]),P.push(b),this.h+=1,this};function _S(d,b){no(d),b=Ca(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function wS(d,b){return no(d),b=Ca(d,b),d.g.has(b)}t.forEach=function(d,b){no(this),this.g.forEach(function(P,N){P.forEach(function($){d.call(b,$,N,this)},this)},this)},t.na=function(){no(this);const d=Array.from(this.g.values()),b=Array.from(this.g.keys()),P=[];for(let N=0;N<b.length;N++){const $=d[N];for(let F=0;F<$.length;F++)P.push(b[N])}return P},t.V=function(d){no(this);let b=[];if(typeof d=="string")wS(this,d)&&(b=b.concat(this.g.get(Ca(this,d))));else{d=Array.from(this.g.values());for(let P=0;P<d.length;P++)b=b.concat(d[P])}return b},t.set=function(d,b){return no(this),this.i=null,d=Ca(this,d),wS(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function bS(d,b,P){_S(d,b),0<P.length&&(d.i=null,d.g.set(Ca(d,b),g(P)),d.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(var P=0;P<b.length;P++){var N=b[P];const F=encodeURIComponent(String(N)),Z=this.V(N);for(N=0;N<Z.length;N++){var $=F;Z[N]!==""&&($+="="+encodeURIComponent(String(Z[N]))),d.push($)}}return this.i=d.join("&")};function Ca(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function FB(d,b){b&&!d.j&&(no(d),d.i=null,d.g.forEach(function(P,N){var $=N.toLowerCase();N!=$&&(_S(this,N),bS(this,$,P))},d)),d.j=b}function UB(d,b){const P=new Uu;if(a.Image){const N=new Image;N.onload=p(ro,P,"TestLoadImage: loaded",!0,b,N),N.onerror=p(ro,P,"TestLoadImage: error",!1,b,N),N.onabort=p(ro,P,"TestLoadImage: abort",!1,b,N),N.ontimeout=p(ro,P,"TestLoadImage: timeout",!1,b,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else b(!1)}function BB(d,b){const P=new Uu,N=new AbortController,$=setTimeout(()=>{N.abort(),ro(P,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:N.signal}).then(F=>{clearTimeout($),F.ok?ro(P,"TestPingServer: ok",!0,b):ro(P,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout($),ro(P,"TestPingServer: error",!1,b)})}function ro(d,b,P,N,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),N(P)}catch{}}function zB(){this.g=new SB}function WB(d,b,P){const N=P||"";try{mS(d,function($,F){let Z=$;u($)&&(Z=vv($)),b.push(N+F+"="+encodeURIComponent(Z))})}catch($){throw b.push(N+"type="+encodeURIComponent("_badmap")),$}}function sd(d){this.l=d.Ub||null,this.j=d.eb||!1}m(sd,_v),sd.prototype.g=function(){return new ad(this.l,this.j)},sd.prototype.i=function(d){return function(){return d}}({});function ad(d,b){Qt.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(ad,Qt),t=ad.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,Ku(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ku(this)),this.g&&(this.readyState=3,Ku(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xS(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function xS(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?qu(this):Ku(this),this.readyState==3&&xS(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,qu(this))},t.Qa=function(d){this.g&&(this.response=d,qu(this))},t.ga=function(){this.g&&qu(this)};function qu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ku(d)}t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var P=b.next();!P.done;)P=P.value,d.push(P[0]+": "+P[1]),P=b.next();return d.join(`\r
`)};function Ku(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ad.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ES(d){let b="";return A(d,function(P,N){b+=N,b+=":",b+=P,b+=`\r
`}),b}function Iv(d,b,P){e:{for(N in P){var N=!1;break e}N=!0}N||(P=ES(P),typeof d=="string"?P!=null&&encodeURIComponent(String(P)):Ge(d,b,P))}function lt(d){Qt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(lt,Qt);var HB=/^https?$/i,qB=["POST","PUT"];t=lt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,P,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xv.g(),this.v=this.o?JT(this.o):JT(xv),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(F){TS(this,F);return}if(d=P||"",P=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var $ in N)P.set($,N[$]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const F of N.keys())P.set(F,N.get(F));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(P.keys()).find(F=>F.toLowerCase()=="content-type"),$=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qB,b,void 0))||N||$||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Z]of P)this.g.setRequestHeader(F,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{PS(this),this.u=!0,this.g.send(d),this.u=!1}catch(F){TS(this,F)}};function TS(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,SS(d),ld(d)}function SS(d){d.A||(d.A=!0,mn(d,"complete"),mn(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mn(this,"complete"),mn(this,"abort"),ld(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ld(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?AS(this):this.bb())},t.bb=function(){AS(this)};function AS(d){if(d.h&&typeof s<"u"&&(!d.v[1]||hi(d)!=4||d.Z()!=2)){if(d.u&&hi(d)==4)GT(d.Ea,0,d);else if(mn(d,"readystatechange"),hi(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var P;if(!(P=b)){var N;if(N=Z===0){var $=String(d.D).match(gS)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),N=!HB.test($?$.toLowerCase():"")}P=N}if(P)mn(d,"complete"),mn(d,"success");else{d.m=6;try{var F=2<hi(d)?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.Z()+"]",SS(d)}}finally{ld(d)}}}}function ld(d,b){if(d.g){PS(d);const P=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||mn(d,"ready");try{P.onreadystatechange=N}catch{}}}function PS(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function hi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),TB(b)}};function OS(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function KB(d){const b={};d=(d.g&&2<=hi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(_(d[N]))continue;var P=C(d[N]);const $=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const F=b[$]||[];b[$]=F,F.push(P)}x(b,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gu(d,b,P){return P&&P.internalChannelParams&&P.internalChannelParams[d]||b}function IS(d){this.Aa=0,this.i=[],this.j=new Uu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gu("baseRetryDelayMs",5e3,d),this.cb=Gu("retryDelaySeedMs",1e4,d),this.Wa=Gu("forwardChannelMaxRetries",2,d),this.wa=Gu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new cS(d&&d.concurrentRequestLimit),this.Da=new zB,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=IS.prototype,t.la=8,t.G=1,t.connect=function(d,b,P,N){gn(0),this.W=d,this.H=b||{},P&&N!==void 0&&(this.H.OSID=P,this.H.OAID=N),this.F=this.X,this.I=LS(this,null,this.W),cd(this)};function Cv(d){if(CS(d),d.G==3){var b=d.U++,P=ci(d.I);if(Ge(P,"SID",d.K),Ge(P,"RID",b),Ge(P,"TYPE","terminate"),Xu(d,P),b=new to(d,d.j,b),b.L=2,b.v=od(ci(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=b.v,P=!0),P||(b.g=VS(b.j,null),b.g.ea(b.v)),b.F=Date.now(),nd(b)}$S(d)}function ud(d){d.g&&(Rv(d),d.g.cancel(),d.g=null)}function CS(d){ud(d),d.u&&(a.clearTimeout(d.u),d.u=null),hd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function cd(d){if(!hS(d.h)&&!d.s){d.s=!0;var b=d.Ga;H||X(),L||(H(),L=!0),z.add(b,d),d.B=0}}function GB(d,b){return fS(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Fu(f(d.Ga,d,b),DS(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new to(this,this.j,d);let F=this.o;if(this.S&&(F?(F=T(F),k(F,this.S)):F=this.S),this.m!==null||this.O||($.H=F,F=null),this.P)e:{for(var b=0,P=0;P<this.i.length;P++){t:{var N=this.i[P];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,4096<b){b=P;break e}if(b===4096||P===this.i.length-1){b=P+1;break e}}b=1e3}else b=1e3;b=RS(this,$,b),P=ci(this.I),Ge(P,"RID",d),Ge(P,"CVER",22),this.D&&Ge(P,"X-HTTP-Session-Id",this.D),Xu(this,P),F&&(this.O?b="headers="+encodeURIComponent(String(ES(F)))+"&"+b:this.m&&Iv(P,this.m,F)),Ov(this.h,$),this.Ua&&Ge(P,"TYPE","init"),this.P?(Ge(P,"$req",b),Ge(P,"SID","null"),$.T=!0,Tv($,P,null)):Tv($,P,b),this.G=2}}else this.G==3&&(d?kS(this,d):this.i.length==0||hS(this.h)||kS(this))};function kS(d,b){var P;b?P=b.l:P=d.U++;const N=ci(d.I);Ge(N,"SID",d.K),Ge(N,"RID",P),Ge(N,"AID",d.T),Xu(d,N),d.m&&d.o&&Iv(N,d.m,d.o),P=new to(d,d.j,P,d.B+1),d.m===null&&(P.H=d.o),b&&(d.i=b.D.concat(d.i)),b=RS(d,P,1e3),P.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ov(d.h,P),Tv(P,N,b)}function Xu(d,b){d.H&&A(d.H,function(P,N){Ge(b,N,P)}),d.l&&mS({},function(P,N){Ge(b,N,P)})}function RS(d,b,P){P=Math.min(d.i.length,P);var N=d.l?f(d.l.Na,d.l,d):null;e:{var $=d.i;let F=-1;for(;;){const Z=["count="+P];F==-1?0<P?(F=$[0].g,Z.push("ofs="+F)):F=0:Z.push("ofs="+F);let Fe=!0;for(let Ft=0;Ft<P;Ft++){let ke=$[Ft].g;const Jt=$[Ft].map;if(ke-=F,0>ke)F=Math.max(0,$[Ft].g-100),Fe=!1;else try{WB(Jt,Z,"req"+ke+"_")}catch{N&&N(Jt)}}if(Fe){N=Z.join("&");break e}}}return d=d.i.splice(0,P),b.D=d,N}function jS(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;H||X(),L||(H(),L=!0),z.add(b,d),d.v=0}}function kv(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Fu(f(d.Fa,d),DS(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,NS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Fu(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gn(10),ud(this),NS(this))};function Rv(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function NS(d){d.g=new to(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=ci(d.qa);Ge(b,"RID","rpc"),Ge(b,"SID",d.K),Ge(b,"AID",d.T),Ge(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ge(b,"TO",d.ja),Ge(b,"TYPE","xmlhttp"),Xu(d,b),d.m&&d.o&&Iv(b,d.m,d.o),d.L&&(d.g.I=d.L);var P=d.g;d=d.ia,P.L=1,P.v=od(ci(b)),P.m=null,P.P=!0,aS(P,d)}t.Za=function(){this.C!=null&&(this.C=null,ud(this),kv(this),gn(19))};function hd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function MS(d,b){var P=null;if(d.g==b){hd(d),Rv(d),d.g=null;var N=2}else if(Pv(d.h,b))P=b.D,dS(d.h,b),N=1;else return;if(d.G!=0){if(b.o)if(N==1){P=b.m?b.m.length:0,b=Date.now()-b.F;var $=d.B;N=Zf(),mn(N,new rS(N,P)),cd(d)}else jS(d);else if($=b.s,$==3||$==0&&0<b.X||!(N==1&&GB(d,b)||N==2&&kv(d)))switch(P&&0<P.length&&(b=d.h,b.i=b.i.concat(P)),$){case 1:ys(d,5);break;case 4:ys(d,10);break;case 3:ys(d,6);break;default:ys(d,2)}}}function DS(d,b){let P=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(P*=2),P*b}function ys(d,b){if(d.j.info("Error code "+b),b==2){var P=f(d.fb,d),N=d.Xa;const $=!N;N=new gs(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||rd(N,"https"),od(N),$?UB(N.toString(),P):BB(N.toString(),P)}else gn(2);d.G=0,d.l&&d.l.sa(b),$S(d),CS(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function $S(d){if(d.G=0,d.ka=[],d.l){const b=pS(d.h);(b.length!=0||d.i.length!=0)&&(y(d.ka,b),y(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function LS(d,b,P){var N=P instanceof gs?ci(P):new gs(P);if(N.g!="")b&&(N.g=b+"."+N.g),id(N,N.s);else{var $=a.location;N=$.protocol,b=b?b+"."+$.hostname:$.hostname,$=+$.port;var F=new gs(null);N&&rd(F,N),b&&(F.g=b),$&&id(F,$),P&&(F.l=P),N=F}return P=d.D,b=d.ya,P&&b&&Ge(N,P,b),Ge(N,"VER",d.la),Xu(d,N),N}function VS(d,b,P){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new lt(new sd({eb:P})):new lt(d.pa),b.Ha(d.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function FS(){}t=FS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fd(){}fd.prototype.g=function(d,b){return new Dn(d,b)};function Dn(d,b){Qt.call(this),this.g=new IS(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!_(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!_(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new ka(this)}m(Dn,Qt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Cv(this.g)},Dn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var P={};P.__data__=d,d=P}else this.u&&(P={},P.__data__=vv(d),d=P);b.i.push(new kB(b.Ya++,d)),b.G==3&&cd(b)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Cv(this.g),delete this.g,Dn.aa.N.call(this)};function US(d){wv.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const P in b){d=P;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}m(US,wv);function BS(){bv.call(this),this.status=1}m(BS,bv);function ka(d){this.g=d}m(ka,FS),ka.prototype.ua=function(){mn(this.g,"a")},ka.prototype.ta=function(d){mn(this.g,new US(d))},ka.prototype.sa=function(d){mn(this.g,new BS)},ka.prototype.ra=function(){mn(this.g,"b")},fd.prototype.createWebChannel=fd.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,bD=function(){return new fd},wD=function(){return Zf()},_D=ps,mw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ed.NO_ERROR=0,ed.TIMEOUT=8,ed.HTTP_ERROR=6,Ep=ed,iS.COMPLETE="complete",vD=iS,ZT.EventType=Lu,Lu.OPEN="a",Lu.CLOSE="b",Lu.ERROR="c",Lu.MESSAGE="d",Qt.prototype.listen=Qt.prototype.K,Tc=ZT,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,yD=lt}).apply(typeof Rd<"u"?Rd:typeof self<"u"?self:typeof window<"u"?window:{});const $P="@firebase/firestore",LP="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new bx("@firebase/firestore");function Ba(){return ia.logLevel}function re(t,...e){if(ia.logLevel<=Te.DEBUG){const n=e.map(jx);ia.debug(`Firestore (${gu}): ${t}`,...n)}}function Ui(t,...e){if(ia.logLevel<=Te.ERROR){const n=e.map(jx);ia.error(`Firestore (${gu}): ${t}`,...n)}}function Nl(t,...e){if(ia.logLevel<=Te.WARN){const n=e.map(jx);ia.warn(`Firestore (${gu}): ${t}`,...n)}}function jx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xD(t,r,n)}function xD(t,e,n){let r=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ui(r),new Error(r)}function Me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xD(e,i,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class aH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lH{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Lo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Lo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Lo)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new ED(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class uH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new uH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new VP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new VP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=fH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function gw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ve(r,i);{const o=TD(),s=dH(o.encode(FP(t,n)),o.encode(FP(e,n)));return s!==0?s:ve(r,i)}}n+=r>65535?2:1}return ve(t.length,e.length)}function FP(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function dH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ve(t[n],e[n]);return ve(t.length,e.length)}function Ml(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=-62135596800,BP=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BP);return new It(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UP)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BP}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-UP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new It(0,0))}static max(){return new pe(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="__name__";class zr{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=zr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ve(e.length,n.length)}static compareSegments(e,n){const r=zr.isNumericId(e),i=zr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?zr.extractNumericId(e).compare(zr.extractNumericId(n)):gw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $o.fromString(e.substring(4,e.length-2))}}class ht extends zr{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const pH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends zr{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return pH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zP}static keyField(){return new Wt([zP])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(ht.fromString(e))}static fromName(e){return new ue(ht.fromString(e).popFirst(5))}static empty(){return new ue(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=-1;function mH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new It(n+1,0):new It(n,r));return new Ho(i,ue.empty(),e)}function gH(t){return new Ho(t.readTime,t.key,Sh)}class Ho{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ho(pe.min(),ue.empty(),Sh)}static max(){return new Ho(pe.max(),ue.empty(),Sh)}}function yH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _H{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==vH)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function wH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}iy.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=-1;function oy(t){return t==null}function cm(t){return t===0&&1/t==-1/0}function bH(t){return typeof t=="number"&&Number.isInteger(t)&&!cm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="";function xH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=WP(e)),e=EH(t.get(n),e);return WP(e)}function EH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case AD:n+="";break;default:n+=o}}return n}function WP(t){return t+AD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jd(this.root,e,this.comparator,!0)}}class jd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=o??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qP(this.data.getIterator())}getIteratorFrom(e){return new qP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class qP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new kr([])}unionWith(e){let n=new Ct(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new OD("Invalid base64 string: "+o):o}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const TH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=TH.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ko(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="server_timestamp",CD="__type__",kD="__previous_value__",RD="__local_write_time__";function Mx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CD])===null||n===void 0?void 0:n.stringValue)===ID}function sy(t){const e=t.mapValue.fields[kD];return Mx(e)?sy(e):e}function Ah(t){const e=qo(t.mapValue.fields[RD].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const hm="(default)";class Ph{constructor(e,n){this.projectId=e,this.database=n||hm}static empty(){return new Ph("","")}get isDefaultDatabase(){return this.database===hm}isEqual(e){return e instanceof Ph&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="__type__",ND="__max__",Nd={mapValue:{fields:{__type__:{stringValue:ND}}}},MD="__vector__",fm="value";function Go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mx(t)?4:PH(t)?9007199254740991:AH(t)?10:11:de(28295,{value:t})}function ni(t,e){if(t===e)return!0;const n=Go(t);if(n!==Go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ah(t).isEqual(Ah(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=qo(i.timestampValue),a=qo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ko(i.bytesValue).isEqual(Ko(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return dt(i.geoPointValue.latitude)===dt(o.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return dt(i.integerValue)===dt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=dt(i.doubleValue),a=dt(o.doubleValue);return s===a?cm(s)===cm(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(HP(s)!==HP(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ni(s[l],a[l])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function Oh(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function Dl(t,e){if(t===e)return 0;const n=Go(t),r=Go(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=dt(o.integerValue||o.doubleValue),l=dt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return KP(t.timestampValue,e.timestampValue);case 4:return KP(Ah(t),Ah(e));case 5:return gw(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ko(o),l=Ko(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ve(a[u],l[u]);if(c!==0)return c}return ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ve(dt(o.latitude),dt(s.latitude));return a!==0?a:ve(dt(o.longitude),dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GP(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const h=o.fields||{},f=s.fields||{},p=(a=h[fm])===null||a===void 0?void 0:a.arrayValue,m=(l=f[fm])===null||l===void 0?void 0:l.arrayValue,g=ve(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:GP(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Nd.mapValue&&s===Nd.mapValue)return 0;if(o===Nd.mapValue)return 1;if(s===Nd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=gw(l[h],c[h]);if(f!==0)return f;const p=Dl(a[l[h]],u[c[h]]);if(p!==0)return p}return ve(l.length,c.length)}(t.mapValue,e.mapValue);default:throw de(23264,{Pe:n})}}function KP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=qo(t),r=qo(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function GP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Dl(n[i],r[i]);if(o)return o}return ve(n.length,r.length)}function $l(t){return yw(t)}function yw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ko(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=yw(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${yw(n.fields[s])}`;return i+"}"}(t.mapValue):de(61005,{value:t})}function Tp(t){switch(Go(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sy(t);return e?16+Tp(e):16;case 5:return 2*t.stringValue.length;case 6:return Ko(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Tp(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ga(r.fields,(o,s)=>{i+=o.length+Tp(s)}),i}(t.mapValue);default:throw de(13486,{value:t})}}function vw(t){return!!t&&"integerValue"in t}function Dx(t){return!!t&&"arrayValue"in t}function XP(t){return!!t&&"nullValue"in t}function YP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sp(t){return!!t&&"mapValue"in t}function AH(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[jD])===null||n===void 0?void 0:n.stringValue)===MD}function Bc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ND}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Bc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ga(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new rr(Bc(this.value))}}function DD(t){const e=[];return ga(t.fields,(n,r)=>{const i=new Wt([n]);if(Sp(r)){const o=DD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new un(e,0,pe.min(),pe.min(),pe.min(),rr.empty(),0)}static newFoundDocument(e,n,r,i){return new un(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new un(e,2,n,pe.min(),pe.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,pe.min(),pe.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.position=e,this.inclusive=n}}function QP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),n.key):r=Dl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n="asc"){this.field=e,this.dir=n}}function OH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{}class At extends $D{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CH(e,n,r):n==="array-contains"?new jH(e,r):n==="in"?new NH(e,r):n==="not-in"?new MH(e,r):n==="array-contains-any"?new DH(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kH(e,r):new RH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dl(n,this.value)):n!==null&&Go(this.value)===Go(n)&&this.matchesComparison(Dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends $D{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ri(e,n)}matches(e){return LD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function LD(t){return t.op==="and"}function VD(t){return IH(t)&&LD(t)}function IH(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function _w(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+$l(t.value);if(VD(t))return t.filters.map(e=>_w(e)).join(",");{const e=t.filters.map(n=>_w(n)).join(",");return`${t.op}(${e})`}}function FD(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&ni(r.value,i.value)}(t,e):t instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&FD(s,i.filters[a]),!0):!1}(t,e):void de(19439)}function UD(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${$l(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(UD).join(" ,")+"}"}(t):"Filter"}class CH extends At{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class kH extends At{constructor(e,n){super(e,"in",n),this.keys=BD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RH extends At{constructor(e,n){super(e,"not-in",n),this.keys=BD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class jH extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dx(n)&&Oh(n.arrayValue,this.value)}}class NH extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oh(this.value.arrayValue,n)}}class MH extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oh(this.value.arrayValue,n)}}class DH extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}}function ZP(t,e=null,n=[],r=[],i=null,o=null,s=null){return new $H(t,e,n,r,i,o,s)}function $x(t){const e=me(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_w(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),oy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$l(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$l(r)).join(",")),e.Ie=n}return e.Ie}function Lx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JP(t.startAt,e.startAt)&&JP(t.endAt,e.endAt)}function ww(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function LH(t,e,n,r,i,o,s,a){return new ay(t,e,n,r,i,o,s,a)}function Vx(t){return new ay(t)}function eO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VH(t){return t.collectionGroup!==null}function zc(t){const e=me(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ct(Wt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new pm(o,r))}),n.has(Wt.keyField().canonicalString())||e.Ee.push(new pm(Wt.keyField(),r))}return e.Ee}function Qr(t){const e=me(t);return e.de||(e.de=FH(e,zc(t))),e.de}function FH(t,e){if(t.limitType==="F")return ZP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new pm(i.field,o)});const n=t.endAt?new dm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dm(t.startAt.position,t.startAt.inclusive):null;return ZP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bw(t,e,n){return new ay(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ly(t,e){return Lx(Qr(t),Qr(e))&&t.limitType===e.limitType}function zD(t){return`${$x(Qr(t))}|lt:${t.limitType}`}function za(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UD(i)).join(", ")}]`),oy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$l(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$l(i)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function uy(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of zc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=QP(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,zc(r),i)||r.endAt&&!function(s,a,l){const u=QP(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,zc(r),i))}(t,e)}function UH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WD(t){return(e,n)=>{let r=!1;for(const i of zc(t)){const o=BH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function BH(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Dl(l,u):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return PD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=new st(ue.comparator);function Bi(){return zH}const HD=new st(ue.comparator);function Sc(...t){let e=HD;for(const n of t)e=e.insert(n.key,n);return e}function qD(t){let e=HD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ms(){return Wc()}function KD(){return Wc()}function Wc(){return new ya(t=>t.toString(),(t,e)=>t.isEqual(e))}const WH=new st(ue.comparator),HH=new Ct(ue.comparator);function Se(...t){let e=HH;for(const n of t)e=e.add(n);return e}const qH=new Ct(ve);function KH(){return qH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cm(e)?"-0":e}}function GD(t){return{integerValue:""+t}}function GH(t,e){return bH(e)?GD(e):Fx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this._=void 0}}function XH(t,e,n){return t instanceof mm?function(i,o){const s={fields:{[CD]:{stringValue:ID},[RD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Mx(o)&&(o=sy(o)),o&&(s.fields[kD]=o),{mapValue:s}}(n,e):t instanceof Ih?YD(t,e):t instanceof Ch?QD(t,e):function(i,o){const s=XD(i,o),a=tO(s)+tO(i.Re);return vw(s)&&vw(i.Re)?GD(a):Fx(i.serializer,a)}(t,e)}function YH(t,e,n){return t instanceof Ih?YD(t,e):t instanceof Ch?QD(t,e):n}function XD(t,e){return t instanceof gm?function(r){return vw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class mm extends cy{}class Ih extends cy{constructor(e){super(),this.elements=e}}function YD(t,e){const n=JD(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ch extends cy{constructor(e){super(),this.elements=e}}function QD(t,e){let n=JD(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class gm extends cy{constructor(e,n){super(),this.serializer=e,this.Re=n}}function tO(t){return dt(t.integerValue||t.doubleValue)}function JD(t){return Dx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ih&&i instanceof Ih||r instanceof Ch&&i instanceof Ch?Ml(r.elements,i.elements,ni):r instanceof gm&&i instanceof gm?ni(r.Re,i.Re):r instanceof mm&&i instanceof mm}(t.transform,e.transform)}class JH{constructor(e,n){this.version=e,this.transformResults=n}}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hy{}function ZD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new t$(t.key,Oi.none()):new kf(t.key,t.data,Oi.none());{const n=t.data,r=rr.empty();let i=new Ct(Wt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new va(t.key,r,new kr(i.toArray()),Oi.none())}}function ZH(t,e,n){t instanceof kf?function(i,o,s){const a=i.value.clone(),l=rO(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof va?function(i,o,s){if(!Ap(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=rO(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(e$(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Hc(t,e,n,r){return t instanceof kf?function(o,s,a,l){if(!Ap(o.precondition,s))return a;const u=o.value.clone(),c=iO(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof va?function(o,s,a,l){if(!Ap(o.precondition,s))return a;const u=iO(o.fieldTransforms,l,s),c=s.data;return c.setAll(e$(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Ap(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function e7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=XD(r.transform,i||null);o!=null&&(n===null&&(n=rr.empty()),n.set(r.field,o))}return n||null}function nO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ml(r,i,(o,s)=>QH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kf extends hy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class va extends hy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function e$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rO(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,YH(s,a,n[i]))}return r}function iO(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,XH(o,s,e))}return r}class t$ extends hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t7 extends hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ZH(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KD();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=ZD(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(n,r)=>nO(n,r))&&Ml(this.baseMutations,e.baseMutations,(n,r)=>nO(n,r))}}class Ux{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return WH}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Ux(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Pe;function o7(t){switch(t){case Q.OK:return de(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function n$(t){if(t===void 0)return Ui("GRPC error has no .code"),Q.UNKNOWN;switch(t){case vt.OK:return Q.OK;case vt.CANCELLED:return Q.CANCELLED;case vt.UNKNOWN:return Q.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Q.INTERNAL;case vt.UNAVAILABLE:return Q.UNAVAILABLE;case vt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case vt.NOT_FOUND:return Q.NOT_FOUND;case vt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case vt.ABORTED:return Q.ABORTED;case vt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case vt.DATA_LOSS:return Q.DATA_LOSS;default:return de(39323,{code:t})}}(Pe=vt||(vt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=new $o([4294967295,4294967295],0);function oO(t){const e=TD().encode(t),n=new gD;return n.update(e),new Uint8Array(n.digest())}function sO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $o([n,r],0),new $o([i,o],0)]}class Bx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ac(`Invalid padding: ${n}`);if(r<0)throw new Ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=$o.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply($o.fromNumber(r)));return i.compare(s7)===1&&(i=new $o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=oO(e),[r,i]=sO(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Bx(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;const n=oO(e),[r,i]=sO(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fy(pe.min(),i,new st(ve),Bi(),Se())}}class Rf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rf(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class r${constructor(e,n){this.targetId=e,this.Ce=n}}class i${constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aO{constructor(){this.Fe=0,this.Me=lO(),this.xe=Xt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Se(),n=Se(),r=Se();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de(38017,{changeType:o})}}),new Rf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=lO()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class a7{constructor(e){this.ze=e,this.je=new Map,this.He=Bi(),this.Je=Md(),this.Ye=Md(),this.Ze=new st(ve)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(ww(o))if(r===0){const s=new ue(o.path);this.tt(n,s,un.newNoDocument(s,pe.min()))}else Me(r===1,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const a=this.ct(e),l=a?this.lt(a,e,s):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ko(r).toUint8Array()}catch(l){if(l instanceof OD)return Nl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Bx(s,i,o)}catch(l){return Nl(l instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,s)=>{const a=this._t(s);if(a){if(o.current&&ww(a.target)){const l=new ue(a.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,un.newNoDocument(l,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=Se();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));const i=new fy(e,n,this.Ze,this.He,r);return this.He=Bi(),this.Je=Md(),this.Ye=Md(),this.Ze=new st(ve),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new aO,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ct(ve),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ct(ve),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new aO),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Md(){return new st(ue.comparator)}function lO(){return new st(ue.comparator)}const l7={asc:"ASCENDING",desc:"DESCENDING"},u7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c7={and:"AND",or:"OR"};class h7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xw(t,e){return t.useProto3Json||oy(e)?e:{value:e}}function ym(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f7(t,e){return ym(t,e.toTimestamp())}function Jr(t){return Me(!!t,49232),pe.fromTimestamp(function(n){const r=qo(n);return new It(r.seconds,r.nanos)}(t))}function zx(t,e){return Ew(t,e).canonicalString()}function Ew(t,e){const n=function(i){return new ht(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function s$(t){const e=ht.fromString(t);return Me(h$(e),10190,{key:e.toString()}),e}function Tw(t,e){return zx(t.databaseId,e.path)}function d0(t,e){const n=s$(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(l$(n))}function a$(t,e){return zx(t.databaseId,e)}function d7(t){const e=s$(t);return e.length===4?ht.emptyPath():l$(e)}function Sw(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function l$(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uO(t,e,n){return{name:Tw(t,e),fields:n.value.mapValue.fields}}function p7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Me(c===void 0||typeof c=="string",58123),Xt.fromBase64String(c||"")):(Me(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Xt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?Q.UNKNOWN:n$(u.code);return new le(c,u.message||"")}(s);n=new i$(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=d0(t,r.document.name),o=Jr(r.document.updateTime),s=r.document.createTime?Jr(r.document.createTime):pe.min(),a=new rr({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Pp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=d0(t,r.document),o=r.readTime?Jr(r.readTime):pe.min(),s=un.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Pp([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=d0(t,r.document),o=r.removedTargetIds||[];n=new Pp([],o,i,null)}else{if(!("filter"in e))return de(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new i7(i,o),a=r.targetId;n=new r$(a,s)}}return n}function m7(t,e){let n;if(e instanceof kf)n={update:uO(t,e.key,e.value)};else if(e instanceof t$)n={delete:Tw(t,e.key)};else if(e instanceof va)n={update:uO(t,e.key,e.data),updateMask:T7(e.fieldMask)};else{if(!(e instanceof t7))return de(16599,{ft:e.type});n={verify:Tw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof mm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ih)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ch)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gm)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw de(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:f7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:de(27497)}(t,e.precondition)),n}function g7(t,e){return t&&t.length>0?(Me(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Jr(i.updateTime):Jr(o);return s.isEqual(pe.min())&&(s=Jr(o)),new JH(s,i.transformResults||[])}(n,e))):[]}function y7(t,e){return{documents:[a$(t,e.path)]}}function v7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=a$(t,i);const o=function(u){if(u.length!==0)return c$(ri.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Wa(f.field),direction:b7(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=xw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function _7(t){let e=d7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const f=u$(h);return f instanceof ri&&VD(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(m){return new pm(Ha(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,oy(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new dm(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new dm(p,f)}(n.endAt)),LH(e,i,s,o,a,"F",l,u)}function w7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ha(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ha(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ha(n.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ha(n.unaryFilter.field);return At.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return At.create(Ha(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(r=>u$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function b7(t){return l7[t]}function x7(t){return u7[t]}function E7(t){return c7[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function Ha(t){return Wt.fromServerFormat(t.fieldPath)}function c$(t){return t instanceof At?function(n){if(n.op==="=="){if(YP(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(XP(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YP(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(XP(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:x7(n.op),value:n.value}}}(t):t instanceof ri?function(n){const r=n.getFilters().map(i=>c$(i));return r.length===1?r[0]:{compositeFilter:{op:E7(n.op),filters:r}}}(t):de(54877,{filter:t})}function T7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function h$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r,i,o=pe.min(),s=pe.min(),a=Xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new So(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.wt=e}}function A7(t){const e=_7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.Cn=new O7}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Ho.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class O7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(ht.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f$=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(f$,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ll(0)}static lr(){return new Ll(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="LruGarbageCollector",I7=1048576;function fO([t,e],[n,r]){const i=ve(t,n);return i===0?ve(e,r):i}class C7{constructor(e){this.Er=e,this.buffer=new Ct(fO),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){re(hO,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vu(n)?re(hO,"Ignoring IndexedDB error during garbage collection: ",n):await yu(n)}await this.mr(3e5)})}}class R7{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return q.resolve(iy.le);const r=new C7(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(cO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cO):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Ba()<=Te.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function j7(t,e){return new R7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this.changes=new ya(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hc(r.mutation,i,kr.empty(),It.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=Ms();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Sc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ms();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Bi();const s=Wc(),a=function(){return Wc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof va)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Hc(c.mutation,u,c.mutation.getFieldMask(),It.now())):s.set(u.key,kr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new M7(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wc();let i=new st((s,a)=>s-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||kr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=KD();c.forEach(f=>{if(!o.has(f)){const p=ZD(n.get(f),r.get(f));p!==null&&h.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):q.resolve(Ms());let a=Sh,l=o;return s.next(u=>q.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?q.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Se())).next(c=>({batchId:a,changes:qD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=Sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Sc();return this.indexManager.getCollectionParents(e,o).next(a=>q.forEach(a,l=>{const u=function(h,f){return new ay(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,un.newInvalidDocument(c)))});let a=Sc();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Hc(c.mutation,u,kr.empty(),It.now()),uy(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return q.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jr(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:A7(i.bundledQuery),readTime:Jr(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this.overlays=new st(ue.comparator),this.Qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ms();return q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Ms(),o=n.length+1,s=new ue(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new st((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ms(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ms(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return q.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new r7(n,r));let o=this.Qr.get(n);o===void 0&&(o=Se(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.$r=new Ct(Nt.Ur),this.Kr=new Ct(Nt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Nt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ue(new ht([])),r=new Nt(n,e),i=new Nt(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ue(new ht([])),r=new Nt(n,e),i=new Nt(n,e+1);let o=Se();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Nt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ue.comparator(e.key,n.key)||ve(e.Zr,n.Zr)}static Wr(e,n){return ve(e.Zr,n.Zr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ct(Nt.Ur)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new n7(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Xr=this.Xr.add(new Nt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(s)}lookupMutationBatch(e,n){return q.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?Nx:this.nr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{const a=this.ei(s.Zr);o.push(a)}),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(ve);return n.forEach(i=>{const o=new Nt(i,0),s=new Nt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),q.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ue.isDocumentKey(o)||(o=o.child(""));const s=new Nt(new ue(o),0);let a=new Ct(ve);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},s),q.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return q.forEach(n.mutations,i=>{const o=new Nt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Nt(n,0),i=this.Xr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.ii=e,this.docs=function(){return new st(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Bi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Bi();const s=n.path,a=new ue(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||yH(gH(c),r)<=0||(i.has(c.key)||uy(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){de(9500)}si(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new B7(this)}getSize(e){return q.resolve(this.size)}}class B7 extends N7{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e){this.persistence=e,this.oi=new ya(n=>$x(n),Lx),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this._i=0,this.ai=new Wx,this.targetCount=0,this.ui=Ll.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),q.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ll(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Tr(n),q.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(o).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n){this.ci={},this.overlays={},this.li=new iy(0),this.hi=!1,this.hi=!0,this.Pi=new V7,this.referenceDelegate=e(this),this.Ti=new z7(this),this.indexManager=new P7,this.remoteDocumentCache=function(i){return new U7(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new S7(n),this.Ei=new $7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new F7(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new W7(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return q.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class W7 extends _H{constructor(e){super(),this.currentSequenceNumber=e}}class Hx{constructor(e){this.persistence=e,this.Vi=new Wx,this.mi=null}static fi(e){return new Hx(e)}get gi(){if(this.mi)return this.mi;throw de(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.gi,r=>{const i=ue.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,pe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return q.or([()=>q.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class vm{constructor(e,n){this.persistence=e,this.yi=new ya(r=>xH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=j7(this,n)}static fi(e,n){return new vm(e,n)}di(){}Ai(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return q.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?q.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),q.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tp(e.data.value)),n}Dr(e,n,r){return q.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Se(),i=Se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new qx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return P9()?8:wH(pn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new H7;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Ba()<=Te.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),q.resolve()):(Ba()<=Te.DEBUG&&re("QueryEngine","Query:",za(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ba()<=Te.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):q.resolve())}ws(e,n){if(eO(n))return q.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bw(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Se(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,s,l.readTime)?this.ws(e,bw(n,null,"F")):this.Fs(e,u,n,l)}))})))}bs(e,n,r,i){return eO(n)||i.isEqual(pe.min())?q.resolve(null):this.ys.getDocuments(e,r).next(o=>{const s=this.vs(n,o);return this.Cs(n,s,r,i)?q.resolve(null):(Ba()<=Te.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),za(n)),this.Fs(e,s,n,mH(i,Sh)).next(a=>a))})}vs(e,n){let r=new Ct(WD(e));return n.forEach((i,o)=>{uy(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ba()<=Te.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",za(n)),this.ys.getDocumentsMatchingQuery(e,n,Ho.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="LocalStore",K7=3e8;class G7{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new st(ve),this.Os=new ya(o=>$x(o),Lx),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D7(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function X7(t,e,n,r){return new G7(t,e,n,r)}async function p$(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Se();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})}function Y7(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=q.resolve();return f.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const y=u.docVersions.get(m);Me(y!==null,48541),g.version.compareTo(y)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function m$(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Q7(t,e){const n=me(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ti.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(o,c.addedDocuments,h)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Xt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=K7?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,c)&&a.push(n.Ti.updateTargetData(o,p))});let l=Bi(),u=Se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(J7(o,s,e.documentUpdates).next(c=>{l=c.qs,u=c.Qs})),!r.isEqual(pe.min())){const c=n.Ti.getLastRemoteSnapshotVersion(o).next(h=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return q.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.xs=i,o))}function J7(t,e,n){let r=Se(),i=Se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Bi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):re(Kx,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:s,Qs:i}})}function Z7(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Nx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eq(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,q.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new So(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Aw(t,e,n){const r=me(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!vu(s))throw s;re(Kx,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function dO(t,e,n){const r=me(t);let i=pe.min(),o=Se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=me(l),f=h.Os.get(c);return f!==void 0?q.resolve(h.xs.get(f)):h.Ti.getTargetData(u,c)}(r,s,Qr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:pe.min(),n?o:Se())).next(a=>(tq(r,UH(e),a),{documents:a,$s:o})))}function tq(t,e,n){let r=t.Ns.get(e)||pe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class pO{constructor(){this.activeTargetIds=KH()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nq{constructor(){this.xo=new pO,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new pO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="ConnectivityMonitor";class gO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){re(mO,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){re(mO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=null;function Pw(){return Dd===null?Dd=function(){return 268435456+Math.round(2147483648*Math.random())}():Dd++,"0x"+Dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="RestConnection",iq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oq{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===hm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const s=Pw(),a=this.jo(e,n.toUriEncodedString());re(p0,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);const{host:u}=new URL(a),c=da(u);return this.Jo(e,a,l,r,c).then(h=>(re(p0,`Received RPC '${e}' ${s}: `,h),h),h=>{throw Nl(p0,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const r=iq[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class aq extends oq{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=Pw();return new Promise((a,l)=>{const u=new yD;u.setWithCredentials(!0),u.listenOnce(vD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ep.NO_ERROR:const h=u.getResponseJson();re(nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case Ep.TIMEOUT:re(nn,`RPC '${e}' ${s} timed out`),l(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const f=u.getStatus();if(re(nn,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(_)>=0?_:Q.UNKNOWN}(m.status);l(new le(g,m.message))}else l(new le(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new le(Q.UNAVAILABLE,"Connection failed."));break;default:de(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{re(nn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);re(nn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}I_(e,n,r){const i=Pw(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=bD(),a=wD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");re(nn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);this.E_(h);let f=!1,p=!1;const m=new sq({Zo:y=>{p?re(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(re(nn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),re(nn,`RPC '${e}' stream ${i} sending:`,y),h.send(y))},Xo:()=>h.close()}),g=(y,w,_)=>{y.listen(w,v=>{try{_(v)}catch(S){setTimeout(()=>{throw S},0)}})};return g(h,Tc.EventType.OPEN,()=>{p||(re(nn,`RPC '${e}' stream ${i} transport opened.`),m.__())}),g(h,Tc.EventType.CLOSE,()=>{p||(p=!0,re(nn,`RPC '${e}' stream ${i} transport closed`),m.u_(),this.d_(h))}),g(h,Tc.EventType.ERROR,y=>{p||(p=!0,Nl(nn,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),m.u_(new le(Q.UNAVAILABLE,"The operation could not be completed")))}),g(h,Tc.EventType.MESSAGE,y=>{var w;if(!p){const _=y.data[0];Me(!!_,16349);const v=_,S=(v==null?void 0:v.error)||((w=v[0])===null||w===void 0?void 0:w.error);if(S){re(nn,`RPC '${e}' stream ${i} received error:`,S);const E=S.status;let A=function(I){const k=vt[I];if(k!==void 0)return n$(k)}(E),x=S.message;A===void 0&&(A=Q.INTERNAL,x="Unknown error status: "+E+" with message "+S.message),p=!0,m.u_(new le(A,x)),h.close()}else re(nn,`RPC '${e}' stream ${i} received:`,_),m.c_(_)}}),g(a,_D.STAT_EVENT,y=>{y.stat===mw.PROXY?re(nn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===mw.NOPROXY&&re(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.a_()},0),m}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function m0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t){return new h7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="PersistentStream";class y${constructor(e,n,r,i,o,s,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new g$(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new le(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return re(yO,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(re(yO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lq extends y${constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=p7(this.serializer,e),r=function(o){if(!("targetChange"in o))return pe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?Jr(s.readTime):pe.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Sw(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=ww(l)?{documents:y7(o,l)}:{query:v7(o,l).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=o$(o,s.resumeToken);const u=xw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=ym(o,s.snapshotVersion.toTimestamp());const u=xw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=w7(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Sw(this.serializer),n.removeTarget=e,this.Q_(n)}}class uq extends y${constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=g7(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Sw(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>m7(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{}class hq extends cq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,Ew(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Q.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,Ew(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(Q.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class fq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ui(n),this.ua=!1):re("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class dq{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(async()=>{_a(this)&&(re(oa,"Restarting streams for network reachability change."),await async function(l){const u=me(l);u.da.add(4),await jf(u),u.Va.set("Unknown"),u.da.delete(4),await py(u)}(this))})}),this.Va=new fq(r,i)}}async function py(t){if(_a(t))for(const e of t.Aa)await e(!0)}async function jf(t){for(const e of t.Aa)await e(!1)}function v$(t,e){const n=me(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Qx(n)?Yx(n):_u(n).N_()&&Xx(n,e))}function Gx(t,e){const n=me(t),r=_u(n);n.Ea.delete(e),r.N_()&&_$(n,e),n.Ea.size===0&&(r.N_()?r.k_():_a(n)&&n.Va.set("Unknown"))}function Xx(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_u(t).Z_(e)}function _$(t,e){t.ma.Ke(e),_u(t).X_(e)}function Yx(t){t.ma=new a7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),_u(t).start(),t.Va.ca()}function Qx(t){return _a(t)&&!_u(t).O_()&&t.Ea.size>0}function _a(t){return me(t).da.size===0}function w$(t){t.ma=void 0}async function pq(t){t.Va.set("Online")}async function mq(t){t.Ea.forEach((e,n)=>{Xx(t,e)})}async function gq(t,e){w$(t),Qx(t)?(t.Va.Pa(e),Yx(t)):t.Va.set("Unknown")}async function yq(t,e,n){if(t.Va.set("Online"),e instanceof i$&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){re(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _m(t,r)}else if(e instanceof Pp?t.ma.Xe(e):e instanceof r$?t.ma.ot(e):t.ma.nt(e),!n.isEqual(pe.min()))try{const r=await m$(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.ma.It(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ea.get(u);c&&o.Ea.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ea.get(l);if(!c)return;o.Ea.set(l,c.withResumeToken(Xt.EMPTY_BYTE_STRING,c.snapshotVersion)),_$(o,l);const h=new So(c.target,l,u,c.sequenceNumber);Xx(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re(oa,"Failed to raise snapshot:",r),await _m(t,r)}}async function _m(t,e,n){if(!vu(e))throw e;t.da.add(1),await jf(t),t.Va.set("Offline"),n||(n=()=>m$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(oa,"Retrying IndexedDB access"),await n(),t.da.delete(1),await py(t)})}function b$(t,e){return e().catch(n=>_m(t,n,e))}async function my(t){const e=me(t),n=Xo(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Nx;for(;vq(e);)try{const i=await Z7(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,_q(e,i)}catch(i){await _m(e,i)}x$(e)&&E$(e)}function vq(t){return _a(t)&&t.Ia.length<10}function _q(t,e){t.Ia.push(e);const n=Xo(t);n.N_()&&n.ea&&n.ta(e.mutations)}function x$(t){return _a(t)&&!Xo(t).O_()&&t.Ia.length>0}function E$(t){Xo(t).start()}async function wq(t){Xo(t).ia()}async function bq(t){const e=Xo(t);for(const n of t.Ia)e.ta(n.mutations)}async function xq(t,e,n){const r=t.Ia.shift(),i=Ux.from(r,e,n);await b$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await my(t)}async function Eq(t,e){e&&Xo(t).ea&&await async function(r,i){if(function(s){return o7(s)&&s!==Q.ABORTED}(i.code)){const o=r.Ia.shift();Xo(r).L_(),await b$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await my(r)}}(t,e),x$(t)&&E$(t)}async function vO(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),re(oa,"RemoteStore received new credentials");const r=_a(n);n.da.add(3),await jf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await py(n)}async function Tq(t,e){const n=me(t);e?(n.da.delete(2),await py(n)):e||(n.da.add(2),await jf(n),n.Va.set("Unknown"))}function _u(t){return t.fa||(t.fa=function(n,r,i){const o=me(n);return o.oa(),new lq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:pq.bind(null,t),n_:mq.bind(null,t),i_:gq.bind(null,t),Y_:yq.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Qx(t)?Yx(t):t.Va.set("Unknown")):(await t.fa.stop(),w$(t))})),t.fa}function Xo(t){return t.ga||(t.ga=function(n,r,i){const o=me(n);return o.oa(),new uq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:wq.bind(null,t),i_:Eq.bind(null,t),na:bq.bind(null,t),ra:xq.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await my(t)):(await t.ga.stop(),t.Ia.length>0&&(re(oa,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Jx(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zx(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),vu(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static emptySet(e){return new El(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Sc(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.pa=new st(ue.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):de(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Vl(e,n,El.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ly(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Aq{constructor(){this.queries=wO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=me(n),o=i.queries;i.queries=wO(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function wO(){return new ya(t=>zD(t),ly)}async function Pq(t,e){const n=me(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new Sq,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(i,!0);break;case 1:o.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Zx(s,`Initialization of query '${za(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&eE(n)}async function Oq(t,e){const n=me(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Iq(t,e){const n=me(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&eE(n)}function Cq(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function eE(t){t.Ca.forEach(e=>{e.next()})}var Ow,bO;(bO=Ow||(Ow={})).xa="default",bO.Cache="cache";class kq{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ow.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.key=e}}class S${constructor(e){this.key=e}}class Rq{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Se(),this.mutatedKeys=Se(),this.Za=WD(e),this.Xa=new El(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new _O,i=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=uy(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),y=!0):this.ru(f,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Za(p,l)>0||u&&this.Za(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(l||u)&&(a=!0)),y&&(p?(s=s.add(p),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((c,h)=>function(p,m){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Vt:y})}};return g(p)-g(m)}(c.type,h.type)||this.Za(c.doc,h.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,s.length!==0||u?{snapshot:new Vl(this.query,e.Xa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new _O,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Se(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new S$(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new T$(r))}),n}au(e){this.Ha=e.$s,this.Ya=Se();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Vl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const tE="SyncEngine";class jq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nq{constructor(e){this.key=e,this.cu=!1}}class Mq{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new ya(a=>zD(a),ly),this.Pu=new Map,this.Tu=new Set,this.Iu=new st(ue.comparator),this.Eu=new Map,this.du=new Wx,this.Au={},this.Ru=new Map,this.Vu=Ll.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Dq(t,e,n=!0){const r=k$(t);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await A$(r,e,n,!0),i}async function $q(t,e){const n=k$(t);await A$(n,e,!0,!1)}async function A$(t,e,n,r){const i=await eq(t.localStore,Qr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Lq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&v$(t.remoteStore,i),a}async function Lq(t,e,n,r,i){t.fu=(h,f,p)=>async function(g,y,w,_){let v=y.view.tu(w);v.Cs&&(v=await dO(g.localStore,y.query,!1).then(({documents:x})=>y.view.tu(x,v)));const S=_&&_.targetChanges.get(y.targetId),E=_&&_.targetMismatches.get(y.targetId)!=null,A=y.view.applyChanges(v,g.isPrimaryClient,S,E);return EO(g,y.targetId,A.ou),A.snapshot}(t,h,f,p);const o=await dO(t.localStore,e,!0),s=new Rq(e,o.$s),a=s.tu(o.documents),l=Rf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);EO(t,n,u.ou);const c=new jq(e,n,s);return t.hu.set(e,c),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function Vq(t,e,n){const r=me(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!ly(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Aw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gx(r.remoteStore,i.targetId),Iw(r,i.targetId)}).catch(yu)):(Iw(r,i.targetId),await Aw(r.localStore,i.targetId,!0))}async function Fq(t,e){const n=me(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gx(n.remoteStore,r.targetId))}async function Uq(t,e,n){const r=Gq(t);try{const i=await function(s,a){const l=me(s),u=It.now(),c=a.reduce((p,m)=>p.add(m.key),Se());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Bi(),g=Se();return l.Bs.getEntries(p,c).next(y=>{m=y,m.forEach((w,_)=>{_.isValidDocument()||(g=g.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(y=>{h=y;const w=[];for(const _ of a){const v=e7(_,h.get(_.key).overlayedDocument);v!=null&&w.push(new va(_.key,v,DD(v.value.mapValue),Oi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,a)}).next(y=>{f=y;const w=y.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:f.batchId,changes:qD(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Au[s.currentUser.toKey()];u||(u=new st(ve)),u=u.insert(a,l),s.Au[s.currentUser.toKey()]=u}(r,i.batchId,n),await Nf(r,i.changes),await my(r.remoteStore)}catch(i){const o=Zx(i,"Failed to persist write");n.reject(o)}}async function P$(t,e){const n=me(t);try{const r=await Q7(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Eu.get(o);s&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Me(s.cu,14607):i.removedDocuments.size>0&&(Me(s.cu,42227),s.cu=!1))}),await Nf(n,r,e)}catch(r){await yu(r)}}function xO(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((o,s)=>{const a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=me(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.Sa)f.Fa(a)&&(u=!0)}),u&&eE(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Bq(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let s=new st(ue.comparator);s=s.insert(o,un.newNoDocument(o,pe.min()));const a=Se().add(o),l=new fy(pe.min(),new Map,new st(ve),s,a);await P$(r,l),r.Iu=r.Iu.remove(o),r.Eu.delete(e),nE(r)}else await Aw(r.localStore,e,!1).then(()=>Iw(r,e,n)).catch(yu)}async function zq(t,e){const n=me(t),r=e.batch.batchId;try{const i=await Y7(n.localStore,e);I$(n,r,null),O$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nf(n,i)}catch(i){await yu(i)}}async function Wq(t,e,n){const r=me(t);try{const i=await function(s,a){const l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Me(h!==null,37113),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);I$(r,e,n),O$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nf(r,i)}catch(i){await yu(i)}}function O$(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function I$(t,e,n){const r=me(t);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Iw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||C$(t,r)})}function C$(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Gx(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),nE(t))}function EO(t,e,n){for(const r of n)r instanceof T$?(t.du.addReference(r.key,e),Hq(t,r)):r instanceof S$?(re(tE,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||C$(t,r.key)):de(19791,{pu:r})}function Hq(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(re(tE,"New document in limbo: "+n),t.Tu.add(r),nE(t))}function nE(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new ue(ht.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Nq(n)),t.Iu=t.Iu.insert(n,r),v$(t.remoteStore,new So(Qr(Vx(n.path)),r,"TargetPurposeLimboResolution",iy.le))}}async function Nf(t,e,n){const r=me(t),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{s.push(r.fu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=qx.Rs(l.targetId,u);o.push(h)}}))}),await Promise.all(s),r.lu.Y_(i),await async function(l,u){const c=me(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>q.forEach(u,f=>q.forEach(f.ds,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>q.forEach(f.As,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!vu(h))throw h;re(Kx,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.xs.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.xs=c.xs.insert(f,g)}}}(r.localStore,o))}async function qq(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){re(tE,"User change. New user:",e.toKey());const r=await p$(n.localStore,e);n.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(l=>{l.reject(new le(Q.CANCELLED,s))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nf(n,r.ks)}}function Kq(t,e){const n=me(t),r=n.Eu.get(e);if(r&&r.cu)return Se().add(r.key);{let i=Se();const o=n.Pu.get(e);if(!o)return i;for(const s of o){const a=n.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function k$(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bq.bind(null,e),e.lu.Y_=Iq.bind(null,e.eventManager),e.lu.gu=Cq.bind(null,e.eventManager),e}function Gq(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wq.bind(null,e),e}class wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return X7(this.persistence,new q7,e.initialUser,this.serializer)}Su(e){return new d$(Hx.fi,this.serializer)}bu(e){return new nq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wm.provider={build:()=>new wm};class Xq extends wm{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Me(this.persistence.referenceDelegate instanceof vm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new k7(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new d$(r=>vm.fi(r,n),this.serializer)}}class Cw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qq.bind(null,this.syncEngine),await Tq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Aq}()}createDatastore(e){const n=dy(e.databaseInfo.databaseId),r=function(o){return new aq(o)}(e.databaseInfo);return function(o,s,a,l){return new hq(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new dq(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xO(this.syncEngine,n,0),function(){return gO.C()?new gO:new rq}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new Mq(i,o,s,a,l,u);return c&&(h.mu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=me(i);re(oa,"RemoteStore shutting down."),o.da.add(5),await jf(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cw.provider={build:()=>new Cw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="FirestoreClient";class Qq{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=SD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{re(Yo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re(Yo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function g0(t,e){t.asyncQueue.verifyOperationInProgress(),re(Yo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await p$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Jq(t);re(Yo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vO(e.remoteStore,i)),t._onlineComponents=e}async function Jq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(Yo,"Using user provided OfflineComponentProvider");try{await g0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),await g0(t,new wm)}}else re(Yo,"Using default OfflineComponentProvider"),await g0(t,new Xq(void 0));return t._offlineComponents}async function R$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(Yo,"Using user provided OnlineComponentProvider"),await TO(t,t._uninitializedComponentsProvider._online)):(re(Yo,"Using default OnlineComponentProvider"),await TO(t,new Cw))),t._onlineComponents}function Zq(t){return R$(t).then(e=>e.syncEngine)}async function eK(t){const e=await R$(t),n=e.eventManager;return n.onListen=Dq.bind(null,e.syncEngine),n.onUnlisten=Vq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$q.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Fq.bind(null,e.syncEngine),n}function tK(t,e,n={}){const r=new Lo;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Yq({next:f=>{c.xu(),s.enqueueAndForget(()=>Oq(o,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new kq(Vx(a.path),c,{includeMetadataChanges:!0,Qa:!0});return Pq(o,h)}(await eK(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rK(t,e,n,r){if(e===!0&&r===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AO(t){if(!ue.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function kh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rE(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="firestore.googleapis.com",PO=!0;class OO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N$,this.ssl=PO}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:PO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=f$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I7)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sH;switch(r.type){case"firstParty":return new cH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SO.get(n);r&&(re("ComponentProvider","Removing Datastore"),SO.delete(n),r.terminate())}(this),Promise.resolve()}}function iK(t,e,n,r={}){var i;t=kh(t,iE);const o=da(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o&&(_x(`https://${l}`),wx("Firestore",!0)),s.host!==N$&&s.host!==l&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!ea(u,a)&&(t._setSettings(u),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=an.MOCK_USER;else{c=CM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new an(f)}t._authCredentials=new aH(new ED(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oE(this.firestore,e,this._query)}}class lr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class Rh extends oE{constructor(e,n,r){super(e,n,Vx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new ue(e))}withConverter(e){return new Rh(this.firestore,e,this._path)}}function IO(t,e,...n){if(t=jn(t),arguments.length===1&&(e=SD.newId()),nK("doc","path",e),t instanceof iE){const r=ht.fromString(e,...n);return AO(r),new lr(t,null,new ue(r))}{if(!(t instanceof lr||t instanceof Rh))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return AO(r),new lr(t.firestore,t instanceof Rh?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="AsyncQueue";class kO{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new g$(this,"async_queue_retry"),this.rc=()=>{const r=m0();r&&re(CO,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=m0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=m0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Lo;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!vu(e))throw e;re(CO,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Ui("INTERNAL UNHANDLED ERROR: ",RO(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=Jx.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&de(47125,{cc:RO(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function RO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class sE extends iE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kO(e),this._firestoreClient=void 0,await e}}}function oK(t,e){const n=typeof t=="object"?t:Ex(),r=typeof t=="string"?t:hm,i=ey(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=PM("firestore");o&&iK(i,...o)}return i}function M$(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sK(t),t._firestoreClient}function sK(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new SH(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,j$(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Qq(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fl(Xt.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fl(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=/^__.*__$/;class lK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,n,this.fieldTransforms):new kf(e,this.data,n,this.fieldTransforms)}}function $$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ic:t})}}class cE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new cE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return bm(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if($$(this.Ic)&&aK.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class uK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dy(e)}bc(e,n,r,i=!1){return new cE({Ic:e,methodName:n,wc:r,path:Wt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cK(t){const e=t._freezeSettings(),n=dy(t._databaseId);return new uK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hK(t,e,n,r,i,o={}){const s=t.bc(o.merge||o.mergeFields?2:0,e,n,i);U$("Data must be an object, but it was:",s,r);const a=V$(r,s);let l,u;if(o.merge)l=new kr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const f=fK(e,h,n);if(!s.contains(f))throw new le(Q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);pK(c,f)||c.push(f)}l=new kr(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new lK(new rr(a),l,u)}function L$(t,e){if(F$(t=jn(t)))return U$("Unsupported field value:",e,t),V$(t,e);if(t instanceof D$)return function(r,i){if(!$$(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=L$(a,i.fc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=It.fromDate(r);return{timestampValue:ym(i.serializer,o)}}if(r instanceof It){const o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ym(i.serializer,o)}}if(r instanceof lE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fl)return{bytesValue:o$(i.serializer,r._byteString)};if(r instanceof lr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uE)return function(s,a){return{mapValue:{fields:{[jD]:{stringValue:MD},[fm]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return Fx(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${rE(r)}`)}(t,e)}function V$(t,e){const n={};return PD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,(r,i)=>{const o=L$(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function F$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof lE||t instanceof Fl||t instanceof lr||t instanceof D$||t instanceof uE)}function U$(t,e,n){if(!F$(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=rE(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function fK(t,e,n){if((e=jn(e))instanceof aE)return e._internalPath;if(typeof e=="string")return B$(t,e);throw bm("Field path arguments must be of type string or ",t,!1,void 0,n)}const dK=new RegExp("[~\\*/\\[\\]]");function B$(t,e,n){if(e.search(dK)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new aE(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new le(Q.INVALID_ARGUMENT,a+t+l)}function pK(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(W$("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mK extends z${data(){return super.data()}}function W$(t,e){return typeof e=="string"?B$(t,e):e instanceof aE?e._internalPath:e._delegate._internalPath}class gK{convertValue(e,n="none"){switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ga(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[fm].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>dt(s.doubleValue));return new uE(o)}convertGeoPoint(e){return new lE(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ah(e));default:return null}}convertTimestamp(e){const n=qo(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);Me(h$(r),9688,{name:e});const i=new Ph(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(n)||Ui(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class H$ extends z${constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _K(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(W$("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _K extends H${data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t){t=kh(t,lr);const e=kh(t.firestore,sE);return tK(M$(e),t._key).then(n=>TK(e,t,n))}class bK extends gK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,n)}}function xK(t,e,n){t=kh(t,lr);const r=kh(t.firestore,sE),i=yK(t.converter,e);return EK(r,[hK(cK(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Oi.none())])}function EK(t,e){return function(r,i){const o=new Lo;return r.asyncQueue.enqueueAndForget(async()=>Uq(await Zq(r),i,o)),o.promise}(M$(t),e)}function TK(t,e,n){const r=n.docs.get(e._key),i=new bK(t);return new H$(t,i,e._key,r,new vK(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gu=i})(pa),ta(new Wo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new sE(new lH(r.getProvider("auth-internal")),new hH(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ph(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Gr($P,LP,e),Gr($P,LP,"esm2017")})();var SK="firebase",AK="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(SK,AK,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="firebasestorage.googleapis.com",PK="storageBucket",OK=2*60*1e3,IK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let os=class K$ extends si{constructor(e,n,r=0){super(y0(e),`Firebase Storage: ${n} (${y0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,K$.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return y0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var ii;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ii||(ii={}));function y0(t){return"storage/"+t}function CK(){const t="An unknown error occurred, please check the error payload for server response.";return new os(ii.UNKNOWN,t)}function kK(){return new os(ii.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RK(){return new os(ii.CANCELED,"User canceled the upload/download.")}function jK(t){return new os(ii.INVALID_URL,"Invalid URL '"+t+"'.")}function NK(t){return new os(ii.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jO(t){return new os(ii.INVALID_ARGUMENT,t)}function G$(){return new os(ii.APP_DELETED,"The Firebase app was deleted.")}function MK(t){return new os(ii.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Rr.makeFromUrl(e,n)}catch{return new Rr(e,"")}if(r.path==="")return r;throw NK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},g=n===q$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",w=new RegExp(`^https?://${g}/${i}/${y}`,"i"),v=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<v.length;S++){const E=v[S],A=E.regex.exec(e);if(A){const x=A[E.indices.bucket];let T=A[E.indices.path];T||(T=""),r=new Rr(x,T),E.postModify(r);break}}if(r==null)throw jK(e);return r}}class DK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $K(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function h(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function f(){o&&clearTimeout(o)}function p(y,...w){if(u){f();return}if(y){f(),c.call(null,y,...w);return}if(l()||s){f(),c.call(null,y,...w);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,h(v)}let m=!1;function g(y){m||(m=!0,f(),!u&&(i!==null?(y||(a=2),clearTimeout(i),h(0)):y||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,g(!0)},n),g}function LK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(t){return t!==void 0}function NO(t,e,n,r){if(r<e)throw jO(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jO(`Invalid value for '${t}'. Expected ${n} or less.`)}function FK(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var xm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xm||(xm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e,n,r,i,o,s,a,l,u,c,h,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new $d(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===xm.NO_ERROR,l=o.getStatus();if(!a||UK(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===xm.ABORT;r(!1,new $d(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new $d(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());VK(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=CK();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?G$():RK();s(l)}else{const l=kK();s(l)}};this.canceled_?n(!1,new $d(!1,null,!0)):this.backoffId_=$K(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $d{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function zK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function qK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KK(t,e,n,r,i,o,s=!0,a=!1){const l=FK(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return HK(c,e),zK(c,n),WK(c,o),qK(c,r),new BK(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XK(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this._service=e,n instanceof Rr?this._location=n:this._location=Rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Em(e,n)}get root(){const e=new Rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XK(this._location.path)}get storage(){return this._service}get parent(){const e=GK(this._location.path);if(e===null)return null;const n=new Rr(this._location.bucket,e);return new Em(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw MK(e)}}function MO(t,e){const n=e==null?void 0:e[PK];return n==null?null:Rr.makeFromBucketSpec(n,t)}function YK(t,e,n,r={}){t.host=`${e}:${n}`;const i=da(e);i&&(_x(`https://${t.host}/b`),wx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:CM(o,t.app.options.projectId))}class QK{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=q$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OK,this._maxUploadRetryTime=IK,this._requests=new Set,i!=null?this._bucket=Rr.makeFromBucketSpec(i,this._host):this._bucket=MO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rr.makeFromBucketSpec(this._url,e):this._bucket=MO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Em(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new DK(G$());{const s=KK(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const DO="@firebase/storage",$O="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$="storage";function JK(t=Ex(),e){t=jn(t);const r=ey(t,X$).getImmediate({identifier:e}),i=PM("storage");return i&&ZK(r,...i),r}function ZK(t,e,n,r={}){YK(t,e,n,r)}function eG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new QK(n,r,i,e,pa)}function tG(){ta(new Wo(X$,eG,"PUBLIC").setMultipleInstances(!0)),Gr(DO,$O,""),Gr(DO,$O,"esm2017")}tG();const zs={apiKey:"AIzaSyBeCxDcWr2uqcRFqR6BIiIYtBp_F33nzyU",authDomain:"mysurgeon-8ff16.firebaseapp.com",projectId:"mysurgeon-8ff16",storageBucket:"mysurgeon-8ff16.firebasestorage.app",messagingSenderId:"983701410441",appId:"1:983701410441:web:6f3ce603f1a8a93a636c58"};(!zs.apiKey||!zs.authDomain||!zs.projectId)&&console.warn("Missing Firebase environment variables. Using demo mode.");var Jj,Zj,eN;const nG=((Jj=zs.apiKey)==null?void 0:Jj.includes("Demo"))||((Zj=zs.authDomain)==null?void 0:Zj.includes("demo"))||((eN=zs.projectId)==null?void 0:eN.includes("demo"));nG&&console.warn("Demo Firebase credentials detected. Some features may not work properly.");let zi;try{zi=jM(zs)}catch(t){console.error("Failed to initialize Firebase:",t),zi=null}const di=zi?iH(zi):null,Pc=zi?oK(zi):null;zi&&JK(zi);const ic=()=>zi!==null&&di!==null&&Pc!==null,Y$=M.createContext(void 0),Yi=()=>{const t=M.useContext(Y$);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},rG=({children:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(null),[o,s]=M.useState(!0);M.useEffect(()=>{if(!ic()||!di){console.warn("Firebase not available, running in demo mode"),s(!1);return}const f=q8(di,async p=>{n(p),p?await a(p.uid):(i(null),s(!1))});return()=>f()},[]);const a=async f=>{if(!ic()||!Pc){console.warn("Firebase not available, cannot fetch profile"),s(!1);return}try{const p=await wK(IO(Pc,"profiles",f));if(p.exists()){const m=p.data();i({...m,id:p.id})}else console.log("No profile found for user:",f),i(null)}catch(p){console.error("Error fetching profile:",p)}finally{s(!1)}},h={user:e,profile:r,loading:o,signIn:async(f,p)=>{if(!ic()||!di)throw new Error("Firebase not available. Please check your configuration.");try{await z8(di,f,p)}catch(m){throw console.error("Error signing in:",m),m}},signUp:async(f,p,m,g)=>{if(!ic()||!di||!Pc)throw new Error("Firebase not available. Please check your configuration.");try{const w=(await B8(di,f,p)).user;if(w){const[_,...v]=m.split(" "),S=v.join(" "),E={email:f,role:g,firstName:_,lastName:S,createdAt:new Date,updatedAt:new Date};await xK(IO(Pc,"profiles",w.uid),E)}}catch(y){throw console.error("Error signing up:",y),y}},signOut:async()=>{if(!ic()||!di){console.warn("Firebase not available, cannot sign out");return}try{await K8(di)}catch(f){throw console.error("Error signing out:",f),f}}};return O.jsx(Y$.Provider,{value:h,children:t})},Q$=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),gy=M.createContext({}),yy=M.createContext(null),vy=typeof document<"u",hE=vy?M.useLayoutEffect:M.useEffect,J$=M.createContext({strict:!1}),fE=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),iG="framerAppearId",Z$="data-"+fE(iG);function oG(t,e,n,r){const{visualElement:i}=M.useContext(gy),o=M.useContext(J$),s=M.useContext(yy),a=M.useContext(Q$).reducedMotion,l=M.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;M.useInsertionEffect(()=>{u&&u.update(n,s)});const c=M.useRef(!!(n[Z$]&&!window.HandoffComplete));return hE(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),M.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function sl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sG(t,e,n){return M.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):sl(n)&&(n.current=r))},[e])}function jh(t){return typeof t=="string"||Array.isArray(t)}function _y(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const dE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pE=["initial",...dE];function wy(t){return _y(t.animate)||pE.some(e=>jh(t[e]))}function eL(t){return!!(wy(t)||t.variants)}function aG(t,e){if(wy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||jh(n)?n:void 0,animate:jh(r)?r:void 0}}return t.inherit!==!1?e:{}}function lG(t){const{initial:e,animate:n}=aG(t,M.useContext(gy));return M.useMemo(()=>({initial:e,animate:n}),[LO(e),LO(n)])}function LO(t){return Array.isArray(t)?t.join(" "):t}const VO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nh={};for(const t in VO)Nh[t]={isEnabled:e=>VO[t].some(n=>!!e[n])};function uG(t){for(const e in t)Nh[e]={...Nh[e],...t[e]}}const mE=M.createContext({}),tL=M.createContext({}),cG=Symbol.for("motionComponentSymbol");function hG({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&uG(t);function o(a,l){let u;const c={...M.useContext(Q$),...a,layoutId:fG(a)},{isStatic:h}=c,f=lG(a),p=r(a,h);if(!h&&vy){f.visualElement=oG(i,p,c,e);const m=M.useContext(tL),g=M.useContext(J$).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,g,t,m))}return M.createElement(gy.Provider,{value:f},u&&f.visualElement?M.createElement(u,{visualElement:f.visualElement,...c}):null,n(i,a,sG(p,f.visualElement,l),p,h,f.visualElement))}const s=M.forwardRef(o);return s[cG]=i,s}function fG({layoutId:t}){const e=M.useContext(mE).id;return e&&t!==void 0?e+"-"+t:t}function dG(t){function e(r,i={}){return hG(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const pG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gE(t){return typeof t!="string"||t.includes("-")?!1:!!(pG.indexOf(t)>-1||/[A-Z]/.test(t))}const Tm={};function mG(t){Object.assign(Tm,t)}const Mf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wa=new Set(Mf);function nL(t,{layout:e,layoutId:n}){return wa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Tm[t]||t==="opacity")}const Nn=t=>!!(t&&t.getVelocity),gG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yG=Mf.length;function vG(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<yG;s++){const a=Mf[s];if(t[a]!==void 0){const l=gG[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const rL=t=>e=>typeof e=="string"&&e.startsWith(t),iL=rL("--"),kw=rL("var(--"),_G=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,wG=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qo=(t,e,n)=>Math.min(Math.max(n,t),e),ba={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qc={...ba,transform:t=>Qo(0,1,t)},Ld={...ba,default:1},Kc=t=>Math.round(t*1e5)/1e5,by=/(-)?([\d]*\.?[\d])+/g,oL=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bG=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Df(t){return typeof t=="string"}const $f=t=>({test:e=>Df(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),so=$f("deg"),Zr=$f("%"),he=$f("px"),xG=$f("vh"),EG=$f("vw"),FO={...Zr,parse:t=>Zr.parse(t)/100,transform:t=>Zr.transform(t*100)},UO={...ba,transform:Math.round},sL={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,size:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,rotate:so,rotateX:so,rotateY:so,rotateZ:so,scale:Ld,scaleX:Ld,scaleY:Ld,scaleZ:Ld,skew:so,skewX:so,skewY:so,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:qc,originX:FO,originY:FO,originZ:he,zIndex:UO,fillOpacity:qc,strokeOpacity:qc,numOctaves:UO};function yE(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const h in e){const f=e[h];if(iL(h)){o[h]=f;continue}const p=sL[h],m=wG(f,p);if(wa.has(h)){if(l=!0,s[h]=m,!c)continue;f!==(p.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=m):i[h]=m}if(e.transform||(l||r?i.transform=vG(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}const vE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aL(t,e,n){for(const r in e)!Nn(e[r])&&!nL(r,n)&&(t[r]=e[r])}function TG({transformTemplate:t},e,n){return M.useMemo(()=>{const r=vE();return yE(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function SG(t,e,n){const r=t.style||{},i={};return aL(i,r,t),Object.assign(i,TG(t,e,n)),t.transformValues?t.transformValues(i):i}function AG(t,e,n){const r={},i=SG(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const PG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||PG.has(t)}let lL=t=>!Sm(t);function OG(t){t&&(lL=e=>e.startsWith("on")?!Sm(e):t(e))}try{OG(require("@emotion/is-prop-valid").default)}catch{}function IG(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(lL(i)||n===!0&&Sm(i)||!e&&!Sm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function BO(t,e,n){return typeof t=="string"?t:he.transform(e+n*t)}function CG(t,e,n){const r=BO(e,t.x,t.width),i=BO(n,t.y,t.height);return`${r} ${i}`}const kG={offset:"stroke-dashoffset",array:"stroke-dasharray"},RG={offset:"strokeDashoffset",array:"strokeDasharray"};function jG(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?kG:RG;t[o.offset]=he.transform(-r);const s=he.transform(e),a=he.transform(n);t[o.array]=`${s} ${a}`}function _E(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,h,f){if(yE(t,u,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=CG(g,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&jG(p,s,a,l,!1)}const uL=()=>({...vE(),attrs:{}}),wE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function NG(t,e,n,r){const i=M.useMemo(()=>{const o=uL();return _E(o,e,{enableHardwareAcceleration:!1},wE(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};aL(o,t.style,t),i.style={...o,...i.style}}return i}function MG(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(gE(n)?NG:AG)(r,o,s,n),c={...IG(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=M.useMemo(()=>Nn(h)?h.get():h,[h]);return M.createElement(n,{...c,children:f})}}function cL(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const hL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fL(t,e,n,r){cL(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(hL.has(i)?i:fE(i),e.attrs[i])}function bE(t,e){const{style:n}=t,r={};for(const i in n)(Nn(n[i])||e.style&&Nn(e.style[i])||nL(i,t))&&(r[i]=n[i]);return r}function dL(t,e){const n=bE(t,e);for(const r in t)if(Nn(t[r])||Nn(e[r])){const i=Mf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function xE(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function pL(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const Am=t=>Array.isArray(t),DG=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),$G=t=>Am(t)?t[t.length-1]||0:t;function Op(t){const e=Nn(t)?t.get():t;return DG(e)?e.toValue():e}function LG({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:VG(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const mL=t=>(e,n)=>{const r=M.useContext(gy),i=M.useContext(yy),o=()=>LG(t,e,r,i);return n?o():pL(o)};function VG(t,e,n,r){const i={},o=r(t,{});for(const f in o)i[f]=Op(o[f]);let{initial:s,animate:a}=t;const l=wy(t),u=eL(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const h=c?a:s;return h&&typeof h!="boolean"&&!_y(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const m=xE(t,p);if(!m)return;const{transitionEnd:g,transition:y,...w}=m;for(const _ in w){let v=w[_];if(Array.isArray(v)){const S=c?v.length-1:0;v=v[S]}v!==null&&(i[_]=v)}for(const _ in g)i[_]=g[_]}),i}const mt=t=>t;class zO{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function FG(t){let e=new zO,n=new zO,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,f=h?e:n;return u&&s.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];c(l),s.has(c)&&(a.schedule(c),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const Vd=["prepare","read","update","preRender","render","postRender"],UG=40;function BG(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Vd.reduce((h,f)=>(h[f]=FG(()=>n=!0),h),{}),s=h=>o[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,UG),1),i.timestamp=h,i.isProcessing=!0,Vd.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Vd.reduce((h,f)=>{const p=o[f];return h[f]=(m,g=!1,y=!1)=>(n||l(),p.schedule(m,g,y)),h},{}),cancel:h=>Vd.forEach(f=>o[f].cancel(h)),state:i,steps:o}}const{schedule:Ke,cancel:Wi,state:on,steps:v0}=BG(typeof requestAnimationFrame<"u"?requestAnimationFrame:mt,!0),zG={useVisualState:mL({scrapeMotionValuesFromProps:dL,createRenderState:uL,onMount:(t,e,{renderState:n,latestValues:r})=>{Ke.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ke.render(()=>{_E(n,r,{enableHardwareAcceleration:!1},wE(e.tagName),t.transformTemplate),fL(e,n)})}})},WG={useVisualState:mL({scrapeMotionValuesFromProps:bE,createRenderState:vE})};function HG(t,{forwardMotionProps:e=!1},n,r){return{...gE(t)?zG:WG,preloadedFeatures:n,useRender:MG(e),createVisualElement:r,Component:t}}function xi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const gL=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function xy(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const qG=t=>e=>gL(e)&&t(e,xy(e));function Ii(t,e,n,r){return xi(t,e,qG(n),r)}const KG=(t,e)=>n=>e(t(n)),Vo=(...t)=>t.reduce(KG);function yL(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const WO=yL("dragHorizontal"),HO=yL("dragVertical");function vL(t){let e=!1;if(t==="y")e=HO();else if(t==="x")e=WO();else{const n=WO(),r=HO();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function _L(){const t=vL(!0);return t?(t(),!1):!0}class ss{constructor(e){this.isMounted=!1,this.node=e}update(){}}function qO(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||_L())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ke.update(()=>a[r](o,s))};return Ii(t.current,n,i,{passive:!t.getProps()[r]})}class GG extends ss{mount(){this.unmount=Vo(qO(this.node,!0),qO(this.node,!1))}unmount(){}}class XG extends ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vo(xi(this.node.current,"focus",()=>this.onFocus()),xi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wL=(t,e)=>e?t===e?!0:wL(t,e.parentElement):!1;function _0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,xy(n))}class YG extends ss{constructor(){super(...arguments),this.removeStartListeners=mt,this.removeEndListeners=mt,this.removeAccessibleListeners=mt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Ii(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:h}=this.node.getProps();Ke.update(()=>{!h&&!wL(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=Ii(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Vo(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||_0("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Ke.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=xi(this.node.current,"keyup",s),_0("down",(a,l)=>{this.startPress(a,l)})},n=xi(this.node.current,"keydown",e),r=()=>{this.isPressing&&_0("cancel",(o,s)=>this.cancelPress(o,s))},i=xi(this.node.current,"blur",r);this.removeAccessibleListeners=Vo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ke.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_L()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ke.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ii(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=xi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Vo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Rw=new WeakMap,w0=new WeakMap,QG=t=>{const e=Rw.get(t.target);e&&e(t)},JG=t=>{t.forEach(QG)};function ZG({root:t,...e}){const n=t||document;w0.has(n)||w0.set(n,{});const r=w0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(JG,{root:t,...e})),r[i]}function eX(t,e,n){const r=ZG(e);return Rw.set(t,n),r.observe(t),()=>{Rw.delete(t),r.unobserve(t)}}const tX={some:0,all:1};class nX extends ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:tX[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return eX(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rX(e,n))&&this.startObserver()}unmount(){}}function rX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const iX={inView:{Feature:nX},tap:{Feature:YG},focus:{Feature:XG},hover:{Feature:GG}};function bL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function oX(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function sX(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Ey(t,e,n){const r=t.getProps();return xE(r,e,n!==void 0?n:r.custom,oX(t),sX(t))}let Pm=mt;const Ws=t=>t*1e3,Ci=t=>t/1e3,aX={current:!1},xL=t=>Array.isArray(t)&&typeof t[0]=="number";function EL(t){return!!(!t||typeof t=="string"&&TL[t]||xL(t)||Array.isArray(t)&&t.every(EL))}const Oc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,TL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oc([0,.65,.55,1]),circOut:Oc([.55,0,1,.45]),backIn:Oc([.31,.01,.66,-.59]),backOut:Oc([.33,1.53,.69,.99])};function SL(t){if(t)return xL(t)?Oc(t):Array.isArray(t)?t.map(SL):TL[t]}function lX(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=SL(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function uX(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const AL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cX=1e-7,hX=12;function fX(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=AL(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>cX&&++a<hX);return s}function Lf(t,e,n,r){if(t===e&&n===r)return mt;const i=o=>fX(o,0,1,t,n);return o=>o===0||o===1?o:AL(i(o),e,r)}const dX=Lf(.42,0,1,1),pX=Lf(0,0,.58,1),PL=Lf(.42,0,.58,1),mX=t=>Array.isArray(t)&&typeof t[0]!="number",OL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,IL=t=>e=>1-t(1-e),EE=t=>1-Math.sin(Math.acos(t)),CL=IL(EE),gX=OL(EE),kL=Lf(.33,1.53,.69,.99),TE=IL(kL),yX=OL(TE),vX=t=>(t*=2)<1?.5*TE(t):.5*(2-Math.pow(2,-10*(t-1))),KO={linear:mt,easeIn:dX,easeInOut:PL,easeOut:pX,circIn:EE,circInOut:gX,circOut:CL,backIn:TE,backInOut:yX,backOut:kL,anticipate:vX},GO=t=>{if(Array.isArray(t)){Pm(t.length===4);const[e,n,r,i]=t;return Lf(e,n,r,i)}else if(typeof t=="string")return Pm(KO[t]!==void 0),KO[t];return t},SE=(t,e)=>n=>!!(Df(n)&&bG.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),RL=(t,e,n)=>r=>{if(!Df(r))return r;const[i,o,s,a]=r.match(by);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},_X=t=>Qo(0,255,t),b0={...ba,transform:t=>Math.round(_X(t))},Ds={test:SE("rgb","red"),parse:RL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+b0.transform(t)+", "+b0.transform(e)+", "+b0.transform(n)+", "+Kc(qc.transform(r))+")"};function wX(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const jw={test:SE("#"),parse:wX,transform:Ds.transform},al={test:SE("hsl","hue"),parse:RL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zr.transform(Kc(e))+", "+Zr.transform(Kc(n))+", "+Kc(qc.transform(r))+")"},yn={test:t=>Ds.test(t)||jw.test(t)||al.test(t),parse:t=>Ds.test(t)?Ds.parse(t):al.test(t)?al.parse(t):jw.parse(t),transform:t=>Df(t)?t:t.hasOwnProperty("red")?Ds.transform(t):al.transform(t)},rt=(t,e,n)=>-n*t+n*e+t;function x0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=x0(l,a,t+1/3),o=x0(l,a,t),s=x0(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const E0=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},xX=[jw,Ds,al],EX=t=>xX.find(e=>e.test(t));function XO(t){const e=EX(t);let n=e.parse(t);return e===al&&(n=bX(n)),n}const jL=(t,e)=>{const n=XO(t),r=XO(e),i={...n};return o=>(i.red=E0(n.red,r.red,o),i.green=E0(n.green,r.green,o),i.blue=E0(n.blue,r.blue,o),i.alpha=rt(n.alpha,r.alpha,o),Ds.transform(i))};function TX(t){var e,n;return isNaN(t)&&Df(t)&&(((e=t.match(by))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oL))===null||n===void 0?void 0:n.length)||0)>0}const NL={regex:_G,countKey:"Vars",token:"${v}",parse:mt},ML={regex:oL,countKey:"Colors",token:"${c}",parse:yn.parse},DL={regex:by,countKey:"Numbers",token:"${n}",parse:ba.parse};function T0(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function Om(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&T0(n,NL),T0(n,ML),T0(n,DL),n}function $L(t){return Om(t).values}function LL(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Om(t),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(NL.token,s[l]):l<r+n?a=a.replace(ML.token,yn.transform(s[l])):a=a.replace(DL.token,Kc(s[l]));return a}}const SX=t=>typeof t=="number"?0:t;function AX(t){const e=$L(t);return LL(t)(e.map(SX))}const Jo={test:TX,parse:$L,createTransformer:LL,getAnimatableNone:AX},VL=(t,e)=>n=>`${n>0?e:t}`;function FL(t,e){return typeof t=="number"?n=>rt(t,e,n):yn.test(t)?jL(t,e):t.startsWith("var(")?VL(t,e):BL(t,e)}const UL=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>FL(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},PX=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=FL(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},BL=(t,e)=>{const n=Jo.createTransformer(e),r=Om(t),i=Om(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Vo(UL(r.values,i.values),n):VL(t,e)},Mh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},YO=(t,e)=>n=>rt(t,e,n);function OX(t){return typeof t=="number"?YO:typeof t=="string"?yn.test(t)?jL:BL:Array.isArray(t)?UL:typeof t=="object"?PX:YO}function IX(t,e,n){const r=[],i=n||OX(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||mt:e;a=Vo(l,a)}r.push(a)}return r}function zL(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Pm(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=IX(e,r,i),a=s.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=Mh(t[c],t[c+1],u);return s[c](h)};return n?u=>l(Qo(t[0],t[o-1],u)):l}function CX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Mh(0,e,r);t.push(rt(n,1,i))}}function kX(t){const e=[0];return CX(e,t.length-1),e}function RX(t,e){return t.map(n=>n*e)}function jX(t,e){return t.map(()=>e||PL).splice(0,t.length-1)}function Im({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=mX(r)?r.map(GO):GO(r),o={done:!1,value:e[0]},s=RX(n&&n.length===e.length?n:kX(e),t),a=zL(s,e,{ease:Array.isArray(i)?i:jX(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function WL(t,e){return e?t*(1e3/e):0}const NX=5;function HL(t,e,n){const r=Math.max(e-NX,0);return WL(n-t(r),e-r)}const S0=.001,MX=.01,DX=10,$X=.05,LX=1;function VX({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o,s=1-e;s=Qo($X,LX,s),t=Qo(MX,DX,Ci(t)),s<1?(i=u=>{const c=u*s,h=c*t,f=c-n,p=Nw(u,s),m=Math.exp(-h);return S0-f/p*m},o=u=>{const h=u*s*t,f=h*n+n,p=Math.pow(s,2)*Math.pow(u,2)*t,m=Math.exp(-h),g=Nw(Math.pow(u,2),s);return(-i(u)+S0>0?-1:1)*((f-p)*m)/g}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-S0+c*h},o=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=UX(i,o,a);if(t=Ws(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const FX=12;function UX(t,e,n){let r=n;for(let i=1;i<FX;i++)r=r-t(r)/e(r);return r}function Nw(t,e){return t*Math.sqrt(1-e*e)}const BX=["duration","bounce"],zX=["stiffness","damping","mass"];function QO(t,e){return e.some(n=>t[n]!==void 0)}function WX(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!QO(t,zX)&&QO(t,BX)){const n=VX(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function qL({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:h,isResolvedFromDuration:f}=WX({...r,velocity:-Ci(r.velocity||0)}),p=h||0,m=l/(2*Math.sqrt(a*u)),g=o-i,y=Ci(Math.sqrt(a/u)),w=Math.abs(g)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let _;if(m<1){const v=Nw(y,m);_=S=>{const E=Math.exp(-m*y*S);return o-E*((p+m*y*g)/v*Math.sin(v*S)+g*Math.cos(v*S))}}else if(m===1)_=v=>o-Math.exp(-y*v)*(g+(p+y*g)*v);else{const v=y*Math.sqrt(m*m-1);_=S=>{const E=Math.exp(-m*y*S),A=Math.min(v*S,300);return o-E*((p+m*y*g)*Math.sinh(A)+v*g*Math.cosh(A))/v}}return{calculatedDuration:f&&c||null,next:v=>{const S=_(v);if(f)s.done=v>=c;else{let E=p;v!==0&&(m<1?E=HL(_,v,S):E=0);const A=Math.abs(E)<=n,x=Math.abs(o-S)<=e;s.done=A&&x}return s.value=s.done?o:S,s}}}function JO({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],f={done:!1,value:h},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,m=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let g=n*e;const y=h+g,w=s===void 0?y:s(y);w!==y&&(g=w-h);const _=T=>-g*Math.exp(-T/r),v=T=>w+_(T),S=T=>{const I=_(T),k=v(T);f.done=Math.abs(I)<=u,f.value=f.done?w:k};let E,A;const x=T=>{p(f.value)&&(E=T,A=qL({keyframes:[f.value,m(f.value)],velocity:HL(v,T,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return x(0),{calculatedDuration:null,next:T=>{let I=!1;return!A&&E===void 0&&(I=!0,S(T),x(T)),E!==void 0&&T>E?A.next(T-E):(!I&&S(T),f)}}}const HX=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ke.update(e,!0),stop:()=>Wi(e),now:()=>on.isProcessing?on.timestamp:performance.now()}},ZO=2e4;function eI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ZO;)e+=n,r=t.next(e);return e>=ZO?1/0:e}const qX={decay:JO,inertia:JO,tween:Im,keyframes:Im,spring:qL};function Cm({autoplay:t=!0,delay:e=0,driver:n=HX,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...f}){let p=1,m=!1,g,y;const w=()=>{y=new Promise(Y=>{g=Y})};w();let _;const v=qX[i]||Im;let S;v!==Im&&typeof r[0]!="number"&&(S=zL([0,100],r,{clamp:!1}),r=[0,100]);const E=v({...f,keyframes:r});let A;a==="mirror"&&(A=v({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let x="idle",T=null,I=null,k=null;E.calculatedDuration===null&&o&&(E.calculatedDuration=eI(E));const{calculatedDuration:C}=E;let j=1/0,R=1/0;C!==null&&(j=C+s,R=j*(o+1)-s);let V=0;const U=Y=>{if(I===null)return;p>0&&(I=Math.min(I,Y)),p<0&&(I=Math.min(Y-R/p,I)),T!==null?V=T:V=Math.round(Y-I)*p;const K=V-e*(p>=0?1:-1),ne=p>=0?K<0:K>R;V=Math.max(K,0),x==="finished"&&T===null&&(V=R);let _e=V,Oe=E;if(o){const te=Math.min(V,R)/j;let ae=Math.floor(te),se=te%1;!se&&te>=1&&(se=1),se===1&&ae--,ae=Math.min(ae,o+1),!!(ae%2)&&(a==="reverse"?(se=1-se,s&&(se-=s/j)):a==="mirror"&&(Oe=A)),_e=Qo(0,1,se)*j}const De=ne?{done:!1,value:r[0]}:Oe.next(_e);S&&(De.value=S(De.value));let{done:yt}=De;!ne&&C!==null&&(yt=p>=0?V>=R:V<=0);const Rt=T===null&&(x==="finished"||x==="running"&&yt);return h&&h(De.value),Rt&&L(),De},B=()=>{_&&_.stop(),_=void 0},H=()=>{x="idle",B(),g(),w(),I=k=null},L=()=>{x="finished",c&&c(),B(),g()},z=()=>{if(m)return;_||(_=n(U));const Y=_.now();l&&l(),T!==null?I=Y-T:(!I||x==="finished")&&(I=Y),x==="finished"&&w(),k=I,T=null,x="running",_.start()};t&&z();const X={then(Y,K){return y.then(Y,K)},get time(){return Ci(V)},set time(Y){Y=Ws(Y),V=Y,T!==null||!_||p===0?T=Y:I=_.now()-Y/p},get duration(){const Y=E.calculatedDuration===null?eI(E):E.calculatedDuration;return Ci(Y)},get speed(){return p},set speed(Y){Y===p||!_||(p=Y,X.time=Ci(V))},get state(){return x},play:z,pause:()=>{x="paused",T=V},stop:()=>{m=!0,x!=="idle"&&(x="idle",u&&u(),H())},cancel:()=>{k!==null&&U(k),H()},complete:()=>{x="finished"},sample:Y=>(I=0,U(Y))};return X}function KX(t){let e;return()=>(e===void 0&&(e=t()),e)}const GX=KX(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),XX=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Fd=10,YX=2e4,QX=(t,e)=>e.type==="spring"||t==="backgroundColor"||!EL(e.ease);function JX(t,e,{onUpdate:n,onComplete:r,...i}){if(!(GX()&&XX.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,u=!1;const c=()=>{l=new Promise(v=>{a=v})};c();let{keyframes:h,duration:f=300,ease:p,times:m}=i;if(QX(e,i)){const v=Cm({...i,repeat:0,delay:0});let S={done:!1,value:h[0]};const E=[];let A=0;for(;!S.done&&A<YX;)S=v.sample(A),E.push(S.value),A+=Fd;m=void 0,h=E,f=A-Fd,p="linear"}const g=lX(t.owner.current,e,h,{...i,duration:f,ease:p,times:m}),y=()=>{u=!1,g.cancel()},w=()=>{u=!0,Ke.update(y),a(),c()};return g.onfinish=()=>{u||(t.set(uX(h,i)),r&&r(),w())},{then(v,S){return l.then(v,S)},attachTimeline(v){return g.timeline=v,g.onfinish=null,mt},get time(){return Ci(g.currentTime||0)},set time(v){g.currentTime=Ws(v)},get speed(){return g.playbackRate},set speed(v){g.playbackRate=v},get duration(){return Ci(f)},play:()=>{s||(g.play(),Wi(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:v}=g;if(v){const S=Cm({...i,autoplay:!1});t.setWithVelocity(S.sample(v-Fd).value,S.sample(v).value,Fd)}w()},complete:()=>{u||g.finish()},cancel:w}}function ZX({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:mt,pause:mt,stop:mt,then:o=>(o(),Promise.resolve()),cancel:mt,complete:mt});return e?Cm({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const eY={type:"spring",stiffness:500,damping:25,restSpeed:10},tY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nY={type:"keyframes",duration:.8},rY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iY=(t,{keyframes:e})=>e.length>2?nY:wa.has(t)?t.startsWith("scale")?tY(e[1]):eY:rY,Mw=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Jo.test(e)||e==="0")&&!e.startsWith("url(")),oY=new Set(["brightness","contrast","saturate","opacity"]);function sY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(by)||[];if(!r)return t;const i=n.replace(r,"");let o=oY.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const aY=/([a-z-]*)\(.*?\)/g,Dw={...Jo,getAnimatableNone:t=>{const e=t.match(aY);return e?e.map(sY).join(" "):t}},lY={...sL,color:yn,backgroundColor:yn,outlineColor:yn,fill:yn,stroke:yn,borderColor:yn,borderTopColor:yn,borderRightColor:yn,borderBottomColor:yn,borderLeftColor:yn,filter:Dw,WebkitFilter:Dw},AE=t=>lY[t];function KL(t,e){let n=AE(t);return n!==Dw&&(n=Jo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GL=t=>/^0[^.\s]+$/.test(t);function uY(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||GL(t)}function cY(t,e,n,r){const i=Mw(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?s:o[u-1]),uY(o[u])&&l.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(a=o[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];o[c]=KL(e,a)}return o}function hY({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function PE(t,e){return t[e]||t.default||t}const fY={skipAnimations:!1},OE=(t,e,n,r={})=>i=>{const o=PE(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ws(s);const l=cY(e,t,n,o),u=l[0],c=l[l.length-1],h=Mw(t,u),f=Mw(t,c);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(hY(o)||(p={...p,...iY(t,p)}),p.duration&&(p.duration=Ws(p.duration)),p.repeatDelay&&(p.repeatDelay=Ws(p.repeatDelay)),!h||!f||aX.current||o.type===!1||fY.skipAnimations)return ZX(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=JX(e,t,p);if(m)return m}return Cm(p)};function km(t){return!!(Nn(t)&&t.add)}const XL=t=>/^\-?\d*\.?\d+$/.test(t);function IE(t,e){t.indexOf(e)===-1&&t.push(e)}function CE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class kE{constructor(){this.subscriptions=[]}add(e){return IE(this.subscriptions,e),()=>CE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dY=t=>!isNaN(parseFloat(t));class pY{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=on;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,Ke.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ke.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=dY(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new kE);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?WL(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ul(t,e){return new pY(t,e)}const YL=t=>e=>e.test(t),mY={test:t=>t==="auto",parse:t=>t},QL=[ba,he,Zr,so,EG,xG,mY],oc=t=>QL.find(YL(t)),gY=[...QL,yn,Jo],yY=t=>gY.find(YL(t));function vY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ul(n))}function _Y(t,e){const n=Ey(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=$G(o[s]);vY(t,s,a)}}function wY(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(XL(c)||GL(c))?c=parseFloat(c):!yY(c)&&Jo.test(u)&&(c=KL(l,u)),t.addValue(l,Ul(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function bY(t,e){return e?(e[t]||e.default||e).from:void 0}function xY(t,e,n){const r={};for(const i in t){const o=bY(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function EY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function TY(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function JL(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),p=a[h];if(!f||p===void 0||c&&EY(c,h))continue;const m={delay:n,elapsed:0,...PE(o||{},h)};if(window.HandoffAppearAnimations){const w=t.getProps()[Z$];if(w){const _=window.HandoffAppearAnimations(w,h,f,Ke);_!==null&&(m.elapsed=_,m.isHandoff=!0)}}let g=!m.isHandoff&&!TY(f,p);if(m.type==="spring"&&(f.getVelocity()||m.velocity)&&(g=!1),f.animation&&(g=!1),g)continue;f.start(OE(h,f,p,t.shouldReduceMotion&&wa.has(h)?{type:!1}:m));const y=f.animation;km(l)&&(l.add(h),y.then(()=>l.remove(h))),u.push(y)}return s&&Promise.all(u).then(()=>{s&&_Y(t,s)}),u}function $w(t,e,n={}){const r=Ey(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(JL(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return SY(t,e,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function SY(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(AY).forEach((u,c)=>{u.notify("AnimationStart",e),s.push($w(u,e,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function AY(t,e){return t.sortNodePosition(e)}function PY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>$w(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=$w(t,e,n);else{const i=typeof e=="function"?Ey(t,e,n.custom):e;r=Promise.all(JL(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const OY=[...dE].reverse(),IY=dE.length;function CY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>PY(t,n,r)))}function kY(t){let e=CY(t);const n=jY();let r=!0;const i=(l,u)=>{const c=Ey(t,u);if(c){const{transition:h,transitionEnd:f,...p}=c;l={...l,...p,...f}}return l};function o(l){e=l(t)}function s(l,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},f=[],p=new Set;let m={},g=1/0;for(let w=0;w<IY;w++){const _=OY[w],v=n[_],S=c[_]!==void 0?c[_]:h[_],E=jh(S),A=_===u?v.isActive:null;A===!1&&(g=w);let x=S===h[_]&&S!==c[_]&&E;if(x&&r&&t.manuallyAnimateOnMount&&(x=!1),v.protectedKeys={...m},!v.isActive&&A===null||!S&&!v.prevProp||_y(S)||typeof S=="boolean")continue;let I=RY(v.prevProp,S)||_===u&&v.isActive&&!x&&E||w>g&&E,k=!1;const C=Array.isArray(S)?S:[S];let j=C.reduce(i,{});A===!1&&(j={});const{prevResolvedValues:R={}}=v,V={...R,...j},U=B=>{I=!0,p.has(B)&&(k=!0,p.delete(B)),v.needsAnimating[B]=!0};for(const B in V){const H=j[B],L=R[B];if(m.hasOwnProperty(B))continue;let z=!1;Am(H)&&Am(L)?z=!bL(H,L):z=H!==L,z?H!==void 0?U(B):p.add(B):H!==void 0&&p.has(B)?U(B):v.protectedKeys[B]=!0}v.prevProp=S,v.prevResolvedValues=j,v.isActive&&(m={...m,...j}),r&&t.blockInitialAnimation&&(I=!1),I&&(!x||k)&&f.push(...C.map(B=>({animation:B,options:{type:_,...l}})))}if(p.size){const w={};p.forEach(_=>{const v=t.getBaseTarget(_);v!==void 0&&(w[_]=v)}),f.push({animation:w})}let y=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=s(c,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function RY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bL(e,t):!1}function vs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jY(){return{animate:vs(!0),whileInView:vs(),whileHover:vs(),whileTap:vs(),whileDrag:vs(),whileFocus:vs(),exit:vs()}}class NY extends ss{constructor(e){super(e),e.animationState||(e.animationState=kY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),_y(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let MY=0;class DY extends ss{constructor(){super(...arguments),this.id=MY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const $Y={animation:{Feature:NY},exit:{Feature:DY}},tI=(t,e)=>Math.abs(t-e);function LY(t,e){const n=tI(t.x,e.x),r=tI(t.y,e.y);return Math.sqrt(n**2+r**2)}class ZL{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=P0(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=LY(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=h,{timestamp:g}=on;this.history.push({...m,timestamp:g});const{onStart:y,onMove:w}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=A0(f,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=P0(h.type==="pointercancel"?this.lastMoveEventInfo:A0(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),m&&m(h,y)},!gL(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=xy(e),a=A0(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=on;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,P0(a,this.history)),this.removeListeners=Vo(Ii(this.contextWindow,"pointermove",this.handlePointerMove),Ii(this.contextWindow,"pointerup",this.handlePointerUp),Ii(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wi(this.updatePoint)}}function A0(t,e){return e?{point:e(t.point)}:t}function nI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function P0({point:t},e){return{point:t,delta:nI(t,eV(e)),offset:nI(t,VY(e)),velocity:FY(e,.1)}}function VY(t){return t[0]}function eV(t){return t[t.length-1]}function FY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=eV(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ws(e)));)n--;if(!r)return{x:0,y:0};const o=Ci(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function qn(t){return t.max-t.min}function Lw(t,e=0,n=.01){return Math.abs(t-e)<=n}function rI(t,e,n,r=.5){t.origin=r,t.originPoint=rt(e.min,e.max,t.origin),t.scale=qn(n)/qn(e),(Lw(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=rt(n.min,n.max,t.origin)-t.originPoint,(Lw(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Gc(t,e,n,r){rI(t.x,e.x,n.x,r?r.originX:void 0),rI(t.y,e.y,n.y,r?r.originY:void 0)}function iI(t,e,n){t.min=n.min+e.min,t.max=t.min+qn(e)}function UY(t,e,n){iI(t.x,e.x,n.x),iI(t.y,e.y,n.y)}function oI(t,e,n){t.min=e.min-n.min,t.max=t.min+qn(e)}function Xc(t,e,n){oI(t.x,e.x,n.x),oI(t.y,e.y,n.y)}function BY(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?rt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?rt(n,t,r.max):Math.min(t,n)),t}function sI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zY(t,{top:e,left:n,bottom:r,right:i}){return{x:sI(t.x,n,i),y:sI(t.y,e,r)}}function aI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function WY(t,e){return{x:aI(t.x,e.x),y:aI(t.y,e.y)}}function HY(t,e){let n=.5;const r=qn(t),i=qn(e);return i>r?n=Mh(e.min,e.max-r,t.min):r>i&&(n=Mh(t.min,t.max-i,e.min)),Qo(0,1,n)}function qY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vw=.35;function KY(t=Vw){return t===!1?t=0:t===!0&&(t=Vw),{x:lI(t,"left","right"),y:lI(t,"top","bottom")}}function lI(t,e,n){return{min:uI(t,e),max:uI(t,n)}}function uI(t,e){return typeof t=="number"?t:t[e]||0}const cI=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:cI(),y:cI()}),hI=()=>({min:0,max:0}),_t=()=>({x:hI(),y:hI()});function er(t){return[t("x"),t("y")]}function tV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function GY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function XY(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function O0(t){return t===void 0||t===1}function Fw({scale:t,scaleX:e,scaleY:n}){return!O0(t)||!O0(e)||!O0(n)}function Ts(t){return Fw(t)||nV(t)||t.z||t.rotate||t.rotateX||t.rotateY}function nV(t){return fI(t.x)||fI(t.y)}function fI(t){return t&&t!=="0%"}function Rm(t,e,n){const r=t-n,i=e*r;return n+i}function dI(t,e,n,r,i){return i!==void 0&&(t=Rm(t,i,r)),Rm(t,n,r)+e}function Uw(t,e=0,n=1,r,i){t.min=dI(t.min,e,n,r,i),t.max=dI(t.max,e,n,r,i)}function rV(t,{x:e,y:n}){Uw(t.x,e.translate,e.scale,e.originPoint),Uw(t.y,n.translate,n.scale,n.originPoint)}function YY(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ul(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,rV(t,s)),r&&Ts(o.latestValues)&&ul(t,o.latestValues))}e.x=pI(e.x),e.y=pI(e.y)}function pI(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function co(t,e){t.min=t.min+e,t.max=t.max+e}function mI(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=rt(t.min,t.max,o);Uw(t,e[n],e[r],s,e.scale)}const QY=["x","scaleX","originX"],JY=["y","scaleY","originY"];function ul(t,e){mI(t.x,e,QY),mI(t.y,e,JY)}function iV(t,e){return tV(XY(t.getBoundingClientRect(),e))}function ZY(t,e,n){const r=iV(t,n),{scroll:i}=e;return i&&(co(r.x,i.offset.x),co(r.y,i.offset.y)),r}const oV=({current:t})=>t?t.ownerDocument.defaultView:null,eQ=new WeakMap;class tQ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xy(c,"page").point)},o=(c,h)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=vL(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Zr.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const v=_.layout.layoutBox[y];v&&(w=qn(v)*(parseFloat(w)/100))}}this.originPoint[y]=w}),m&&Ke.update(()=>m(c,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(c,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=nQ(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),g&&g(c,h)},a=(c,h)=>this.stop(c,h),l=()=>er(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ZL(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:oV(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Ke.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ud(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=BY(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&sl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=zY(i.layoutBox,n):this.constraints=!1,this.elastic=KY(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&er(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=qY(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=ZY(r,i.root,this.visualElement.getTransformPagePoint());let s=WY(i.layout.layoutBox,o);if(n){const a=n(GY(s));this.hasMutatedConstraints=!!a,a&&(s=tV(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=er(c=>{if(!Ud(c,n,this.currentDirection))return;let h=l&&l[c]||{};s&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(OE(e,r,0,n))}stopAnimation(){er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){er(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){er(n=>{const{drag:r}=this.getProps();if(!Ud(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-rt(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};er(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=HY({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),er(s=>{if(!Ud(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(rt(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;eQ.set(this.visualElement,this);const e=this.visualElement.current,n=Ii(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();sl(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=xi(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(er(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Vw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Ud(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class rQ extends ss{constructor(e){super(e),this.removeGroupControls=mt,this.removeListeners=mt,this.controls=new tQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mt}unmount(){this.removeGroupControls(),this.removeListeners()}}const gI=t=>(e,n)=>{t&&Ke.update(()=>t(e,n))};class iQ extends ss{constructor(){super(...arguments),this.removePointerDownListener=mt}onPointerDown(e){this.session=new ZL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:gI(e),onStart:gI(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Ke.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=Ii(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function oQ(){const t=M.useContext(yy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=M.useId();return M.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Ip={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=yI(t,e.target.x),r=yI(t,e.target.y);return`${n}% ${r}%`}},sQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Jo.parse(t);if(i.length>5)return r;const o=Jo.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const u=rt(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};class aQ extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;mG(lQ),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ip.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Ke.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sV(t){const[e,n]=oQ(),r=M.useContext(mE);return D.createElement(aQ,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(tL),isPresent:e,safeToRemove:n})}const lQ={borderRadius:{...sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sc,borderTopRightRadius:sc,borderBottomLeftRadius:sc,borderBottomRightRadius:sc,boxShadow:sQ},aV=["TopLeft","TopRight","BottomLeft","BottomRight"],uQ=aV.length,vI=t=>typeof t=="string"?parseFloat(t):t,_I=t=>typeof t=="number"||he.test(t);function cQ(t,e,n,r,i,o){i?(t.opacity=rt(0,n.opacity!==void 0?n.opacity:1,hQ(r)),t.opacityExit=rt(e.opacity!==void 0?e.opacity:1,0,fQ(r))):o&&(t.opacity=rt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<uQ;s++){const a=`border${aV[s]}Radius`;let l=wI(e,a),u=wI(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||_I(l)===_I(u)?(t[a]=Math.max(rt(vI(l),vI(u),r),0),(Zr.test(u)||Zr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=rt(e.rotate||0,n.rotate||0,r))}function wI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hQ=lV(0,.5,CL),fQ=lV(.5,.95,mt);function lV(t,e,n){return r=>r<t?0:r>e?1:n(Mh(t,e,r))}function bI(t,e){t.min=e.min,t.max=e.max}function Yn(t,e){bI(t.x,e.x),bI(t.y,e.y)}function xI(t,e,n,r,i){return t-=e,t=Rm(t,1/n,r),i!==void 0&&(t=Rm(t,1/i,r)),t}function dQ(t,e=0,n=1,r=.5,i,o=t,s=t){if(Zr.test(e)&&(e=parseFloat(e),e=rt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=rt(o.min,o.max,r);t===o&&(a-=e),t.min=xI(t.min,e,n,a,i),t.max=xI(t.max,e,n,a,i)}function EI(t,e,[n,r,i],o,s){dQ(t,e[n],e[r],e[i],e.scale,o,s)}const pQ=["x","scaleX","originX"],mQ=["y","scaleY","originY"];function TI(t,e,n,r){EI(t.x,e,pQ,n?n.x:void 0,r?r.x:void 0),EI(t.y,e,mQ,n?n.y:void 0,r?r.y:void 0)}function SI(t){return t.translate===0&&t.scale===1}function uV(t){return SI(t.x)&&SI(t.y)}function gQ(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function cV(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function AI(t){return qn(t.x)/qn(t.y)}class yQ{constructor(){this.members=[]}add(e){IE(this.members,e),e.scheduleRender()}remove(e){if(CE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PI(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const vQ=(t,e)=>t.depth-e.depth;class _Q{constructor(){this.children=[],this.isDirty=!1}add(e){IE(this.children,e),this.isDirty=!0}remove(e){CE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vQ),this.isDirty=!1,this.children.forEach(e)}}function wQ(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Wi(r),t(o-e))};return Ke.read(r,!0),()=>Wi(r)}function bQ(t){window.MotionDebug&&window.MotionDebug.record(t)}function xQ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function EQ(t,e,n){const r=Nn(t)?t:Ul(t);return r.start(OE("",r,e,n)),r.animation}const OI=["","X","Y","Z"],TQ={visibility:"hidden"},II=1e3;let SQ=0;const Ss={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function hV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=SQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ss.totalNodes=Ss.resolvedTargetDeltas=Ss.recalculatedProjection=0,this.nodes.forEach(OQ),this.nodes.forEach(jQ),this.nodes.forEach(NQ),this.nodes.forEach(IQ),bQ(Ss)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new _Q)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new kE),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=xQ(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=wQ(f,250),Ip.hasAnimatedSinceResize&&(Ip.hasAnimatedSinceResize=!1,this.nodes.forEach(kI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||VQ,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=c.getProps(),_=!this.targetLayout||!cV(this.targetLayout,m)||p,v=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const S={...PE(g,"layout"),onPlay:y,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||kI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MQ),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CI);return}this.isUpdating||this.nodes.forEach(kQ),this.isUpdating=!1,this.nodes.forEach(RQ),this.nodes.forEach(AQ),this.nodes.forEach(PQ),this.clearAllSnapshots();const a=performance.now();on.delta=Qo(0,1e3/60,a-on.timestamp),on.timestamp=a,on.isProcessing=!0,v0.update.process(on),v0.preRender.process(on),v0.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(CQ),this.sharedNodes.forEach(DQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!uV(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||Ts(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),FQ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return _t();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(co(a.x,l.offset.x),co(a.y,l.offset.y)),a}removeElementScroll(s){const a=_t();Yn(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){Yn(a,s);const{scroll:f}=this.root;f&&(co(a.x,-f.offset.x),co(a.y,-f.offset.y))}co(a.x,c.offset.x),co(a.y,c.offset.y)}}return a}applyTransform(s,a=!1){const l=_t();Yn(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ul(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ts(c.latestValues)&&ul(l,c.latestValues)}return Ts(this.latestValues)&&ul(l,this.latestValues),l}removeTransform(s){const a=_t();Yn(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ts(u.latestValues))continue;Fw(u.latestValues)&&u.updateSnapshot();const c=_t(),h=u.measurePageBox();Yn(c,h),TI(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ts(this.latestValues)&&TI(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Xc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),rV(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Xc(this.relativeTargetOrigin,this.target,p.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ss.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Fw(this.parent.latestValues)||nV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===on.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Yn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;YY(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=ll(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll());const g=this.projectionTransform;Gc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=PI(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Ss.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=_t(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,y=this.getStack(),w=!y||y.members.length<=1,_=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(LQ));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const E=S/1e3;RI(h.x,s.x,E),RI(h.y,s.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$Q(this.relativeTarget,this.relativeTargetOrigin,f,E),v&&gQ(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=_t()),Yn(v,this.relativeTarget)),g&&(this.animationValues=c,cQ(c,u,this.latestValues,E,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{Ip.hasAnimatedSinceResize=!0,this.currentAnimation=EQ(0,II,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(II),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&fV(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||_t();const h=qn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const f=qn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}Yn(a,l),ul(a,c),Gc(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new yQ),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<OI.length;c++){const h="rotate"+OI[c];l[h]&&(u[h]=l[h],s.setStaticValue(h,0))}s.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return TQ;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Op(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Op(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Ts(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=PI(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Tm){if(f[g]===void 0)continue;const{correct:y,applyTo:w}=Tm[g],_=u.transform==="none"?f[g]:y(f[g],h);if(w){const v=w.length;for(let S=0;S<v;S++)u[w[S]]=_}else u[g]=_}return this.options.layoutId&&(u.pointerEvents=h===this?Op(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(CI),this.root.sharedNodes.clear()}}}function AQ(t){t.updateLayout()}function PQ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?er(h=>{const f=s?n.measuredBox[h]:n.layoutBox[h],p=qn(f);f.min=r[h].min,f.max=f.min+p}):fV(o,n.layoutBox,r)&&er(h=>{const f=s?n.measuredBox[h]:n.layoutBox[h],p=qn(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=ll();Gc(a,r,n.layoutBox);const l=ll();s?Gc(l,t.applyTransform(i,!0),n.measuredBox):Gc(l,r,n.layoutBox);const u=!uV(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const m=_t();Xc(m,n.layoutBox,f.layoutBox);const g=_t();Xc(g,r,p.layoutBox),cV(m,g)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function OQ(t){Ss.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function CQ(t){t.clearSnapshot()}function CI(t){t.clearMeasurements()}function kQ(t){t.isLayoutDirty=!1}function RQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jQ(t){t.resolveTargetDelta()}function NQ(t){t.calcProjection()}function MQ(t){t.resetRotation()}function DQ(t){t.removeLeadSnapshot()}function RI(t,e,n){t.translate=rt(e.translate,0,n),t.scale=rt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jI(t,e,n,r){t.min=rt(e.min,n.min,r),t.max=rt(e.max,n.max,r)}function $Q(t,e,n,r){jI(t.x,e.x,n.x,r),jI(t.y,e.y,n.y,r)}function LQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VQ={duration:.45,ease:[.4,0,.1,1]},NI=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),MI=NI("applewebkit/")&&!NI("chrome/")?Math.round:mt;function DI(t){t.min=MI(t.min),t.max=MI(t.max)}function FQ(t){DI(t.x),DI(t.y)}function fV(t,e,n){return t==="position"||t==="preserve-aspect"&&!Lw(AI(e),AI(n),.2)}const UQ=hV({attachResizeListener:(t,e)=>xi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),I0={current:void 0},dV=hV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!I0.current){const t=new UQ({});t.mount(window),t.setOptions({layoutScroll:!0}),I0.current=t}return I0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BQ={pan:{Feature:iQ},drag:{Feature:rQ,ProjectionNode:dV,MeasureLayout:sV}},zQ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function WQ(t){const e=zQ.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Bw(t,e,n=1){const[r,i]=WQ(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return XL(s)?parseFloat(s):s}else return kw(i)?Bw(i,e,n+1):i}function HQ(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!kw(o))return;const s=Bw(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!kw(o))continue;const s=Bw(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const qQ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),pV=t=>qQ.has(t),KQ=t=>Object.keys(t).some(pV),$I=t=>t===ba||t===he,LI=(t,e)=>parseFloat(t.split(", ")[e]),VI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return LI(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?LI(o[1],t):0}},GQ=new Set(["x","y","z"]),XQ=Mf.filter(t=>!GQ.has(t));function YQ(t){const e=[];return XQ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Bl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:VI(4,13),y:VI(5,14)};Bl.translateX=Bl.x;Bl.translateY=Bl.y;const QQ=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Bl[u](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=Bl[u](l,o)}),t},JQ=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(pV);let o=[],s=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],h=oc(c);const f=e[l];let p;if(Am(f)){const m=f.length,g=f[0]===null?1:0;c=f[g],h=oc(c);for(let y=g;y<m&&f[y]!==null;y++)p?Pm(oc(f[y])===p):p=oc(f[y])}else p=oc(f);if(h!==p)if($I(h)&&$I(p)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===he&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(c===0||f===0)?c===0?u.set(p.transform(c)):e[l]=h.transform(f):(s||(o=YQ(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=QQ(e,t,a);return o.length&&o.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),vy&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function ZQ(t,e,n,r){return KQ(e)?JQ(t,e,n,r):{target:e,transitionEnd:r}}const eJ=(t,e,n,r)=>{const i=HQ(t,e,r);return e=i.target,r=i.transitionEnd,ZQ(t,e,n,r)},zw={current:null},mV={current:!1};function tJ(){if(mV.current=!0,!!vy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zw.current=t.matches;t.addListener(e),e()}else zw.current=!1}function nJ(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(Nn(o))t.addValue(i,o),km(r)&&r.add(i);else if(Nn(s))t.addValue(i,Ul(o,{owner:t})),km(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,Ul(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const FI=new WeakMap,gV=Object.keys(Nh),rJ=gV.length,UI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],iJ=pE.length;class oJ{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ke.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=wy(n),this.isVariantNode=eL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const f=c[h];a[h]!==void 0&&Nn(f)&&(f.set(a[h],!1),km(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,FI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),mV.current||tJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){FI.delete(this.current),this.projection&&this.projection.unmount(),Wi(this.notifyUpdate),Wi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=wa.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Ke.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,a;for(let l=0;l<rJ;l++){const u=gV[l],{isEnabled:c,Feature:h,ProjectionNode:f,MeasureLayout:p}=Nh[u];f&&(s=f),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&sl(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<UI.length;r++){const i=UI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=nJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<iJ;r++){const i=pE[r],o=this.props[i];(jh(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ul(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=xE(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Nn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new kE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class yV extends oJ{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=xY(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){wY(this,r,s);const a=eJ(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function sJ(t){return window.getComputedStyle(t)}class aJ extends yV{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(wa.has(n)){const r=AE(n);return r&&r.default||0}else{const r=sJ(e),i=(iL(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iV(e,n)}build(e,n,r,i){yE(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return bE(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){cL(e,n,r,i)}}class lJ extends yV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wa.has(n)){const r=AE(n);return r&&r.default||0}return n=hL.has(n)?n:fE(n),e.getAttribute(n)}measureInstanceViewportBox(){return _t()}scrapeMotionValuesFromProps(e,n){return dL(e,n)}build(e,n,r,i){_E(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){fL(e,n,r,i)}mount(e){this.isSVGTag=wE(e.tagName),super.mount(e)}}const uJ=(t,e)=>gE(t)?new lJ(e,{enableHardwareAcceleration:!1}):new aJ(e,{enableHardwareAcceleration:!0}),cJ={layout:{ProjectionNode:dV,MeasureLayout:sV}},hJ={...$Y,...iX,...BQ,...cJ},je=dG((t,e)=>HG(t,e,hJ,uJ));function vV(){const t=M.useRef(!1);return hE(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function fJ(){const t=vV(),[e,n]=M.useState(0),r=M.useCallback(()=>{t.current&&n(e+1)},[e]);return[M.useCallback(()=>Ke.postRender(r),[r]),e]}class dJ extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pJ({children:t,isPresent:e}){const n=M.useId(),r=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0});return M.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),M.createElement(dJ,{isPresent:e,childRef:r,sizeRef:i},M.cloneElement(t,{ref:r}))}const C0=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=pL(mJ),l=M.useId(),u=M.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?void 0:[n]);return M.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=M.createElement(pJ,{isPresent:n},t)),M.createElement(yy.Provider,{value:u},t)};function mJ(){return new Map}function gJ(t){return M.useEffect(()=>()=>t(),[])}const As=t=>t.key||"";function yJ(t,e){t.forEach(n=>{const r=As(n);e.set(r,n)})}function vJ(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const _J=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=M.useContext(mE).forceRender||fJ()[0],l=vV(),u=vJ(t);let c=u;const h=M.useRef(new Map).current,f=M.useRef(c),p=M.useRef(new Map).current,m=M.useRef(!0);if(hE(()=>{m.current=!1,yJ(u,p),f.current=c}),gJ(()=>{m.current=!0,p.clear(),h.clear()}),m.current)return M.createElement(M.Fragment,null,c.map(_=>M.createElement(C0,{key:As(_),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},_)));c=[...c];const g=f.current.map(As),y=u.map(As),w=g.length;for(let _=0;_<w;_++){const v=g[_];y.indexOf(v)===-1&&!h.has(v)&&h.set(v,void 0)}return s==="wait"&&h.size&&(c=[]),h.forEach((_,v)=>{if(y.indexOf(v)!==-1)return;const S=p.get(v);if(!S)return;const E=g.indexOf(v);let A=_;if(!A){const x=()=>{h.delete(v);const T=Array.from(p.keys()).filter(I=>!y.includes(I));if(T.forEach(I=>p.delete(I)),f.current=u.filter(I=>{const k=As(I);return k===v||T.includes(k)}),!h.size){if(l.current===!1)return;a(),r&&r()}};A=M.createElement(C0,{key:As(S),isPresent:!1,onExitComplete:x,custom:e,presenceAffectsLayout:o,mode:s},S),h.set(v,A)}c.splice(E,0,A)}),c=c.map(_=>{const v=_.key;return h.has(v)?_:M.createElement(C0,{key:As(_),isPresent:!0,presenceAffectsLayout:o,mode:s},_)}),M.createElement(M.Fragment,null,h.size?c:c.map(_=>M.cloneElement(_)))},Kt=({variant:t="primary",size:e="md",loading:n=!1,children:r,className:i="",disabled:o,...s})=>{const a="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",l={primary:"bg-primary-500 hover:bg-primary-600 text-white focus:ring-primary-500 shadow-sm hover:shadow-md",secondary:"bg-secondary-500 hover:bg-secondary-600 text-white focus:ring-secondary-500 shadow-sm hover:shadow-md",outline:"border border-neutral-300 hover:border-neutral-400 text-neutral-700 hover:bg-neutral-50 focus:ring-primary-500",ghost:"text-neutral-700 hover:bg-neutral-100 focus:ring-primary-500"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},c=o||n;return O.jsxs(je.button,{whileHover:c?{}:{scale:1.02},whileTap:c?{}:{scale:.98},className:`${a} ${l[t]} ${u[e]} ${c?"opacity-50 cursor-not-allowed":""} ${i}`,disabled:c,...s,children:[n&&O.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[O.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),O.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})},ft=({label:t,error:e,className:n="",...r})=>O.jsxs("div",{className:"space-y-1",children:[t&&O.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:t}),O.jsx("input",{className:`block w-full px-3 py-2 border border-neutral-300 rounded-lg shadow-sm placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${e?"border-red-500":""} ${n}`,...r}),e&&O.jsx("p",{className:"text-sm text-red-600",children:e})]}),or=({children:t,className:e="",hover:n=!1})=>O.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:n?{y:-2,boxShadow:"0 10px 25px -3px rgba(0, 0, 0, 0.1)"}:{},className:`bg-white rounded-lg border border-neutral-200 shadow-sm ${e}`,children:t});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Lt=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>M.createElement("svg",{ref:c,...wJ,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${bJ(t)}`,a].join(" "),...u},[...e.map(([h,f])=>M.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Lt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=Lt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=Lt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=Lt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=Lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=Lt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Lt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Lt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=Lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=Lt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=Lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=Lt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=Lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=Lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),IJ=({onToggleMode:t})=>{const[e,n]=M.useState(""),[r,i]=M.useState(""),[o,s]=M.useState(!1),[a,l]=M.useState(""),{signIn:u}=Yi(),c=async h=>{h.preventDefault(),s(!0),l("");try{await u(e,r)}catch(f){l(f.message||"An error occurred during sign in")}finally{s(!1)}};return O.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center p-4",children:O.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[O.jsxs("div",{className:"text-center mb-8",children:[O.jsx(je.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 bg-primary-500 rounded-full mb-4",children:O.jsx(jE,{className:"w-8 h-8 text-white"})}),O.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"MySurgeon"}),O.jsx("p",{className:"text-neutral-600",children:"AI-Powered Surgical Platform"})]}),O.jsx(or,{className:"p-8",children:O.jsxs("form",{onSubmit:c,className:"space-y-6",children:[O.jsx("div",{children:O.jsx("h2",{className:"text-2xl font-semibold text-neutral-900 mb-6",children:"Sign In"})}),a&&O.jsx(je.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:a}),O.jsx(ft,{label:"Email",type:"email",value:e,onChange:h=>n(h.target.value),required:!0,placeholder:"Enter your email"}),O.jsx(ft,{label:"Password",type:"password",value:r,onChange:h=>i(h.target.value),required:!0,placeholder:"Enter your password"}),O.jsx(Kt,{type:"submit",loading:o,className:"w-full",size:"lg",children:"Sign In"}),O.jsx("div",{className:"text-center",children:O.jsx("button",{type:"button",onClick:t,className:"text-primary-600 hover:text-primary-700 font-medium transition-colors",children:"Don't have an account? Sign up"})})]})})]})})},CJ=({onToggleMode:t})=>{const[e,n]=M.useState({fullName:"",email:"",password:"",role:"patient"}),[r,i]=M.useState(!1),[o,s]=M.useState(""),{signUp:a}=Yi(),l=async c=>{c.preventDefault(),i(!0),s("");try{await a(e.email,e.password,e.fullName,e.role)}catch(h){s(h.message||"An error occurred during sign up")}finally{i(!1)}},u=(c,h)=>{n(f=>({...f,[c]:h}))};return O.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center p-4",children:O.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[O.jsxs("div",{className:"text-center mb-8",children:[O.jsx(je.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 bg-primary-500 rounded-full mb-4",children:O.jsx(jE,{className:"w-8 h-8 text-white"})}),O.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"MySurgeon"}),O.jsx("p",{className:"text-neutral-600",children:"AI-Powered Surgical Platform"})]}),O.jsx(or,{className:"p-8",children:O.jsxs("form",{onSubmit:l,className:"space-y-6",children:[O.jsx("div",{children:O.jsx("h2",{className:"text-2xl font-semibold text-neutral-900 mb-6",children:"Create Account"})}),o&&O.jsx(je.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:o}),O.jsx(ft,{label:"Full Name",type:"text",value:e.fullName,onChange:c=>u("fullName",c.target.value),required:!0,placeholder:"Enter your full name"}),O.jsx(ft,{label:"Email",type:"email",value:e.email,onChange:c=>u("email",c.target.value),required:!0,placeholder:"Enter your email"}),O.jsx(ft,{label:"Password",type:"password",value:e.password,onChange:c=>u("password",c.target.value),required:!0,placeholder:"Create a password"}),O.jsxs("div",{className:"space-y-1",children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Role"}),O.jsxs("select",{value:e.role,onChange:c=>u("role",c.target.value),className:"block w-full px-3 py-2 border border-neutral-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:[O.jsx("option",{value:"patient",children:"Patient"}),O.jsx("option",{value:"surgeon",children:"Surgeon"})]})]}),O.jsx(Kt,{type:"submit",loading:r,className:"w-full",size:"lg",children:"Create Account"}),O.jsx("div",{className:"text-center",children:O.jsx("button",{type:"button",onClick:t,className:"text-primary-600 hover:text-primary-700 font-medium transition-colors",children:"Already have an account? Sign in"})})]})})]})})},kJ=()=>{const{profile:t,signOut:e}=Yi(),n=async()=>{try{await e()}catch(r){console.error("Error signing out:",r)}};return O.jsx(je.nav,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-white border-b border-neutral-200 shadow-sm",children:O.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:O.jsxs("div",{className:"flex justify-between items-center h-16",children:[O.jsxs("div",{className:"flex items-center space-x-3",children:[O.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary-500 rounded-full",children:O.jsx(jE,{className:"w-6 h-6 text-white"})}),O.jsxs("div",{children:[O.jsx("h1",{className:"text-xl font-bold text-neutral-900",children:"MySurgeon"}),O.jsxs("p",{className:"text-xs text-neutral-500 capitalize",children:[t==null?void 0:t.role," Portal"]})]})]}),O.jsxs("div",{className:"flex items-center space-x-4",children:[O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx(Zo,{className:"w-5 h-5 text-neutral-500"}),O.jsx("span",{className:"text-sm font-medium text-neutral-700",children:t==null?void 0:t.full_name})]}),O.jsxs(Kt,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center space-x-2",children:[O.jsx(SJ,{className:"w-4 h-4"}),O.jsx("span",{children:"Sign Out"})]})]})]})})})},RJ=({activeTab:t,onTabChange:e})=>{const{profile:n}=Yi(),i=(()=>{switch(n==null?void 0:n.role){case"patient":return[{id:"dashboard",label:"Dashboard",icon:BI},{id:"appointments",label:"Appointments",icon:Dh},{id:"find-surgeon",label:"Find Surgeon",icon:Ww},{id:"health-profile",label:"Health Profile",icon:Zo}];case"surgeon":return[{id:"dashboard",label:"Dashboard",icon:BI},{id:"patients",label:"My Patients",icon:PJ},{id:"schedule",label:"My Schedule",icon:Dh},{id:"profile",label:"Profile",icon:Zo}];case"admin":return[{id:"dashboard",label:"SurgiCast",icon:_V},{id:"analytics",label:"Analytics",icon:Vf},{id:"reports",label:"Reports",icon:RE}];default:return[]}})();return O.jsx(je.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"w-64 bg-white border-r border-neutral-200 h-full",children:O.jsx("div",{className:"p-6",children:O.jsx("nav",{className:"space-y-2",children:i.map(o=>{const s=o.icon,a=t===o.id;return O.jsxs(je.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:()=>e(o.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${a?"bg-primary-50 text-primary-700 border border-primary-200":"text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900"}`,children:[O.jsx(s,{className:`w-5 h-5 ${a?"text-primary-600":"text-neutral-500"}`}),O.jsx("span",{className:"font-medium",children:o.label})]},o.id)})})})})},jJ="modulepreload",NJ=function(t){return"/"+t},zI={},Ff=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=NJ(l),l in zI)return;zI[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":jJ,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},MJ=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ff(async()=>{const{default:r}=await Promise.resolve().then(()=>wu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ME extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class DJ extends ME{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $J extends ME{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class LJ extends ME{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hw||(Hw={}));var VJ=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class FJ{constructor(e,{headers:n={},customFetch:r,region:i=Hw.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=MJ(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return VJ(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(m=>{throw new DJ(m)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new $J(c);if(!c.ok)throw new LJ(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield c.json():f==="application/octet-stream"?p=yield c.blob():f==="text/event-stream"?p=c:f==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var An={},DE={},Ty={},Uf={},Sy={},Ay={},UJ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zl=UJ();const BJ=zl.fetch,xV=zl.fetch.bind(zl),EV=zl.Headers,zJ=zl.Request,WJ=zl.Response,wu=Object.freeze(Object.defineProperty({__proto__:null,Headers:EV,Request:zJ,Response:WJ,default:xV,fetch:BJ},Symbol.toStringTag,{value:"Module"})),HJ=YB(wu);var Py={};Object.defineProperty(Py,"__esModule",{value:!0});let qJ=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Py.default=qJ;var TV=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ay,"__esModule",{value:!0});const KJ=TV(HJ),GJ=TV(Py);let XJ=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=KJ.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let u=null,c=null,h=null,f=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=w:c=JSON.parse(w))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(c=[],u=null,f=200,p="OK")}catch{o.status===404&&g===""?(f=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new GJ.default(u)}return{error:u,data:c,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o==null?void 0:o.name)!==null&&s!==void 0?s:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Ay.default=XJ;var YJ=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sy,"__esModule",{value:!0});const QJ=YJ(Ay);let JJ=class extends QJ.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Sy.default=JJ;var ZJ=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uf,"__esModule",{value:!0});const eZ=ZJ(Sy);let tZ=class extends eZ.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Uf.default=tZ;var nZ=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ty,"__esModule",{value:!0});const ac=nZ(Uf);let rZ=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new ac.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ac.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){const s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ac.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new ac.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ac.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ty.default=rZ;var Oy={},Iy={};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.version=void 0;Iy.version="0.0.0-automated";Object.defineProperty(Oy,"__esModule",{value:!0});Oy.DEFAULT_HEADERS=void 0;const iZ=Iy;Oy.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${iZ.version}`};var SV=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(DE,"__esModule",{value:!0});const oZ=SV(Ty),sZ=SV(Uf),aZ=Oy;let lZ=class AV{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},aZ.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new oZ.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new AV(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){let s;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(s="POST",l=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new sZ.default({method:s,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};DE.default=lZ;var bu=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(An,"__esModule",{value:!0});An.PostgrestError=An.PostgrestBuilder=An.PostgrestTransformBuilder=An.PostgrestFilterBuilder=An.PostgrestQueryBuilder=An.PostgrestClient=void 0;const PV=bu(DE);An.PostgrestClient=PV.default;const OV=bu(Ty);An.PostgrestQueryBuilder=OV.default;const IV=bu(Uf);An.PostgrestFilterBuilder=IV.default;const CV=bu(Sy);An.PostgrestTransformBuilder=CV.default;const kV=bu(Ay);An.PostgrestBuilder=kV.default;const RV=bu(Py);An.PostgrestError=RV.default;var uZ=An.default={PostgrestClient:PV.default,PostgrestQueryBuilder:OV.default,PostgrestFilterBuilder:IV.default,PostgrestTransformBuilder:CV.default,PostgrestBuilder:kV.default,PostgrestError:RV.default};const{PostgrestClient:cZ,PostgrestQueryBuilder:lPe,PostgrestFilterBuilder:uPe,PostgrestTransformBuilder:cPe,PostgrestBuilder:hPe,PostgrestError:fPe}=uZ;function hZ(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const fZ=hZ(),dZ="2.11.13",pZ={"X-Client-Info":`realtime-js/${dZ}`},mZ="1.0.0",jV=1e4,gZ=1e3;var Yc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yc||(Yc={}));var rn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(rn||(rn={}));var xr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xr||(xr={}));var qw;(function(t){t.websocket="websocket"})(qw||(qw={}));var ks;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ks||(ks={}));class yZ{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(e.slice(s,s+i));s=s+i;const l=r.decode(e.slice(s,s+o));s=s+o;const u=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class NV{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const WI=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=vZ(s,t,e,i),o),{})},vZ=(t,e,n,r)=>{const i=e.find(a=>a.name===t),o=i==null?void 0:i.type,s=n[t];return o&&!r.includes(o)?MV(o,s):Kw(s)},MV=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return xZ(e,n)}switch(t){case We.bool:return _Z(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return wZ(e);case We.json:case We.jsonb:return bZ(e);case We.timestamp:return EZ(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Kw(e);default:return Kw(e)}},Kw=t=>t,_Z=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wZ=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bZ=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},xZ=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>MV(e,a))}return t},EZ=t=>typeof t=="string"?t.replace(" ","T"):t,DV=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class k0{constructor(e,n,r={},i=jV){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var HI;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(HI||(HI={}));class Qc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qc.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=Qc.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Qc.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),s=this.transformState(n),a={},l={};return this.map(o,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const h=o[u];if(h){const f=c.map(y=>y.presence_ref),p=h.map(y=>y.presence_ref),m=c.filter(y=>p.indexOf(y.presence_ref)<0),g=h.filter(y=>f.indexOf(y.presence_ref)<0);m.length>0&&(a[u]=m),g.length>0&&(l[u]=g)}else a[u]=c}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(p=>p.presence_ref),f=c.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,c,l)}),this.map(s,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qI;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(qI||(qI={}));var KI;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(KI||(KI={}));var gi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gi||(gi={}));class $E{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new k0(this,xr.join,this.params,this.timeout),this.rejoinTimer=new NV(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xr.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Qc(this),this.broadcastEndpointURL=DV(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(c=>e==null?void 0:e(gi.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(gi.CLOSED));const l={},u={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(gi.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,m=[];for(let g=0;g<p;g++){const y=f[g],{filter:{event:w,schema:_,table:v,filter:S}}=y,E=c&&c[g];if(E&&E.event===w&&E.schema===_&&E.table===v&&E.filter===S)m.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=rn.errored,e==null||e(gi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(gi.SUBSCRIBED);return}}).receive("error",c=>{this.state=rn.errored,e==null||e(gi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new k0(this,xr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new k0(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const s=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=xr;if(r&&[a,l,u,c].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(p=>p.callback(f,r)):(o=this.bindings[s])===null||o===void 0||o.filter(p=>{var m,g,y,w,_,v;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const S=p.id,E=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(_=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return S==="*"||S===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:y,commit_timestamp:w,type:_,errors:v}=m;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:w,eventType:_,new:{},old:{},errors:v}),this._getPayloadRecords(m))}p.callback(f,r)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&$E.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xr.close,{},e)}_onError(e){this._on(xr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=WI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=WI(e.columns,e.old_record)),n}}const GI=()=>{},TZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SZ{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=pZ,this.params={},this.timeout=jV,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=GI,this.ref=0,this.logger=GI,this.conn=null,this.sendBuffer=[],this.serializer=new yZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>Ff(async()=>{const{default:l}=await Promise.resolve().then(()=>wu);return{default:l}},void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${qw.websocket}`,this.httpEndpoint=DV(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,s)=>s(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new NV(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){this.conn||(this.transport||(this.transport=fZ),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mZ}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Yc.connecting:return ks.Connecting;case Yc.open:return ks.Open;case Yc.closing:return ks.Closing;default:return ks.Closed}}isConnected(){return this.connectionState()===ks.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new $E(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(xr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(gZ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:o,ref:s}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(xr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([TZ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class LE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function jt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class AZ extends LE{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gw extends LE{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var PZ=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const $V=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ff(async()=>{const{default:r}=await Promise.resolve().then(()=>wu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},OZ=()=>PZ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ff(()=>Promise.resolve().then(()=>wu),void 0)).Response:Response}),Xw=t=>{if(Array.isArray(t))return t.map(n=>Xw(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Xw(r)}),e};var xa=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const R0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),IZ=(t,e,n)=>xa(void 0,void 0,void 0,function*(){const r=yield OZ();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new AZ(R0(i),t.status||500))}).catch(i=>{e(new Gw(R0(i),i))}):e(new Gw(R0(t),t))}),CZ=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Bf(t,e,n,r,i,o){return xa(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,CZ(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>IZ(l,a,r))})})}function jm(t,e,n,r){return xa(this,void 0,void 0,function*(){return Bf(t,"GET",e,n,r)})}function ho(t,e,n,r,i){return xa(this,void 0,void 0,function*(){return Bf(t,"POST",e,r,i,n)})}function kZ(t,e,n,r,i){return xa(this,void 0,void 0,function*(){return Bf(t,"PUT",e,r,i,n)})}function RZ(t,e,n,r){return xa(this,void 0,void 0,function*(){return Bf(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function LV(t,e,n,r,i){return xa(this,void 0,void 0,function*(){return Bf(t,"DELETE",e,r,i,n)})}var En=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const jZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},XI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NZ{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=$V(i)}uploadOrUpdate(e,n,r,i){return En(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},XI),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:o,headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(jt(o))return{data:null,error:o};throw o}})}upload(e,n,r){return En(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return En(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:XI.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield h.json();return h.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(jt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return En(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield ho(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new LE("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}update(e,n,r){return En(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return En(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return En(this,void 0,void 0,function*(){try{return{data:{path:(yield ho(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return En(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield ho(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return En(this,void 0,void 0,function*(){try{const i=yield ho(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}download(e,n){return En(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield jm(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(jt(a))return{data:null,error:a};throw a}})}info(e){return En(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield jm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xw(r),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}exists(e){return En(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield RZ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(jt(r)&&r instanceof Gw){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return En(this,void 0,void 0,function*(){try{return{data:yield LV(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}list(e,n,r){return En(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},jZ),n),{prefix:e||""});return{data:yield ho(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const MZ="2.7.1",DZ={"X-Client-Info":`storage-js/${MZ}`};var Na=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class $Z{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},DZ),n),this.fetch=$V(r)}listBuckets(){return Na(this,void 0,void 0,function*(){try{return{data:yield jm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(jt(e))return{data:null,error:e};throw e}})}getBucket(e){return Na(this,void 0,void 0,function*(){try{return{data:yield jm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Na(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Na(this,void 0,void 0,function*(){try{return{data:yield kZ(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Na(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Na(this,void 0,void 0,function*(){try{return{data:yield LV(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}}class LZ extends $Z{constructor(e,n={},r){super(e,n,r)}from(e){return new NZ(this.url,this.headers,e,this.fetch)}}const VZ="2.50.1";let Ic="";typeof Deno<"u"?Ic="deno":typeof document<"u"?Ic="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ic="react-native":Ic="node";const FZ={"X-Client-Info":`supabase-js-${Ic}/${VZ}`},UZ={headers:FZ},BZ={schema:"public"},zZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WZ={};var HZ=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const qZ=t=>{let e;return t?e=t:typeof fetch>"u"?e=xV:e=fetch,(...n)=>e(...n)},KZ=()=>typeof Headers>"u"?EV:Headers,GZ=(t,e,n)=>{const r=qZ(n),i=KZ();return(o,s)=>HZ(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:u}))})};var XZ=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function YZ(t){return t.endsWith("/")?t:t+"/"}function QZ(t,e){var n,r;const{db:i,auth:o,realtime:s,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>XZ(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const VV="2.70.0",qa=30*1e3,Yw=3,j0=Yw*qa,JZ="http://localhost:9999",ZZ="supabase.auth.token",eee={"X-Client-Info":`gotrue-js/${VV}`},Qw="X-Supabase-Api-Version",FV={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tee=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nee=6e5;class VE extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ree extends VE{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function iee(t){return ge(t)&&t.name==="AuthApiError"}class UV extends VE{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class as extends VE{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ao extends as{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oee(t){return ge(t)&&t.name==="AuthSessionMissingError"}class Bd extends as{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zd extends as{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wd extends as{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function see(t){return ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class YI extends as{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jw extends as{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function N0(t){return ge(t)&&t.name==="AuthRetryableFetchError"}class QI extends as{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Jc extends as{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),JI=` 	
\r=`.split(""),aee=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<JI.length;e+=1)t[JI[e].charCodeAt(0)]=-2;for(let e=0;e<Nm.length;e+=1)t[Nm[e].charCodeAt(0)]=e;return t})();function ZI(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Nm[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Nm[r]),e.queuedBits-=6}}function BV(t,e,n){const r=aee[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function eC(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{cee(s,r,n)};for(let s=0;s<t.length;s+=1)BV(t.charCodeAt(s),i,o);return e.join("")}function lee(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uee(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}lee(r,e)}}function cee(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function hee(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)BV(t.charCodeAt(i),n,r);return new Uint8Array(e)}function fee(t){const e=[];return uee(t,n=>e.push(n)),new Uint8Array(e)}function dee(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>ZI(i,n,r)),ZI(null,n,r),e.join("")}function pee(t){return Math.round(Date.now()/1e3)+t}function mee(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const _r=()=>typeof window<"u"&&typeof document<"u",_s={tested:!1,writable:!1},Zc=()=>{if(!_r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_s.tested)return _s.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_s.tested=!0,_s.writable=!0}catch{_s.tested=!0,_s.writable=!1}return _s.writable};function gee(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const zV=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ff(async()=>{const{default:r}=await Promise.resolve().then(()=>wu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},yee=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",WV=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Hd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qd=async(t,e)=>{await t.removeItem(e)};class Cy{constructor(){this.promise=new Cy.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cy.promiseConstructor=Promise;function M0(t){const e=t.split(".");if(e.length!==3)throw new Jc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!tee.test(e[r]))throw new Jc("JWT not in base64url format");return{header:JSON.parse(eC(e[0])),payload:JSON.parse(eC(e[1])),signature:hee(e[2]),raw:{header:e[0],payload:e[1]}}}async function vee(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _ee(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})()})}function wee(t){return("0"+t.toString(16)).substr(-2)}function bee(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,wee).join("")}async function xee(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Eee(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await xee(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ma(t,e,n=!1){const r=bee();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await WV(t,`${e}-code-verifier`,i);const o=await Eee(r);return[o,r===o?"plain":"s256"]}const Tee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function See(t){const e=t.headers.get(Qw);if(!e||!e.match(Tee))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Aee(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Pee(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Oee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Da(t){if(!Oee.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Iee=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ps=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cee=[502,503,504];async function tC(t){var e;if(!yee(t))throw new Jw(Ps(t),0);if(Cee.includes(t.status))throw new Jw(Ps(t),t.status);let n;try{n=await t.json()}catch(o){throw new UV(Ps(o),o)}let r;const i=See(t);if(i&&i.getTime()>=FV["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new QI(Ps(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ao}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new QI(Ps(n),t.status,n.weak_password.reasons);throw new ree(Ps(n),t.status||500,r)}const kee=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function be(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Qw]||(o[Qw]=FV["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Ree(t,e,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Ree(t,e,n,r,i,o){const s=kee(e,r,i,o);let a;try{a=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new Jw(Ps(l),0)}if(a.ok||await tC(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await tC(l)}}function pi(t){var e;let n=null;Dee(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=pee(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function nC(t){const e=pi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function jee(t){return{data:t,error:null}}function Nee(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=Iee(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Mee(t){return t}function Dee(t){return t.access_token&&t.refresh_token&&t.expires_in}const D0=["global","local","others"];var $ee=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Lee{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=zV(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=D0[0]){if(D0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${D0.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wo})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=$ee(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Nee,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wo})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,s,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Mee});if(c.error)throw c.error;const h=await c.json(),f=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ge(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Da(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wo})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Da(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:wo})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Da(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:wo})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Da(e.userId);try{const{data:n,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Da(e.userId),Da(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}}const Vee={getItem:t=>Zc()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Zc()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Zc()&&globalThis.localStorage.removeItem(t)}};function rC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Fee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $a={debug:!!(globalThis&&Zc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class HV extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Uee extends HV{}async function Bee(t,e,n){$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),$a.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw $a.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Uee(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($a.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Fee();const zee={url:JZ,storageKey:ZZ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eee,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function iC(t,e,n){return await n()}class $h{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$h.nextInstanceID,$h.nextInstanceID+=1,this.instanceID>0&&_r()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},zee),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Lee({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=zV(i.fetch),this.lock=i.lock||iC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:_r()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Bee:this.lock=iC,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Zc()?this.storage=Vee:(this.memoryStorage={},this.storage=rC(this.memoryStorage)):(this.memoryStorage={},this.storage=rC(this.memoryStorage)),_r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${VV}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=gee(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),_r()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),see(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?{error:n}:{error:new UV("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:pi}),{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:h,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Ma(this.storage,this.storageKey)),o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:pi})}else if("phone"in e){const{phone:c,password:h,options:f}=e;o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:pi})}else throw new zd("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:s,options:a}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nC})}else if("phone"in e){const{phone:o,password:s,options:a}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nC})}else throw new zd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Bd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,o,s,a,l,u,c,h,f,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:y,wallet:w,statement:_,options:v}=e;let S;if(_r())if(typeof w=="object")S=w;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))S=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const E=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const A=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),_?{statement:_}:null));let x;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")x=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)x=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)m=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),g=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const A=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=A}}try{const{data:y,error:w}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:dee(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:pi});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Bd}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(ge(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await Hd(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:s}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pi});if(await qd(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Bd}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(ge(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=e,a=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pi}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Bd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,o,s;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ma(this.storage,this.storageKey));const{error:h}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new zd("You must provide either an email or phone number.")}catch(a){if(ge(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:pi});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await Ma(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:jee})}catch(o){if(ge(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ao;const{error:i}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ge(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:s}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:s,error:a}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new zd("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Hd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<j0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wo}):await this._useSession(async n=>{var r,i,o;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ao}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:wo})})}catch(n){if(ge(n))return oee(n)&&(await this._removeSession(),await qd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new ao;const s=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ma(this.storage,this.storageKey));const{data:u,error:c}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:wo});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ao;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:s}=M0(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:a}=n;if(a)throw a;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ao;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!_r())throw new Wd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new YI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new YI("No code detected.");const{data:_,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:u}=e;if(!o||!a||!s||!u)throw new Wd("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const p=f-c;p*1e3<=qa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:g,error:y}=await this._getUser(o);if(y)throw y;const w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:h,expires_at:f,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Hd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(iee(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await qd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=mee(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ma(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ge(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,a,l,u,c;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return _r()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ge(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _ee(async i=>(i>0&&await vee(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pi})),(i,o)=>{const s=200*Math.pow(2,i);return o&&N0(o)&&Date.now()+s-r<qa})}catch(r){if(this._debug(n,"error",r),ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),_r()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Hd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<j0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${j0}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),N0(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ao;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Cy;const{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new ao;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),ge(o)){const s={session:null,error:o};return N0(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await WV(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await qd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/qa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qa}ms, refresh threshold is ${Yw} ticks`),i<=Yw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof HV)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await Ma(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await be(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:s,error:a}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),o=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=M0(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r||(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+nee>Date.now()))return r;const{data:i,error:o}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new Jc("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(s=>s.kid===e),!r)throw new Jc("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:l}}=M0(r);if(Aee(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:i,signature:s},error:null}}const u=Pee(i.alg),c=await this.fetchJwk(i.kid,n),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,s,fee(`${a}.${l}`)))throw new Jc("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}}$h.nextInstanceID=0;const Wee=$h;class Hee extends Wee{constructor(e){super(e)}}var qee=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Kee{constructor(e,n,r){var i,o,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=YZ(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:BZ,realtime:WZ,auth:Object.assign(Object.assign({},zZ),{storageKey:u}),global:UZ},h=QZ(r??{},c);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=GZ(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new cZ(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new FJ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new LZ(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return qee(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hee({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new SZ(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gee=(t,e,n)=>new Kee(t,e,n),Xee=void 0,Yee=void 0;throw new Error("Missing Supabase environment variables");const Pr=Gee(Xee,Yee),oC=()=>{const{profile:t}=Yi(),[e,n]=M.useState([]),[r,i]=M.useState(!0);M.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:a,error:l}=await Pr.from("surgical_cases").select(`
          *,
          surgeon:profiles!surgical_cases_surgeon_id_fkey(full_name)
        `).eq("patient_id",t==null?void 0:t.id).order("proposed_surgery_date",{ascending:!0});if(l)throw l;n(a||[])}catch(a){console.error("Error fetching appointments:",a)}finally{i(!1)}},s=a=>{switch(a){case"Proposed":return"bg-accent-100 text-accent-700";case"Scheduled":return"bg-primary-100 text-primary-700";case"Completed":return"bg-secondary-100 text-secondary-700";case"Cancelled":return"bg-red-100 text-red-700";default:return"bg-neutral-100 text-neutral-700"}};return r?O.jsx("div",{className:"flex items-center justify-center h-64",children:O.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):O.jsxs("div",{className:"space-y-8",children:[O.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl p-8 text-white",children:[O.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome, ",t==null?void 0:t.full_name,"!"]}),O.jsx("p",{className:"text-primary-100",children:"Manage your health journey with confidence"})]}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[O.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:O.jsx(or,{className:"p-6 hover:shadow-lg transition-shadow",children:O.jsxs("div",{className:"flex items-center space-x-4",children:[O.jsx("div",{className:"p-3 bg-primary-100 rounded-full",children:O.jsx(Dh,{className:"w-6 h-6 text-primary-600"})}),O.jsxs("div",{children:[O.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.filter(a=>a.status==="Scheduled").length}),O.jsx("p",{className:"text-neutral-600",children:"Scheduled Appointments"})]})]})})}),O.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:O.jsx(or,{className:"p-6 hover:shadow-lg transition-shadow",children:O.jsxs("div",{className:"flex items-center space-x-4",children:[O.jsx("div",{className:"p-3 bg-accent-100 rounded-full",children:O.jsx(TJ,{className:"w-6 h-6 text-accent-600"})}),O.jsxs("div",{children:[O.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.filter(a=>a.status==="Proposed").length}),O.jsx("p",{className:"text-neutral-600",children:"Pending Proposals"})]})]})})}),O.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:O.jsx(or,{className:"p-6 hover:shadow-lg transition-shadow",children:O.jsxs("div",{className:"flex items-center space-x-4",children:[O.jsx("div",{className:"p-3 bg-secondary-100 rounded-full",children:O.jsx(Vf,{className:"w-6 h-6 text-secondary-600"})}),O.jsxs("div",{children:[O.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.filter(a=>a.status==="Completed").length}),O.jsx("p",{className:"text-neutral-600",children:"Completed Procedures"})]})]})})})]}),O.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:O.jsxs(or,{className:"p-6",children:[O.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-6",children:"Recent Appointments"}),e.length===0?O.jsxs("div",{className:"text-center py-8",children:[O.jsx(Dh,{className:"w-12 h-12 text-neutral-300 mx-auto mb-4"}),O.jsx("p",{className:"text-neutral-500",children:"No appointments scheduled"})]}):O.jsx("div",{className:"space-y-4",children:e.slice(0,5).map(a=>{var l;return O.jsxs(je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[O.jsxs("div",{className:"flex items-center space-x-4",children:[O.jsx("div",{className:"p-2 bg-white rounded-full",children:O.jsx(Zo,{className:"w-5 h-5 text-neutral-600"})}),O.jsxs("div",{children:[O.jsx("h3",{className:"font-medium text-neutral-900",children:a.procedure_name}),O.jsxs("p",{className:"text-sm text-neutral-600",children:["Dr. ",(l=a.surgeon)==null?void 0:l.full_name]}),O.jsx("p",{className:"text-sm text-neutral-500",children:new Date(a.proposed_surgery_date).toLocaleDateString()})]})]}),O.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s(a.status)}`,children:a.status})]},a.id)})})]})})]})},qV=({isOpen:t,onClose:e,title:n,children:r,size:i="md"})=>{const o={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return O.jsx(_J,{children:t&&O.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:O.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[O.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50",onClick:e}),O.jsxs(je.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`relative bg-white rounded-lg shadow-xl w-full ${o[i]} mx-auto`,children:[O.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[O.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:n}),O.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:O.jsx(OJ,{size:20})})]}),O.jsx("div",{className:"p-6",children:r})]})]})})})},Qee=()=>{const[t,e]=M.useState([]),[n,r]=M.useState([]),[i,o]=M.useState(""),[s,a]=M.useState(null),[l,u]=M.useState(!0);M.useEffect(()=>{c()},[]),M.useEffect(()=>{const h=t.filter(f=>f.full_name.toLowerCase().includes(i.toLowerCase())||f.surgeon_details.specialty.toLowerCase().includes(i.toLowerCase())||f.surgeon_details.hospital_affiliation.toLowerCase().includes(i.toLowerCase()));r(h)},[i,t]);const c=async()=>{try{const{data:h,error:f}=await Pr.from("profiles").select(`
          *,
          surgeon_details(*)
        `).eq("role","surgeon");if(f)throw f;e(h||[]),r(h||[])}catch(h){console.error("Error fetching surgeons:",h)}finally{u(!1)}};return l?O.jsx("div",{className:"flex items-center justify-center h-64",children:O.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):O.jsxs("div",{className:"space-y-6",children:[O.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[O.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Find a Surgeon"}),O.jsx("p",{className:"text-neutral-600",children:"Connect with experienced surgeons in your area"})]}),O.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:O.jsx(or,{className:"p-6",children:O.jsxs("div",{className:"relative",children:[O.jsx(Ww,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-5 h-5"}),O.jsx(ft,{placeholder:"Search by name, specialty, or hospital...",value:i,onChange:h=>o(h.target.value),className:"pl-10"})]})})}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((h,f)=>O.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},children:O.jsx(or,{hover:!0,className:"p-6 cursor-pointer",onClick:()=>a(h),children:O.jsxs("div",{className:"text-center",children:[O.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:O.jsx(Zo,{className:"w-8 h-8 text-primary-600"})}),O.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:["Dr. ",h.full_name]}),O.jsxs("div",{className:"space-y-2 text-sm text-neutral-600",children:[O.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[O.jsx(xJ,{className:"w-4 h-4"}),O.jsx("span",{children:h.surgeon_details.specialty})]}),O.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[O.jsx(AJ,{className:"w-4 h-4"}),O.jsx("span",{children:h.surgeon_details.hospital_affiliation})]})]}),O.jsx(Kt,{className:"mt-4 w-full",size:"sm",children:"View Profile"})]})})},h.id))}),n.length===0&&!l&&O.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[O.jsx(Ww,{className:"w-12 h-12 text-neutral-300 mx-auto mb-4"}),O.jsx("p",{className:"text-neutral-500",children:"No surgeons found matching your search"})]}),O.jsx(qV,{isOpen:!!s,onClose:()=>a(null),title:`Dr. ${s==null?void 0:s.full_name}`,size:"lg",children:s&&O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"text-center",children:[O.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:O.jsx(Zo,{className:"w-10 h-10 text-primary-600"})}),O.jsxs("h3",{className:"text-xl font-semibold text-neutral-900",children:["Dr. ",s.full_name]})]}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[O.jsxs("div",{className:"space-y-2",children:[O.jsx("h4",{className:"font-medium text-neutral-900",children:"Specialty"}),O.jsx("p",{className:"text-neutral-600",children:s.surgeon_details.specialty})]}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("h4",{className:"font-medium text-neutral-900",children:"Hospital"}),O.jsx("p",{className:"text-neutral-600",children:s.surgeon_details.hospital_affiliation})]}),O.jsxs("div",{className:"space-y-2 md:col-span-2",children:[O.jsx("h4",{className:"font-medium text-neutral-900",children:"Credentials"}),O.jsx("p",{className:"text-neutral-600",children:s.surgeon_details.credentials})]})]}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("h4",{className:"font-medium text-neutral-900",children:"About"}),O.jsx("p",{className:"text-neutral-600",children:s.surgeon_details.bio})]}),O.jsxs("div",{className:"flex space-x-3",children:[O.jsx(Kt,{className:"flex-1",children:"Request Consultation"}),O.jsx(Kt,{variant:"outline",className:"flex-1",children:"Send Message"})]})]})})]})},Jee=()=>{const{profile:t}=Yi(),[e,n]=M.useState("personal"),[r,i]=M.useState(null),[o,s]=M.useState([]),[a,l]=M.useState([]),[u,c]=M.useState(!1),[h,f]=M.useState("vitals"),[p,m]=M.useState(null),[g,y]=M.useState(!0);M.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:S}=await Pr.from("patient_details").select("*").eq("user_id",t==null?void 0:t.id).single(),{data:E}=await Pr.from("vital_signs").select("*").eq("patient_id",t==null?void 0:t.id).order("created_at",{ascending:!1}),{data:A}=await Pr.from("surgical_history").select("*").eq("patient_id",t==null?void 0:t.id).order("surgery_date",{ascending:!1});i(S),s(E||[]),l(A||[])}catch(S){console.error("Error fetching health data:",S)}finally{y(!1)}},_=(S,E)=>{f(S),m(E||null),c(!0)},v=[{id:"personal",label:"Personal Info",icon:Zo},{id:"vitals",label:"Vital Signs",icon:Vf},{id:"surgery",label:"Surgical History",icon:RE}];return g?O.jsx("div",{className:"flex items-center justify-center h-64",children:O.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):O.jsxs("div",{className:"space-y-6",children:[O.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[O.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Health Profile"}),O.jsx("p",{className:"text-neutral-600",children:"Manage your personal health information"})]}),O.jsxs(or,{className:"p-6",children:[O.jsx("div",{className:"border-b border-neutral-200 mb-6",children:O.jsx("nav",{className:"flex space-x-8",children:v.map(S=>{const E=S.icon,A=e===S.id;return O.jsxs("button",{onClick:()=>n(S.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${A?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:[O.jsx(E,{className:"w-5 h-5"}),O.jsx("span",{children:S.label})]},S.id)})})}),O.jsxs(je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e==="personal"&&O.jsx(Zee,{patientDetails:r,onEdit:()=>_("personal",r)}),e==="vitals"&&O.jsx(ete,{vitalSigns:o,onAdd:()=>_("vitals"),onEdit:S=>_("vitals",S)}),e==="surgery"&&O.jsx(tte,{surgicalHistory:a,onAdd:()=>_("surgery"),onEdit:S=>_("surgery",S)})]},e)]}),O.jsx(nte,{isOpen:u,onClose:()=>c(!1),type:h,editingItem:p,onSave:w})]})},Zee=({patientDetails:t,onEdit:e})=>O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Personal Information"}),O.jsxs(Kt,{onClick:e,size:"sm",children:[O.jsx(NE,{className:"w-4 h-4 mr-2"}),"Edit"]})]}),t?O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Date of Birth"}),O.jsx("p",{className:"text-neutral-900",children:t.personal_info.date_of_birth})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Gender"}),O.jsx("p",{className:"text-neutral-900",children:t.personal_info.gender})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Phone"}),O.jsx("p",{className:"text-neutral-900",children:t.personal_info.phone_number})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Blood Type"}),O.jsx("p",{className:"text-neutral-900",children:t.physical_info.blood_type})]}),O.jsxs("div",{className:"md:col-span-2",children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Address"}),O.jsx("p",{className:"text-neutral-900",children:t.personal_info.address})]})]}):O.jsxs("div",{className:"text-center py-8",children:[O.jsx(Zo,{className:"w-12 h-12 text-neutral-300 mx-auto mb-4"}),O.jsx("p",{className:"text-neutral-500 mb-4",children:"No personal information on file"}),O.jsx(Kt,{onClick:e,children:"Add Personal Information"})]})]}),ete=({vitalSigns:t,onAdd:e,onEdit:n})=>O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Vital Signs"}),O.jsxs(Kt,{onClick:e,size:"sm",children:[O.jsx(wV,{className:"w-4 h-4 mr-2"}),"Add Entry"]})]}),t.length>0?O.jsx("div",{className:"space-y-4",children:t.map(r=>O.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4",children:[O.jsxs("div",{className:"flex justify-between items-start mb-3",children:[O.jsx("div",{className:"text-sm text-neutral-600",children:new Date(r.created_at).toLocaleDateString()}),O.jsx(Kt,{variant:"ghost",size:"sm",onClick:()=>n(r),children:O.jsx(NE,{className:"w-4 h-4"})})]}),O.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[O.jsxs("div",{children:[O.jsx("span",{className:"text-neutral-600",children:"Heart Rate:"}),O.jsxs("p",{className:"font-medium",children:[r.heart_rate," bpm"]})]}),O.jsxs("div",{children:[O.jsx("span",{className:"text-neutral-600",children:"Blood Pressure:"}),O.jsxs("p",{className:"font-medium",children:[r.systolic_bp,"/",r.diastolic_bp]})]}),O.jsxs("div",{children:[O.jsx("span",{className:"text-neutral-600",children:"Temperature:"}),O.jsxs("p",{className:"font-medium",children:[r.body_temperature_celsius,"C"]})]}),O.jsxs("div",{children:[O.jsx("span",{className:"text-neutral-600",children:"Respiratory:"}),O.jsxs("p",{className:"font-medium",children:[r.respiratory_rate,"/min"]})]})]}),r.notes&&O.jsxs("div",{className:"mt-3 text-sm",children:[O.jsx("span",{className:"text-neutral-600",children:"Notes:"}),O.jsx("p",{className:"text-neutral-900",children:r.notes})]})]},r.id))}):O.jsxs("div",{className:"text-center py-8",children:[O.jsx(Vf,{className:"w-12 h-12 text-neutral-300 mx-auto mb-4"}),O.jsx("p",{className:"text-neutral-500 mb-4",children:"No vital signs recorded"}),O.jsx(Kt,{onClick:e,children:"Add First Entry"})]})]}),tte=({surgicalHistory:t,onAdd:e,onEdit:n})=>O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Surgical History"}),O.jsxs(Kt,{onClick:e,size:"sm",children:[O.jsx(wV,{className:"w-4 h-4 mr-2"}),"Add Entry"]})]}),t.length>0?O.jsx("div",{className:"space-y-4",children:t.map(r=>O.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4",children:[O.jsxs("div",{className:"flex justify-between items-start mb-3",children:[O.jsx("h4",{className:"font-medium text-neutral-900",children:r.procedure_name}),O.jsx(Kt,{variant:"ghost",size:"sm",onClick:()=>n(r),children:O.jsx(NE,{className:"w-4 h-4"})})]}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[O.jsxs("div",{children:[O.jsx("span",{className:"text-neutral-600",children:"Date:"}),O.jsx("p",{className:"font-medium",children:new Date(r.surgery_date).toLocaleDateString()})]}),r.surgeon_name&&O.jsxs("div",{children:[O.jsx("span",{className:"text-neutral-600",children:"Surgeon:"}),O.jsx("p",{className:"font-medium",children:r.surgeon_name})]}),r.hospital_name&&O.jsxs("div",{children:[O.jsx("span",{className:"text-neutral-600",children:"Hospital:"}),O.jsx("p",{className:"font-medium",children:r.hospital_name})]})]}),r.notes&&O.jsxs("div",{className:"mt-3 text-sm",children:[O.jsx("span",{className:"text-neutral-600",children:"Notes:"}),O.jsx("p",{className:"text-neutral-900",children:r.notes})]})]},r.id))}):O.jsxs("div",{className:"text-center py-8",children:[O.jsx(RE,{className:"w-12 h-12 text-neutral-300 mx-auto mb-4"}),O.jsx("p",{className:"text-neutral-500 mb-4",children:"No surgical history recorded"}),O.jsx(Kt,{onClick:e,children:"Add First Entry"})]})]}),nte=({isOpen:t,onClose:e,type:n,editingItem:r,onSave:i})=>{const{profile:o}=Yi(),[s,a]=M.useState({}),[l,u]=M.useState(!1);M.useEffect(()=>{a(r||{})},[r,n]);const c=async()=>{u(!0);try{if(n==="vitals"){const f={patient_id:o==null?void 0:o.id,heart_rate:parseInt(s.heart_rate),systolic_bp:parseInt(s.systolic_bp),diastolic_bp:parseInt(s.diastolic_bp),body_temperature_celsius:parseFloat(s.body_temperature_celsius),respiratory_rate:parseInt(s.respiratory_rate),notes:s.notes||null};r?await Pr.from("vital_signs").update(f).eq("id",r.id):await Pr.from("vital_signs").insert(f)}else if(n==="surgery"){const f={patient_id:o==null?void 0:o.id,procedure_name:s.procedure_name,surgery_date:s.surgery_date,surgeon_name:s.surgeon_name||null,hospital_name:s.hospital_name||null,notes:s.notes||null};r?await Pr.from("surgical_history").update(f).eq("id",r.id):await Pr.from("surgical_history").insert(f)}else if(n==="personal"){const f={user_id:o==null?void 0:o.id,personal_info:{date_of_birth:s.date_of_birth,gender:s.gender,address:s.address,phone_number:s.phone_number},physical_info:{height_cm:parseFloat(s.height_cm),weight_kg:parseFloat(s.weight_kg),blood_type:s.blood_type},lifestyle_info:{smoking_status:s.smoking_status,alcohol_consumption:s.alcohol_consumption}};r?await Pr.from("patient_details").update(f).eq("user_id",o==null?void 0:o.id):await Pr.from("patient_details").insert(f)}i(),e()}catch(f){console.error("Error saving data:",f)}finally{u(!1)}},h=()=>{const f=r?"Edit":"Add";switch(n){case"vitals":return`${f} Vital Signs`;case"surgery":return`${f} Surgical History`;case"personal":return`${f} Personal Information`;default:return""}};return O.jsx(qV,{isOpen:t,onClose:e,title:h(),size:"lg",children:O.jsxs("div",{className:"space-y-4",children:[n==="vitals"&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsx(ft,{label:"Heart Rate (bpm)",type:"number",value:s.heart_rate||"",onChange:f=>a({...s,heart_rate:f.target.value})}),O.jsx(ft,{label:"Respiratory Rate (/min)",type:"number",value:s.respiratory_rate||"",onChange:f=>a({...s,respiratory_rate:f.target.value})}),O.jsx(ft,{label:"Systolic BP",type:"number",value:s.systolic_bp||"",onChange:f=>a({...s,systolic_bp:f.target.value})}),O.jsx(ft,{label:"Diastolic BP",type:"number",value:s.diastolic_bp||"",onChange:f=>a({...s,diastolic_bp:f.target.value})})]}),O.jsx(ft,{label:"Body Temperature (C)",type:"number",step:"0.1",value:s.body_temperature_celsius||"",onChange:f=>a({...s,body_temperature_celsius:f.target.value})}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Notes"}),O.jsx("textarea",{className:"block w-full px-3 py-2 border border-neutral-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:3,value:s.notes||"",onChange:f=>a({...s,notes:f.target.value})})]})]}),n==="surgery"&&O.jsxs(O.Fragment,{children:[O.jsx(ft,{label:"Procedure Name",value:s.procedure_name||"",onChange:f=>a({...s,procedure_name:f.target.value})}),O.jsx(ft,{label:"Surgery Date",type:"date",value:s.surgery_date||"",onChange:f=>a({...s,surgery_date:f.target.value})}),O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsx(ft,{label:"Surgeon Name",value:s.surgeon_name||"",onChange:f=>a({...s,surgeon_name:f.target.value})}),O.jsx(ft,{label:"Hospital Name",value:s.hospital_name||"",onChange:f=>a({...s,hospital_name:f.target.value})})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Notes"}),O.jsx("textarea",{className:"block w-full px-3 py-2 border border-neutral-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:3,value:s.notes||"",onChange:f=>a({...s,notes:f.target.value})})]})]}),n==="personal"&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsx(ft,{label:"Date of Birth",type:"date",value:s.date_of_birth||"",onChange:f=>a({...s,date_of_birth:f.target.value})}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Gender"}),O.jsxs("select",{className:"block w-full px-3 py-2 border border-neutral-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:s.gender||"",onChange:f=>a({...s,gender:f.target.value}),children:[O.jsx("option",{value:"",children:"Select Gender"}),O.jsx("option",{value:"Male",children:"Male"}),O.jsx("option",{value:"Female",children:"Female"}),O.jsx("option",{value:"Other",children:"Other"})]})]})]}),O.jsx(ft,{label:"Phone Number",value:s.phone_number||"",onChange:f=>a({...s,phone_number:f.target.value})}),O.jsx(ft,{label:"Address",value:s.address||"",onChange:f=>a({...s,address:f.target.value})}),O.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[O.jsx(ft,{label:"Height (cm)",type:"number",value:s.height_cm||"",onChange:f=>a({...s,height_cm:f.target.value})}),O.jsx(ft,{label:"Weight (kg)",type:"number",value:s.weight_kg||"",onChange:f=>a({...s,weight_kg:f.target.value})}),O.jsx(ft,{label:"Blood Type",value:s.blood_type||"",onChange:f=>a({...s,blood_type:f.target.value})})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Smoking Status"}),O.jsxs("select",{className:"block w-full px-3 py-2 border border-neutral-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:s.smoking_status||"",onChange:f=>a({...s,smoking_status:f.target.value}),children:[O.jsx("option",{value:"",children:"Select Status"}),O.jsx("option",{value:"Never",children:"Never"}),O.jsx("option",{value:"Former",children:"Former"}),O.jsx("option",{value:"Current",children:"Current"})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Alcohol Consumption"}),O.jsxs("select",{className:"block w-full px-3 py-2 border border-neutral-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:s.alcohol_consumption||"",onChange:f=>a({...s,alcohol_consumption:f.target.value}),children:[O.jsx("option",{value:"",children:"Select Frequency"}),O.jsx("option",{value:"Never",children:"Never"}),O.jsx("option",{value:"Rarely",children:"Rarely"}),O.jsx("option",{value:"Occasionally",children:"Occasionally"}),O.jsx("option",{value:"Regularly",children:"Regularly"})]})]})]})]}),O.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[O.jsx(Kt,{variant:"outline",onClick:e,children:"Cancel"}),O.jsx(Kt,{onClick:c,loading:l,children:"Save"})]})]})})},rte=()=>{const[t,e]=M.useState({tMinus3:45,tMinus2:52,tMinus1:38}),[n,r]=M.useState(null),[i,o]=M.useState(!1),s=(l,u)=>{e(c=>({...c,[l]:u}))},a=async()=>{o(!0);try{const l=await fetch("/api/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({t_minus_3:t.tMinus3,t_minus_2:t.tMinus2,t_minus_1:t.tMinus1})});if(l.ok){const u=await l.json();r(u.predicted_volume)}else{const u=Math.round(t.tMinus3*.3+t.tMinus2*.4+t.tMinus1*.5+15);r(u)}}catch(l){console.error("Prediction error:",l);const u=Math.round(t.tMinus3*.3+t.tMinus2*.4+t.tMinus1*.5+15);r(u)}finally{o(!1)}};return O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[O.jsxs("div",{className:"space-y-2",children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"T-3 Bookings"}),O.jsxs("div",{className:"relative",children:[O.jsx("input",{type:"range",min:"0",max:"100",value:t.tMinus3,onChange:l=>s("tMinus3",parseInt(l.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer slider"}),O.jsxs("div",{className:"flex justify-between text-xs text-neutral-500 mt-1",children:[O.jsx("span",{children:"0"}),O.jsx("span",{className:"font-medium text-primary-600",children:t.tMinus3}),O.jsx("span",{children:"100"})]})]})]}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"T-2 Bookings"}),O.jsxs("div",{className:"relative",children:[O.jsx("input",{type:"range",min:"0",max:"100",value:t.tMinus2,onChange:l=>s("tMinus2",parseInt(l.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer slider"}),O.jsxs("div",{className:"flex justify-between text-xs text-neutral-500 mt-1",children:[O.jsx("span",{children:"0"}),O.jsx("span",{className:"font-medium text-primary-600",children:t.tMinus2}),O.jsx("span",{children:"100"})]})]})]}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"T-1 Bookings"}),O.jsxs("div",{className:"relative",children:[O.jsx("input",{type:"range",min:"0",max:"100",value:t.tMinus1,onChange:l=>s("tMinus1",parseInt(l.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer slider"}),O.jsxs("div",{className:"flex justify-between text-xs text-neutral-500 mt-1",children:[O.jsx("span",{children:"0"}),O.jsx("span",{className:"font-medium text-primary-600",children:t.tMinus1}),O.jsx("span",{children:"100"})]})]})]})]}),O.jsxs(Kt,{onClick:a,loading:i,className:"w-full",size:"lg",children:[O.jsx(EJ,{className:"w-5 h-5 mr-2"}),"Generate Prediction"]}),n!==null&&O.jsxs(je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-lg p-6 text-center",children:[O.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[O.jsx(bV,{className:"w-6 h-6 text-primary-600"}),O.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Predicted Volume"})]}),O.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:n}),O.jsx("p",{className:"text-sm text-neutral-600",children:"cases expected"}),O.jsx("div",{className:"mt-4 text-xs text-neutral-500",children:"Model's Historical Accuracy: 21 Cases"})]})]})};function KV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KV(t))&&(r&&(r+=" "),r+=e);return r}var ite=Array.isArray,Mn=ite,ote=typeof fn=="object"&&fn&&fn.Object===Object&&fn,GV=ote,ste=GV,ate=typeof self=="object"&&self&&self.Object===Object&&self,lte=ste||ate||Function("return this")(),ai=lte,ute=ai,cte=ute.Symbol,zf=cte,sC=zf,XV=Object.prototype,hte=XV.hasOwnProperty,fte=XV.toString,lc=sC?sC.toStringTag:void 0;function dte(t){var e=hte.call(t,lc),n=t[lc];try{t[lc]=void 0;var r=!0}catch{}var i=fte.call(t);return r&&(e?t[lc]=n:delete t[lc]),i}var pte=dte,mte=Object.prototype,gte=mte.toString;function yte(t){return gte.call(t)}var vte=yte,aC=zf,_te=pte,wte=vte,bte="[object Null]",xte="[object Undefined]",lC=aC?aC.toStringTag:void 0;function Ete(t){return t==null?t===void 0?xte:bte:lC&&lC in Object(t)?_te(t):wte(t)}var Qi=Ete;function Tte(t){return t!=null&&typeof t=="object"}var Ji=Tte,Ste=Qi,Ate=Ji,Pte="[object Symbol]";function Ote(t){return typeof t=="symbol"||Ate(t)&&Ste(t)==Pte}var xu=Ote,Ite=Mn,Cte=xu,kte=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rte=/^\w*$/;function jte(t,e){if(Ite(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Cte(t)?!0:Rte.test(t)||!kte.test(t)||e!=null&&t in Object(e)}var FE=jte;function Nte(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ls=Nte;const Eu=Be(ls);var Mte=Qi,Dte=ls,$te="[object AsyncFunction]",Lte="[object Function]",Vte="[object GeneratorFunction]",Fte="[object Proxy]";function Ute(t){if(!Dte(t))return!1;var e=Mte(t);return e==Lte||e==Vte||e==$te||e==Fte}var UE=Ute;const ye=Be(UE);var Bte=ai,zte=Bte["__core-js_shared__"],Wte=zte,$0=Wte,uC=function(){var t=/[^.]+$/.exec($0&&$0.keys&&$0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Hte(t){return!!uC&&uC in t}var qte=Hte,Kte=Function.prototype,Gte=Kte.toString;function Xte(t){if(t!=null){try{return Gte.call(t)}catch{}try{return t+""}catch{}}return""}var YV=Xte,Yte=UE,Qte=qte,Jte=ls,Zte=YV,ene=/[\\^$.*+?()[\]{}|]/g,tne=/^\[object .+?Constructor\]$/,nne=Function.prototype,rne=Object.prototype,ine=nne.toString,one=rne.hasOwnProperty,sne=RegExp("^"+ine.call(one).replace(ene,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ane(t){if(!Jte(t)||Qte(t))return!1;var e=Yte(t)?sne:tne;return e.test(Zte(t))}var lne=ane;function une(t,e){return t==null?void 0:t[e]}var cne=une,hne=lne,fne=cne;function dne(t,e){var n=fne(t,e);return hne(n)?n:void 0}var Ea=dne,pne=Ea,mne=pne(Object,"create"),ky=mne,cC=ky;function gne(){this.__data__=cC?cC(null):{},this.size=0}var yne=gne;function vne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _ne=vne,wne=ky,bne="__lodash_hash_undefined__",xne=Object.prototype,Ene=xne.hasOwnProperty;function Tne(t){var e=this.__data__;if(wne){var n=e[t];return n===bne?void 0:n}return Ene.call(e,t)?e[t]:void 0}var Sne=Tne,Ane=ky,Pne=Object.prototype,One=Pne.hasOwnProperty;function Ine(t){var e=this.__data__;return Ane?e[t]!==void 0:One.call(e,t)}var Cne=Ine,kne=ky,Rne="__lodash_hash_undefined__";function jne(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=kne&&e===void 0?Rne:e,this}var Nne=jne,Mne=yne,Dne=_ne,$ne=Sne,Lne=Cne,Vne=Nne;function Tu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tu.prototype.clear=Mne;Tu.prototype.delete=Dne;Tu.prototype.get=$ne;Tu.prototype.has=Lne;Tu.prototype.set=Vne;var Fne=Tu;function Une(){this.__data__=[],this.size=0}var Bne=Une;function zne(t,e){return t===e||t!==t&&e!==e}var BE=zne,Wne=BE;function Hne(t,e){for(var n=t.length;n--;)if(Wne(t[n][0],e))return n;return-1}var Ry=Hne,qne=Ry,Kne=Array.prototype,Gne=Kne.splice;function Xne(t){var e=this.__data__,n=qne(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Gne.call(e,n,1),--this.size,!0}var Yne=Xne,Qne=Ry;function Jne(t){var e=this.__data__,n=Qne(e,t);return n<0?void 0:e[n][1]}var Zne=Jne,ere=Ry;function tre(t){return ere(this.__data__,t)>-1}var nre=tre,rre=Ry;function ire(t,e){var n=this.__data__,r=rre(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ore=ire,sre=Bne,are=Yne,lre=Zne,ure=nre,cre=ore;function Su(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Su.prototype.clear=sre;Su.prototype.delete=are;Su.prototype.get=lre;Su.prototype.has=ure;Su.prototype.set=cre;var jy=Su,hre=Ea,fre=ai,dre=hre(fre,"Map"),zE=dre,hC=Fne,pre=jy,mre=zE;function gre(){this.size=0,this.__data__={hash:new hC,map:new(mre||pre),string:new hC}}var yre=gre;function vre(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _re=vre,wre=_re;function bre(t,e){var n=t.__data__;return wre(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ny=bre,xre=Ny;function Ere(t){var e=xre(this,t).delete(t);return this.size-=e?1:0,e}var Tre=Ere,Sre=Ny;function Are(t){return Sre(this,t).get(t)}var Pre=Are,Ore=Ny;function Ire(t){return Ore(this,t).has(t)}var Cre=Ire,kre=Ny;function Rre(t,e){var n=kre(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var jre=Rre,Nre=yre,Mre=Tre,Dre=Pre,$re=Cre,Lre=jre;function Au(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Au.prototype.clear=Nre;Au.prototype.delete=Mre;Au.prototype.get=Dre;Au.prototype.has=$re;Au.prototype.set=Lre;var WE=Au,QV=WE,Vre="Expected a function";function HE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Vre);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(HE.Cache||QV),n}HE.Cache=QV;var JV=HE;const Fre=Be(JV);var Ure=JV,Bre=500;function zre(t){var e=Ure(t,function(r){return n.size===Bre&&n.clear(),r}),n=e.cache;return e}var Wre=zre,Hre=Wre,qre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kre=/\\(\\)?/g,Gre=Hre(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(qre,function(n,r,i,o){e.push(i?o.replace(Kre,"$1"):r||n)}),e}),Xre=Gre;function Yre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var qE=Yre,fC=zf,Qre=qE,Jre=Mn,Zre=xu,eie=1/0,dC=fC?fC.prototype:void 0,pC=dC?dC.toString:void 0;function ZV(t){if(typeof t=="string")return t;if(Jre(t))return Qre(t,ZV)+"";if(Zre(t))return pC?pC.call(t):"";var e=t+"";return e=="0"&&1/t==-eie?"-0":e}var tie=ZV,nie=tie;function rie(t){return t==null?"":nie(t)}var e4=rie,iie=Mn,oie=FE,sie=Xre,aie=e4;function lie(t,e){return iie(t)?t:oie(t,e)?[t]:sie(aie(t))}var t4=lie,uie=xu,cie=1/0;function hie(t){if(typeof t=="string"||uie(t))return t;var e=t+"";return e=="0"&&1/t==-cie?"-0":e}var My=hie,fie=t4,die=My;function pie(t,e){e=fie(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[die(e[n++])];return n&&n==r?t:void 0}var KE=pie,mie=KE;function gie(t,e,n){var r=t==null?void 0:mie(t,e);return r===void 0?n:r}var n4=gie;const ur=Be(n4);function yie(t){return t==null}var vie=yie;const xe=Be(vie);var _ie=Qi,wie=Mn,bie=Ji,xie="[object String]";function Eie(t){return typeof t=="string"||!wie(t)&&bie(t)&&_ie(t)==xie}var Tie=Eie;const sa=Be(Tie);var r4={exports:{}},Le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE=Symbol.for("react.element"),XE=Symbol.for("react.portal"),Dy=Symbol.for("react.fragment"),$y=Symbol.for("react.strict_mode"),Ly=Symbol.for("react.profiler"),Vy=Symbol.for("react.provider"),Fy=Symbol.for("react.context"),Sie=Symbol.for("react.server_context"),Uy=Symbol.for("react.forward_ref"),By=Symbol.for("react.suspense"),zy=Symbol.for("react.suspense_list"),Wy=Symbol.for("react.memo"),Hy=Symbol.for("react.lazy"),Aie=Symbol.for("react.offscreen"),i4;i4=Symbol.for("react.module.reference");function pr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case GE:switch(t=t.type,t){case Dy:case Ly:case $y:case By:case zy:return t;default:switch(t=t&&t.$$typeof,t){case Sie:case Fy:case Uy:case Hy:case Wy:case Vy:return t;default:return e}}case XE:return e}}}Le.ContextConsumer=Fy;Le.ContextProvider=Vy;Le.Element=GE;Le.ForwardRef=Uy;Le.Fragment=Dy;Le.Lazy=Hy;Le.Memo=Wy;Le.Portal=XE;Le.Profiler=Ly;Le.StrictMode=$y;Le.Suspense=By;Le.SuspenseList=zy;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return pr(t)===Fy};Le.isContextProvider=function(t){return pr(t)===Vy};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===GE};Le.isForwardRef=function(t){return pr(t)===Uy};Le.isFragment=function(t){return pr(t)===Dy};Le.isLazy=function(t){return pr(t)===Hy};Le.isMemo=function(t){return pr(t)===Wy};Le.isPortal=function(t){return pr(t)===XE};Le.isProfiler=function(t){return pr(t)===Ly};Le.isStrictMode=function(t){return pr(t)===$y};Le.isSuspense=function(t){return pr(t)===By};Le.isSuspenseList=function(t){return pr(t)===zy};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Dy||t===Ly||t===$y||t===By||t===zy||t===Aie||typeof t=="object"&&t!==null&&(t.$$typeof===Hy||t.$$typeof===Wy||t.$$typeof===Vy||t.$$typeof===Fy||t.$$typeof===Uy||t.$$typeof===i4||t.getModuleId!==void 0)};Le.typeOf=pr;r4.exports=Le;var Pie=r4.exports,Oie=Qi,Iie=Ji,Cie="[object Number]";function kie(t){return typeof t=="number"||Iie(t)&&Oie(t)==Cie}var o4=kie;const Rie=Be(o4);var jie=o4;function Nie(t){return jie(t)&&t!=+t}var Mie=Nie;const Wf=Be(Mie);var jr=function(e){return e===0?0:e>0?1:-1},$s=function(e){return sa(e)&&e.indexOf("%")===e.length-1},ee=function(e){return Rie(e)&&!Wf(e)},Die=function(e){return xe(e)},Ot=function(e){return ee(e)||sa(e)},$ie=0,Hf=function(e){var n=++$ie;return"".concat(e||"").concat(n)},aa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!sa(e))return r;var o;if($s(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Wf(o)&&(o=r),i&&o>n&&(o=n),o},bo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Lie=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Or=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function Mm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ur(r,e))===n})}var Vie=function(e,n){return ee(e)&&ee(n)?e-n:sa(e)&&sa(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Tl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Zw(t){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(t)}var Fie=["viewBox","children"],Uie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mC=["points","pathLength"],L0={svg:Fie,polygon:mC,polyline:mC},YE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!Eu(r))return null;var i={};return Object.keys(r).forEach(function(o){YE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Bie=function(e,n,r){return function(i){return e(n,r,i),null}},$m=function(e,n,r){if(!Eu(e)||Zw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];YE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Bie(s,n,r))}),i},zie=["children"],Wie=["children"];function gC(t,e){if(t==null)return{};var n=Hie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eb(t){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}var yC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ki=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},vC=null,V0=null,QE=function t(e){if(e===vC&&Array.isArray(V0))return V0;var n=[];return M.Children.forEach(e,function(r){xe(r)||(Pie.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),V0=n,vC=e,n};function cr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ki(i)}):r=[ki(e)],QE(t).forEach(function(i){var o=ur(i,"type.displayName")||ur(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Fn(t,e){var n=cr(t,e);return n&&n[0]}var _C=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},qie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Kie=function(e){return e&&e.type&&sa(e.type)&&qie.indexOf(e.type)>=0},Gie=function(e){return e&&eb(e)==="object"&&"clipDot"in e},Xie=function(e,n,r,i){var o,s=(o=L0==null?void 0:L0[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ye(e)&&(i&&s.includes(n)||Uie.includes(n))||r&&YE.includes(n)},Ae=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!Eu(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Xie((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},tb=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return wC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!wC(o,s))return!1}return!0},wC=function(e,n){if(xe(e)&&xe(n))return!0;if(!xe(e)&&!xe(n)){var r=e.props||{},i=r.children,o=gC(r,zie),s=n.props||{},a=s.children,l=gC(s,Wie);return i&&a?Tl(o,l)&&tb(i,a):!i&&!a?Tl(o,l):!1}return!1},bC=function(e,n){var r=[],i={};return QE(e).forEach(function(o,s){if(Kie(o))r.push(o);else if(o){var a=ki(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var h=u(o,a,s);r.push(h),i[a]=!0}}}),r},Yie=function(e){var n=e&&e.type;return n&&yC[n]?yC[n]:null},Qie=function(e,n){return QE(n).indexOf(e)},Jie=["children","width","height","viewBox","className","style","title","desc"];function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nb.apply(this,arguments)}function Zie(t,e){if(t==null)return{};var n=eoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rb(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=Zie(t,Jie),c=i||{width:n,height:r,x:0,y:0},h=Ce("recharts-surface",o);return D.createElement("svg",nb({},Ae(u,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,a),D.createElement("desc",null,l),e)}var toe=["children","className"];function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(this,arguments)}function noe(t,e){if(t==null)return{};var n=roe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function roe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gt=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=noe(t,toe),o=Ce("recharts-layer",r);return D.createElement("g",ib({className:o},Ae(i,!0),{ref:e}),n)}),Ri=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function ioe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var ooe=ioe,soe=ooe;function aoe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:soe(t,e,n)}var loe=aoe,uoe="\\ud800-\\udfff",coe="\\u0300-\\u036f",hoe="\\ufe20-\\ufe2f",foe="\\u20d0-\\u20ff",doe=coe+hoe+foe,poe="\\ufe0e\\ufe0f",moe="\\u200d",goe=RegExp("["+moe+uoe+doe+poe+"]");function yoe(t){return goe.test(t)}var s4=yoe;function voe(t){return t.split("")}var _oe=voe,a4="\\ud800-\\udfff",woe="\\u0300-\\u036f",boe="\\ufe20-\\ufe2f",xoe="\\u20d0-\\u20ff",Eoe=woe+boe+xoe,Toe="\\ufe0e\\ufe0f",Soe="["+a4+"]",ob="["+Eoe+"]",sb="\\ud83c[\\udffb-\\udfff]",Aoe="(?:"+ob+"|"+sb+")",l4="[^"+a4+"]",u4="(?:\\ud83c[\\udde6-\\uddff]){2}",c4="[\\ud800-\\udbff][\\udc00-\\udfff]",Poe="\\u200d",h4=Aoe+"?",f4="["+Toe+"]?",Ooe="(?:"+Poe+"(?:"+[l4,u4,c4].join("|")+")"+f4+h4+")*",Ioe=f4+h4+Ooe,Coe="(?:"+[l4+ob+"?",ob,u4,c4,Soe].join("|")+")",koe=RegExp(sb+"(?="+sb+")|"+Coe+Ioe,"g");function Roe(t){return t.match(koe)||[]}var joe=Roe,Noe=_oe,Moe=s4,Doe=joe;function $oe(t){return Moe(t)?Doe(t):Noe(t)}var Loe=$oe,Voe=loe,Foe=s4,Uoe=Loe,Boe=e4;function zoe(t){return function(e){e=Boe(e);var n=Foe(e)?Uoe(e):void 0,r=n?n[0]:e.charAt(0),i=n?Voe(n,1).join(""):e.slice(1);return r[t]()+i}}var Woe=zoe,Hoe=Woe,qoe=Hoe("toUpperCase"),Koe=qoe;const qy=Be(Koe);function He(t){return function(){return t}}const d4=Math.cos,Lm=Math.sin,Lr=Math.sqrt,Vm=Math.PI,Ky=2*Vm,ab=Math.PI,lb=2*ab,Os=1e-6,Goe=lb-Os;function p4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Xoe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return p4;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Yoe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?p4:Xoe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,h=a-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Os)if(!(Math.abs(h*l-u*c)>Os)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,g=l*l+u*u,y=p*p+m*m,w=Math.sqrt(g),_=Math.sqrt(f),v=o*Math.tan((ab-Math.acos((g+f-y)/(2*w*_)))/2),S=v/_,E=v/w;Math.abs(S-1)>Os&&this._append`L${e+S*c},${n+S*h}`,this._append`A${o},${o},0,0,${+(h*p>c*m)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,h=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Os||Math.abs(this._y1-c)>Os)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%lb+lb),f>Goe?this._append`A${r},${r},0,1,${h},${e-a},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>Os&&this._append`A${r},${r},0,${+(f>=ab)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function JE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Yoe(e)}function ZE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function m4(t){this._context=t}m4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gy(t){return new m4(t)}function g4(t){return t[0]}function y4(t){return t[1]}function v4(t,e){var n=He(!0),r=null,i=Gy,o=null,s=JE(a);t=typeof t=="function"?t:t===void 0?g4:He(t),e=typeof e=="function"?e:e===void 0?y4:He(e);function a(l){var u,c=(l=ZE(l)).length,h,f=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,u,l),+e(h,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:He(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:He(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Kd(t,e,n){var r=null,i=He(!0),o=null,s=Gy,a=null,l=JE(u);t=typeof t=="function"?t:t===void 0?g4:He(+t),e=typeof e=="function"?e:He(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?y4:He(+n);function u(h){var f,p,m,g=(h=ZE(h)).length,y,w=!1,_,v=new Array(g),S=new Array(g);for(o==null&&(a=s(_=l())),f=0;f<=g;++f){if(!(f<g&&i(y=h[f],f,h))===w)if(w=!w)p=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=f-1;m>=p;--m)a.point(v[m],S[m]);a.lineEnd(),a.areaEnd()}w&&(v[f]=+t(y,f,h),S[f]=+e(y,f,h),a.point(r?+r(y,f,h):v[f],n?+n(y,f,h):S[f]))}if(_)return a=null,_+""||null}function c(){return v4().defined(i).curve(s).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:He(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:He(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:He(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:He(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:He(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:He(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:He(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,o!=null&&(a=s(o)),u):s},u.context=function(h){return arguments.length?(h==null?o=a=null:a=s(o=h),u):o},u}class _4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Qoe(t){return new _4(t,!0)}function Joe(t){return new _4(t,!1)}const eT={draw(t,e){const n=Lr(e/Vm);t.moveTo(n,0),t.arc(0,0,n,0,Ky)}},Zoe={draw(t,e){const n=Lr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},w4=Lr(1/3),ese=w4*2,tse={draw(t,e){const n=Lr(e/ese),r=n*w4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},nse={draw(t,e){const n=Lr(e),r=-n/2;t.rect(r,r,n,n)}},rse=.8908130915292852,b4=Lm(Vm/10)/Lm(7*Vm/10),ise=Lm(Ky/10)*b4,ose=-d4(Ky/10)*b4,sse={draw(t,e){const n=Lr(e*rse),r=ise*n,i=ose*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Ky*o/5,a=d4(s),l=Lm(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},F0=Lr(3),ase={draw(t,e){const n=-Lr(e/(F0*3));t.moveTo(0,n*2),t.lineTo(-F0*n,-n),t.lineTo(F0*n,-n),t.closePath()}},Qn=-.5,Jn=Lr(3)/2,ub=1/Lr(12),lse=(ub/2+1)*3,use={draw(t,e){const n=Lr(e/lse),r=n/2,i=n*ub,o=r,s=n*ub+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Qn*r-Jn*i,Jn*r+Qn*i),t.lineTo(Qn*o-Jn*s,Jn*o+Qn*s),t.lineTo(Qn*a-Jn*l,Jn*a+Qn*l),t.lineTo(Qn*r+Jn*i,Qn*i-Jn*r),t.lineTo(Qn*o+Jn*s,Qn*s-Jn*o),t.lineTo(Qn*a+Jn*l,Qn*l-Jn*a),t.closePath()}};function cse(t,e){let n=null,r=JE(i);t=typeof t=="function"?t:He(t||eT),e=typeof e=="function"?e:He(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:He(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:He(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Fm(){}function Um(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function x4(t){this._context=t}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hse(t){return new x4(t)}function E4(t){this._context=t}E4.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fse(t){return new E4(t)}function T4(t){this._context=t}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dse(t){return new T4(t)}function S4(t){this._context=t}S4.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function pse(t){return new S4(t)}function xC(t){return t<0?-1:1}function EC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(xC(o)+xC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function TC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function U0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Bm(t){this._context=t}Bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:U0(this,this._t0,TC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,U0(this,TC(this,n=EC(this,t,e)),n);break;default:U0(this,this._t0,n=EC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function A4(t){this._context=new P4(t)}(A4.prototype=Object.create(Bm.prototype)).point=function(t,e){Bm.prototype.point.call(this,e,t)};function P4(t){this._context=t}P4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function mse(t){return new Bm(t)}function gse(t){return new A4(t)}function O4(t){this._context=t}O4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=SC(t),i=SC(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function SC(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function yse(t){return new O4(t)}function Xy(t,e){this._context=t,this._t=e}Xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function vse(t){return new Xy(t,.5)}function _se(t){return new Xy(t,0)}function wse(t){return new Xy(t,1)}function Wl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function cb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function bse(t,e){return t[e]}function xse(t){const e=[];return e.key=t,e}function Ese(){var t=He([]),e=cb,n=Wl,r=bse;function i(o){var s=Array.from(t.apply(this,arguments),xse),a,l=s.length,u=-1,c;for(const h of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(h,s[a].key,u,o)]).data=h;for(a=0,c=ZE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:He(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:He(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?cb:typeof o=="function"?o:He(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Wl,i):n},i}function Tse(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Wl(t,e)}}function Sse(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Wl(t,e)}}function Ase(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],h=c[r][1]||0,f=c[r-1][1]||0,p=(h-f)/2,m=0;m<a;++m){var g=t[e[m]],y=g[r][1]||0,w=g[r-1][1]||0;p+=y-w}l+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Wl(t,e)}}function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}var Pse=["type","size","sizeType"];function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(this,arguments)}function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){Ose(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ose(t,e,n){return e=Ise(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ise(t){var e=Cse(t,"string");return Lh(e)=="symbol"?e:e+""}function Cse(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kse(t,e){if(t==null)return{};var n=Rse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var I4={symbolCircle:eT,symbolCross:Zoe,symbolDiamond:tse,symbolSquare:nse,symbolStar:sse,symbolTriangle:ase,symbolWye:use},jse=Math.PI/180,Nse=function(e){var n="symbol".concat(qy(e));return I4[n]||eT},Mse=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*jse;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Dse=function(e,n){I4["symbol".concat(qy(e))]=n},tT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=kse(e,Pse),u=PC(PC({},l),{},{type:r,size:o,sizeType:a}),c=function(){var y=Nse(r),w=cse().type(y).size(Mse(o,a,r));return w()},h=u.className,f=u.cx,p=u.cy,m=Ae(u,!0);return f===+f&&p===+p&&o===+o?D.createElement("path",hb({},m,{className:Ce("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:c()})):null};tT.registerSymbol=Dse;function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(this,arguments)}function OC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(n),!0).forEach(function(r){Vh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k4(r.key),r)}}function Fse(t,e,n){return e&&Vse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Use(t,e,n){return e=zm(e),Bse(t,C4()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function Bse(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zse(t)}function zse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function Wse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},db(t,e)}function Vh(t,e,n){return e=k4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k4(t){var e=Hse(t,"string");return Hl(e)=="symbol"?e:e+""}function Hse(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zn=32,nT=function(t){function e(){return Lse(this,e),Use(this,e,arguments)}return Wse(e,t),Fse(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Zn/2,s=Zn/6,a=Zn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Zn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Zn,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Zn/8,"h").concat(Zn,"v").concat(Zn*3/4,"h").concat(-Zn,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=$se({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(tT,{fill:l,cx:o,cy:o,size:Zn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Zn,height:Zn},h={display:a==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,y=Ce(Vh(Vh({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=ye(p.value)?null:p.value;Ri(!ye(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return D.createElement("li",fb({className:y,style:h,key:"legend-item-".concat(m)},$m(r.props,p,m)),D.createElement(rb,{width:s,height:s,viewBox:c,style:f},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(w,p,m):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(M.PureComponent);Vh(nT,"displayName","Legend");Vh(nT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qse=jy;function Kse(){this.__data__=new qse,this.size=0}var Gse=Kse;function Xse(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Yse=Xse;function Qse(t){return this.__data__.get(t)}var Jse=Qse;function Zse(t){return this.__data__.has(t)}var eae=Zse,tae=jy,nae=zE,rae=WE,iae=200;function oae(t,e){var n=this.__data__;if(n instanceof tae){var r=n.__data__;if(!nae||r.length<iae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rae(r)}return n.set(t,e),this.size=n.size,this}var sae=oae,aae=jy,lae=Gse,uae=Yse,cae=Jse,hae=eae,fae=sae;function Pu(t){var e=this.__data__=new aae(t);this.size=e.size}Pu.prototype.clear=lae;Pu.prototype.delete=uae;Pu.prototype.get=cae;Pu.prototype.has=hae;Pu.prototype.set=fae;var R4=Pu,dae="__lodash_hash_undefined__";function pae(t){return this.__data__.set(t,dae),this}var mae=pae;function gae(t){return this.__data__.has(t)}var yae=gae,vae=WE,_ae=mae,wae=yae;function Wm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new vae;++e<n;)this.add(t[e])}Wm.prototype.add=Wm.prototype.push=_ae;Wm.prototype.has=wae;var j4=Wm;function bae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var N4=bae;function xae(t,e){return t.has(e)}var M4=xae,Eae=j4,Tae=N4,Sae=M4,Aae=1,Pae=2;function Oae(t,e,n,r,i,o){var s=n&Aae,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,f=!0,p=n&Pae?new Eae:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var m=t[h],g=e[h];if(r)var y=s?r(g,m,h,e,t,o):r(m,g,h,t,e,o);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!Tae(e,function(w,_){if(!Sae(p,_)&&(m===w||i(m,w,n,r,o)))return p.push(_)})){f=!1;break}}else if(!(m===g||i(m,g,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var D4=Oae,Iae=ai,Cae=Iae.Uint8Array,kae=Cae;function Rae(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var jae=Rae;function Nae(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var rT=Nae,IC=zf,CC=kae,Mae=BE,Dae=D4,$ae=jae,Lae=rT,Vae=1,Fae=2,Uae="[object Boolean]",Bae="[object Date]",zae="[object Error]",Wae="[object Map]",Hae="[object Number]",qae="[object RegExp]",Kae="[object Set]",Gae="[object String]",Xae="[object Symbol]",Yae="[object ArrayBuffer]",Qae="[object DataView]",kC=IC?IC.prototype:void 0,B0=kC?kC.valueOf:void 0;function Jae(t,e,n,r,i,o,s){switch(n){case Qae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yae:return!(t.byteLength!=e.byteLength||!o(new CC(t),new CC(e)));case Uae:case Bae:case Hae:return Mae(+t,+e);case zae:return t.name==e.name&&t.message==e.message;case qae:case Gae:return t==e+"";case Wae:var a=$ae;case Kae:var l=r&Vae;if(a||(a=Lae),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Fae,s.set(t,e);var c=Dae(a(t),a(e),r,i,o,s);return s.delete(t),c;case Xae:if(B0)return B0.call(t)==B0.call(e)}return!1}var Zae=Jae;function ele(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var $4=ele,tle=$4,nle=Mn;function rle(t,e,n){var r=e(t);return nle(t)?r:tle(r,n(t))}var ile=rle;function ole(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var sle=ole;function ale(){return[]}var lle=ale,ule=sle,cle=lle,hle=Object.prototype,fle=hle.propertyIsEnumerable,RC=Object.getOwnPropertySymbols,dle=RC?function(t){return t==null?[]:(t=Object(t),ule(RC(t),function(e){return fle.call(t,e)}))}:cle,ple=dle;function mle(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var gle=mle,yle=Qi,vle=Ji,_le="[object Arguments]";function wle(t){return vle(t)&&yle(t)==_le}var ble=wle,jC=ble,xle=Ji,L4=Object.prototype,Ele=L4.hasOwnProperty,Tle=L4.propertyIsEnumerable,Sle=jC(function(){return arguments}())?jC:function(t){return xle(t)&&Ele.call(t,"callee")&&!Tle.call(t,"callee")},iT=Sle,Hm={exports:{}};function Ale(){return!1}var Ple=Ale;Hm.exports;(function(t,e){var n=ai,r=Ple,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Hm,Hm.exports);var V4=Hm.exports,Ole=9007199254740991,Ile=/^(?:0|[1-9]\d*)$/;function Cle(t,e){var n=typeof t;return e=e??Ole,!!e&&(n=="number"||n!="symbol"&&Ile.test(t))&&t>-1&&t%1==0&&t<e}var oT=Cle,kle=9007199254740991;function Rle(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kle}var sT=Rle,jle=Qi,Nle=sT,Mle=Ji,Dle="[object Arguments]",$le="[object Array]",Lle="[object Boolean]",Vle="[object Date]",Fle="[object Error]",Ule="[object Function]",Ble="[object Map]",zle="[object Number]",Wle="[object Object]",Hle="[object RegExp]",qle="[object Set]",Kle="[object String]",Gle="[object WeakMap]",Xle="[object ArrayBuffer]",Yle="[object DataView]",Qle="[object Float32Array]",Jle="[object Float64Array]",Zle="[object Int8Array]",eue="[object Int16Array]",tue="[object Int32Array]",nue="[object Uint8Array]",rue="[object Uint8ClampedArray]",iue="[object Uint16Array]",oue="[object Uint32Array]",Ye={};Ye[Qle]=Ye[Jle]=Ye[Zle]=Ye[eue]=Ye[tue]=Ye[nue]=Ye[rue]=Ye[iue]=Ye[oue]=!0;Ye[Dle]=Ye[$le]=Ye[Xle]=Ye[Lle]=Ye[Yle]=Ye[Vle]=Ye[Fle]=Ye[Ule]=Ye[Ble]=Ye[zle]=Ye[Wle]=Ye[Hle]=Ye[qle]=Ye[Kle]=Ye[Gle]=!1;function sue(t){return Mle(t)&&Nle(t.length)&&!!Ye[jle(t)]}var aue=sue;function lue(t){return function(e){return t(e)}}var F4=lue,qm={exports:{}};qm.exports;(function(t,e){var n=GV,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(qm,qm.exports);var uue=qm.exports,cue=aue,hue=F4,NC=uue,MC=NC&&NC.isTypedArray,fue=MC?hue(MC):cue,U4=fue,due=gle,pue=iT,mue=Mn,gue=V4,yue=oT,vue=U4,_ue=Object.prototype,wue=_ue.hasOwnProperty;function bue(t,e){var n=mue(t),r=!n&&pue(t),i=!n&&!r&&gue(t),o=!n&&!r&&!i&&vue(t),s=n||r||i||o,a=s?due(t.length,String):[],l=a.length;for(var u in t)(e||wue.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||yue(u,l)))&&a.push(u);return a}var xue=bue,Eue=Object.prototype;function Tue(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Eue;return t===n}var Sue=Tue;function Aue(t,e){return function(n){return t(e(n))}}var B4=Aue,Pue=B4,Oue=Pue(Object.keys,Object),Iue=Oue,Cue=Sue,kue=Iue,Rue=Object.prototype,jue=Rue.hasOwnProperty;function Nue(t){if(!Cue(t))return kue(t);var e=[];for(var n in Object(t))jue.call(t,n)&&n!="constructor"&&e.push(n);return e}var Mue=Nue,Due=UE,$ue=sT;function Lue(t){return t!=null&&$ue(t.length)&&!Due(t)}var qf=Lue,Vue=xue,Fue=Mue,Uue=qf;function Bue(t){return Uue(t)?Vue(t):Fue(t)}var Yy=Bue,zue=ile,Wue=ple,Hue=Yy;function que(t){return zue(t,Hue,Wue)}var Kue=que,DC=Kue,Gue=1,Xue=Object.prototype,Yue=Xue.hasOwnProperty;function Que(t,e,n,r,i,o){var s=n&Gue,a=DC(t),l=a.length,u=DC(e),c=u.length;if(l!=c&&!s)return!1;for(var h=l;h--;){var f=a[h];if(!(s?f in e:Yue.call(e,f)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=s;++h<l;){f=a[h];var w=t[f],_=e[f];if(r)var v=s?r(_,w,f,e,t,o):r(w,_,f,t,e,o);if(!(v===void 0?w===_||i(w,_,n,r,o):v)){g=!1;break}y||(y=f=="constructor")}if(g&&!y){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(t),o.delete(e),g}var Jue=Que,Zue=Ea,ece=ai,tce=Zue(ece,"DataView"),nce=tce,rce=Ea,ice=ai,oce=rce(ice,"Promise"),sce=oce,ace=Ea,lce=ai,uce=ace(lce,"Set"),z4=uce,cce=Ea,hce=ai,fce=cce(hce,"WeakMap"),dce=fce,pb=nce,mb=zE,gb=sce,yb=z4,vb=dce,W4=Qi,Ou=YV,$C="[object Map]",pce="[object Object]",LC="[object Promise]",VC="[object Set]",FC="[object WeakMap]",UC="[object DataView]",mce=Ou(pb),gce=Ou(mb),yce=Ou(gb),vce=Ou(yb),_ce=Ou(vb),Is=W4;(pb&&Is(new pb(new ArrayBuffer(1)))!=UC||mb&&Is(new mb)!=$C||gb&&Is(gb.resolve())!=LC||yb&&Is(new yb)!=VC||vb&&Is(new vb)!=FC)&&(Is=function(t){var e=W4(t),n=e==pce?t.constructor:void 0,r=n?Ou(n):"";if(r)switch(r){case mce:return UC;case gce:return $C;case yce:return LC;case vce:return VC;case _ce:return FC}return e});var wce=Is,z0=R4,bce=D4,xce=Zae,Ece=Jue,BC=wce,zC=Mn,WC=V4,Tce=U4,Sce=1,HC="[object Arguments]",qC="[object Array]",Gd="[object Object]",Ace=Object.prototype,KC=Ace.hasOwnProperty;function Pce(t,e,n,r,i,o){var s=zC(t),a=zC(e),l=s?qC:BC(t),u=a?qC:BC(e);l=l==HC?Gd:l,u=u==HC?Gd:u;var c=l==Gd,h=u==Gd,f=l==u;if(f&&WC(t)){if(!WC(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new z0),s||Tce(t)?bce(t,e,n,r,i,o):xce(t,e,l,n,r,i,o);if(!(n&Sce)){var p=c&&KC.call(t,"__wrapped__"),m=h&&KC.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,y=m?e.value():e;return o||(o=new z0),i(g,y,n,r,o)}}return f?(o||(o=new z0),Ece(t,e,n,r,i,o)):!1}var Oce=Pce,Ice=Oce,GC=Ji;function H4(t,e,n,r,i){return t===e?!0:t==null||e==null||!GC(t)&&!GC(e)?t!==t&&e!==e:Ice(t,e,n,r,H4,i)}var aT=H4,Cce=R4,kce=aT,Rce=1,jce=2;function Nce(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new Cce;if(r)var f=r(u,c,l,t,e,h);if(!(f===void 0?kce(c,u,Rce|jce,r,h):f))return!1}}return!0}var Mce=Nce,Dce=ls;function $ce(t){return t===t&&!Dce(t)}var q4=$ce,Lce=q4,Vce=Yy;function Fce(t){for(var e=Vce(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Lce(i)]}return e}var Uce=Fce;function Bce(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var K4=Bce,zce=Mce,Wce=Uce,Hce=K4;function qce(t){var e=Wce(t);return e.length==1&&e[0][2]?Hce(e[0][0],e[0][1]):function(n){return n===t||zce(n,t,e)}}var Kce=qce;function Gce(t,e){return t!=null&&e in Object(t)}var Xce=Gce,Yce=t4,Qce=iT,Jce=Mn,Zce=oT,ehe=sT,the=My;function nhe(t,e,n){e=Yce(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=the(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&ehe(i)&&Zce(s,i)&&(Jce(t)||Qce(t)))}var rhe=nhe,ihe=Xce,ohe=rhe;function she(t,e){return t!=null&&ohe(t,e,ihe)}var ahe=she,lhe=aT,uhe=n4,che=ahe,hhe=FE,fhe=q4,dhe=K4,phe=My,mhe=1,ghe=2;function yhe(t,e){return hhe(t)&&fhe(e)?dhe(phe(t),e):function(n){var r=uhe(n,t);return r===void 0&&r===e?che(n,t):lhe(e,r,mhe|ghe)}}var vhe=yhe;function _he(t){return t}var Iu=_he;function whe(t){return function(e){return e==null?void 0:e[t]}}var bhe=whe,xhe=KE;function Ehe(t){return function(e){return xhe(e,t)}}var The=Ehe,She=bhe,Ahe=The,Phe=FE,Ohe=My;function Ihe(t){return Phe(t)?She(Ohe(t)):Ahe(t)}var Che=Ihe,khe=Kce,Rhe=vhe,jhe=Iu,Nhe=Mn,Mhe=Che;function Dhe(t){return typeof t=="function"?t:t==null?jhe:typeof t=="object"?Nhe(t)?Rhe(t[0],t[1]):khe(t):Mhe(t)}var us=Dhe;function $he(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var G4=$he;function Lhe(t){return t!==t}var Vhe=Lhe;function Fhe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Uhe=Fhe,Bhe=G4,zhe=Vhe,Whe=Uhe;function Hhe(t,e,n){return e===e?Whe(t,e,n):Bhe(t,zhe,n)}var qhe=Hhe,Khe=qhe;function Ghe(t,e){var n=t==null?0:t.length;return!!n&&Khe(t,e,0)>-1}var Xhe=Ghe;function Yhe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Qhe=Yhe;function Jhe(){}var Zhe=Jhe,W0=z4,efe=Zhe,tfe=rT,nfe=1/0,rfe=W0&&1/tfe(new W0([,-0]))[1]==nfe?function(t){return new W0(t)}:efe,ife=rfe,ofe=j4,sfe=Xhe,afe=Qhe,lfe=M4,ufe=ife,cfe=rT,hfe=200;function ffe(t,e,n){var r=-1,i=sfe,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=afe;else if(o>=hfe){var u=e?null:ufe(t);if(u)return cfe(u);s=!1,i=lfe,l=new ofe}else l=e?[]:a;e:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,s&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}var dfe=ffe,pfe=us,mfe=dfe;function gfe(t,e){return t&&t.length?mfe(t,pfe(e)):[]}var yfe=gfe;const XC=Be(yfe);function X4(t,e,n){return e===!0?XC(t,n):ye(e)?XC(t,e):t}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}var vfe=["ref"];function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){Qy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q4(r.key),r)}}function wfe(t,e,n){return e&&QC(t.prototype,e),n&&QC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bfe(t,e,n){return e=Km(e),xfe(t,Y4()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function xfe(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Efe(t)}function Efe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function Tfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}function _b(t,e){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_b(t,e)}function Qy(t,e,n){return e=Q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q4(t){var e=Sfe(t,"string");return ql(e)=="symbol"?e:e+""}function Sfe(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Afe(t,e){if(t==null)return{};var n=Pfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ofe(t){return t.value}function Ife(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=Afe(e,vfe);return D.createElement(nT,n)}var JC=1,Hs=function(t){function e(){var n;_fe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=bfe(this,e,[].concat(i)),Qy(n,"lastBoundingBox",{width:-1,height:-1}),n}return Tfe(e,t),wfe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>JC||Math.abs(i.height-this.lastBoundingBox.height)>JC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var m=this.getBBoxSnapshot();f={top:((c||0)-m.height)/2}}else f=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fi(fi({},h),f)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,h=fi(fi({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){r.wrapperNode=p}},Ife(o,fi(fi({},this.props),{},{payload:X4(c,u,Ofe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=fi(fi({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ee(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);Qy(Hs,"displayName","Legend");Qy(Hs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ZC=zf,Cfe=iT,kfe=Mn,ek=ZC?ZC.isConcatSpreadable:void 0;function Rfe(t){return kfe(t)||Cfe(t)||!!(ek&&t&&t[ek])}var jfe=Rfe,Nfe=$4,Mfe=jfe;function J4(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Mfe),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?J4(a,e-1,n,r,i):Nfe(i,a):r||(i[i.length]=a)}return i}var Z4=J4;function Dfe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var $fe=Dfe,Lfe=$fe,Vfe=Lfe(),Ffe=Vfe,Ufe=Ffe,Bfe=Yy;function zfe(t,e){return t&&Ufe(t,e,Bfe)}var eF=zfe,Wfe=qf;function Hfe(t,e){return function(n,r){if(n==null)return n;if(!Wfe(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var qfe=Hfe,Kfe=eF,Gfe=qfe,Xfe=Gfe(Kfe),lT=Xfe,Yfe=lT,Qfe=qf;function Jfe(t,e){var n=-1,r=Qfe(t)?Array(t.length):[];return Yfe(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var tF=Jfe;function Zfe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ede=Zfe,tk=xu;function tde(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=tk(t),s=e!==void 0,a=e===null,l=e===e,u=tk(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var nde=tde,rde=nde;function ide(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=rde(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var ode=ide,H0=qE,sde=KE,ade=us,lde=tF,ude=ede,cde=F4,hde=ode,fde=Iu,dde=Mn;function pde(t,e,n){e.length?e=H0(e,function(o){return dde(o)?function(s){return sde(s,o.length===1?o[0]:o)}:o}):e=[fde];var r=-1;e=H0(e,cde(ade));var i=lde(t,function(o,s,a){var l=H0(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return ude(i,function(o,s){return hde(o,s,n)})}var mde=pde;function gde(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var yde=gde,vde=yde,nk=Math.max;function _de(t,e,n){return e=nk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=nk(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),vde(t,this,a)}}var wde=_de;function bde(t){return function(){return t}}var xde=bde,Ede=Ea,Tde=function(){try{var t=Ede(Object,"defineProperty");return t({},"",{}),t}catch{}}(),nF=Tde,Sde=xde,rk=nF,Ade=Iu,Pde=rk?function(t,e){return rk(t,"toString",{configurable:!0,enumerable:!1,value:Sde(e),writable:!0})}:Ade,Ode=Pde,Ide=800,Cde=16,kde=Date.now;function Rde(t){var e=0,n=0;return function(){var r=kde(),i=Cde-(r-n);if(n=r,i>0){if(++e>=Ide)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var jde=Rde,Nde=Ode,Mde=jde,Dde=Mde(Nde),$de=Dde,Lde=Iu,Vde=wde,Fde=$de;function Ude(t,e){return Fde(Vde(t,e,Lde),t+"")}var Bde=Ude,zde=BE,Wde=qf,Hde=oT,qde=ls;function Kde(t,e,n){if(!qde(n))return!1;var r=typeof e;return(r=="number"?Wde(n)&&Hde(e,n.length):r=="string"&&e in n)?zde(n[e],t):!1}var Jy=Kde,Gde=Z4,Xde=mde,Yde=Bde,ik=Jy,Qde=Yde(function(t,e){if(t==null)return[];var n=e.length;return n>1&&ik(t,e[0],e[1])?e=[]:n>2&&ik(e[0],e[1],e[2])&&(e=[e[0]]),Xde(t,Gde(e,1),[])}),Jde=Qde;const uT=Be(Jde);function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(this,arguments)}function Zde(t,e){return rpe(t)||npe(t,e)||tpe(t,e)||epe()}function epe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tpe(t,e){if(t){if(typeof t=="string")return ok(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ok(t,e)}}function ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function npe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function rpe(t){if(Array.isArray(t))return t}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){ipe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ipe(t,e,n){return e=ope(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ope(t){var e=spe(t,"string");return Fh(e)=="symbol"?e:e+""}function spe(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ape(t){return Array.isArray(t)&&Ot(t[0])&&Ot(t[1])?t.join(" ~ "):t}var lpe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,y=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,v=function(){if(c&&c.length){var j={padding:0,margin:0},R=(f?uT(c,f):c).map(function(V,U){if(V.type==="none")return null;var B=q0({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},a),H=V.formatter||h||ape,L=V.value,z=V.name,X=L,Y=z;if(H&&X!=null&&Y!=null){var K=H(L,z,V,U,c);if(Array.isArray(K)){var ne=Zde(K,2);X=ne[0],Y=ne[1]}else X=K}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:B},Ot(Y)?D.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Ot(Y)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},X),D.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:j},R)}return null},S=q0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=q0({margin:0},u),A=!xe(g),x=A?g:"",T=Ce("recharts-default-tooltip",p),I=Ce("recharts-tooltip-label",m);A&&y&&c!==void 0&&c!==null&&(x=y(g,c));var k=_?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",wb({className:T,style:S},k),D.createElement("p",{className:I,style:E},D.isValidElement(x)?x:"".concat(x)),v())};function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function Xd(t,e,n){return e=upe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function upe(t){var e=cpe(t,"string");return Uh(e)=="symbol"?e:e+""}function cpe(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uc="recharts-tooltip-wrapper",hpe={visibility:"hidden"};function fpe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ce(uc,Xd(Xd(Xd(Xd({},"".concat(uc,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(uc,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(uc,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(uc,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function ak(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ee(o[r]))return o[r];var c=n[r]-a-i,h=n[r]+i;if(e[r])return s[r]?c:h;if(s[r]){var f=c,p=l[r];return f<p?Math.max(h,l[r]):Math.max(c,l[r])}var m=h+a,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(h,l[r])}function dpe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ppe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,h;return s.height>0&&s.width>0&&n?(c=ak({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=ak({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=dpe({translateX:c,translateY:h,useTranslate3d:a})):u=hpe,{cssProperties:u,cssClasses:fpe({translateX:c,translateY:h,coordinate:n})}}function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){xb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iF(r.key),r)}}function ype(t,e,n){return e&&gpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vpe(t,e,n){return e=Gm(e),_pe(t,rF()?Reflect.construct(e,n||[],Gm(t).constructor):e.apply(t,n))}function _pe(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wpe(t)}function wpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function bpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bb(t,e)}function bb(t,e){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bb(t,e)}function xb(t,e,n){return e=iF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iF(t){var e=xpe(t,"string");return Kl(e)=="symbol"?e:e+""}function xpe(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ck=1,Epe=function(t){function e(){var n;mpe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=vpe(this,e,[].concat(i)),xb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xb(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return bpe(e,t),ype(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>ck||Math.abs(r.height-this.state.lastBoundingBox.height)>ck)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,v=ppe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),S=v.cssClasses,E=v.cssProperties,A=uk(uk({transition:f&&o?"transform ".concat(a,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},_);return D.createElement("div",{tabIndex:-1,className:S,style:A,ref:function(T){r.wrapperNode=T}},u)}}])}(M.PureComponent),Tpe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ji={isSsr:Tpe(),get:function(e){return ji[e]},set:function(e,n){if(typeof e=="string")ji[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){ji[i]=e[i]})}}};function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){cT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Spe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ape(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sF(r.key),r)}}function Ppe(t,e,n){return e&&Ape(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ope(t,e,n){return e=Xm(e),Ipe(t,oF()?Reflect.construct(e,n||[],Xm(t).constructor):e.apply(t,n))}function Ipe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cpe(t)}function Cpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function kpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eb(t,e)}function Eb(t,e){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Eb(t,e)}function cT(t,e,n){return e=sF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sF(t){var e=Rpe(t,"string");return Gl(e)=="symbol"?e:e+""}function Rpe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jpe(t){return t.dataKey}function Npe(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(lpe,e)}var Er=function(t){function e(){return Spe(this,e),Ope(this,e,arguments)}return kpe(e,t),Ppe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,h=i.filterNull,f=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,y=i.position,w=i.reverseDirection,_=i.useTranslate3d,v=i.viewBox,S=i.wrapperStyle,E=m??[];h&&E.length&&(E=X4(m.filter(function(x){return x.value!=null&&(x.hide!==!0||r.props.includeHidden)}),g,jpe));var A=E.length>0;return D.createElement(Epe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:f,active:o,coordinate:c,hasPayload:A,offset:p,position:y,reverseDirection:w,useTranslate3d:_,viewBox:v,wrapperStyle:S},Npe(u,fk(fk({},this.props),{},{payload:E})))}}])}(M.PureComponent);cT(Er,"displayName","Tooltip");cT(Er,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ji.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Mpe=ai,Dpe=function(){return Mpe.Date.now()},$pe=Dpe,Lpe=/\s/;function Vpe(t){for(var e=t.length;e--&&Lpe.test(t.charAt(e)););return e}var Fpe=Vpe,Upe=Fpe,Bpe=/^\s+/;function zpe(t){return t&&t.slice(0,Upe(t)+1).replace(Bpe,"")}var Wpe=zpe,Hpe=Wpe,dk=ls,qpe=xu,pk=NaN,Kpe=/^[-+]0x[0-9a-f]+$/i,Gpe=/^0b[01]+$/i,Xpe=/^0o[0-7]+$/i,Ype=parseInt;function Qpe(t){if(typeof t=="number")return t;if(qpe(t))return pk;if(dk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=dk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Hpe(t);var n=Gpe.test(t);return n||Xpe.test(t)?Ype(t.slice(2),n?2:8):Kpe.test(t)?pk:+t}var aF=Qpe,Jpe=ls,K0=$pe,mk=aF,Zpe="Expected a function",eme=Math.max,tme=Math.min;function nme(t,e,n){var r,i,o,s,a,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Zpe);e=mk(e)||0,Jpe(n)&&(c=!!n.leading,h="maxWait"in n,o=h?eme(mk(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function p(A){var x=r,T=i;return r=i=void 0,u=A,s=t.apply(T,x),s}function m(A){return u=A,a=setTimeout(w,e),c?p(A):s}function g(A){var x=A-l,T=A-u,I=e-x;return h?tme(I,o-T):I}function y(A){var x=A-l,T=A-u;return l===void 0||x>=e||x<0||h&&T>=o}function w(){var A=K0();if(y(A))return _(A);a=setTimeout(w,g(A))}function _(A){return a=void 0,f&&r?p(A):(r=i=void 0,s)}function v(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function S(){return a===void 0?s:_(K0())}function E(){var A=K0(),x=y(A);if(r=arguments,i=this,l=A,x){if(a===void 0)return m(l);if(h)return clearTimeout(a),a=setTimeout(w,e),p(l)}return a===void 0&&(a=setTimeout(w,e)),s}return E.cancel=v,E.flush=S,E}var rme=nme,ime=rme,ome=ls,sme="Expected a function";function ame(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(sme);return ome(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ime(t,e,{leading:r,maxWait:e,trailing:i})}var lme=ame;const lF=Be(lme);function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ume(t,e,n){return e=cme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cme(t){var e=hme(t,"string");return Bh(e)=="symbol"?e:e+""}function hme(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fme(t,e){return gme(t)||mme(t,e)||pme(t,e)||dme()}function dme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pme(t,e){if(t){if(typeof t=="string")return yk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yk(t,e)}}function yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function gme(t){if(Array.isArray(t))return t}var uF=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,y=t.id,w=t.className,_=t.onResize,v=t.style,S=v===void 0?{}:v,E=M.useRef(null),A=M.useRef();A.current=_,M.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var x=M.useState({containerWidth:i.width,containerHeight:i.height}),T=fme(x,2),I=T[0],k=T[1],C=M.useCallback(function(R,V){k(function(U){var B=Math.round(R),H=Math.round(V);return U.containerWidth===B&&U.containerHeight===H?U:{containerWidth:B,containerHeight:H}})},[]);M.useEffect(function(){var R=function(z){var X,Y=z[0].contentRect,K=Y.width,ne=Y.height;C(K,ne),(X=A.current)===null||X===void 0||X.call(A,K,ne)};g>0&&(R=lF(R,g,{trailing:!0,leading:!1}));var V=new ResizeObserver(R),U=E.current.getBoundingClientRect(),B=U.width,H=U.height;return C(B,H),V.observe(E.current),function(){V.disconnect()}},[C,g]);var j=M.useMemo(function(){var R=I.containerWidth,V=I.containerHeight;if(R<0||V<0)return null;Ri($s(s)||$s(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ri(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=$s(s)?R:s,B=$s(l)?V:l;n&&n>0&&(U?B=U/n:B&&(U=B*n),f&&B>f&&(B=f)),Ri(U>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,B,s,l,c,h,n);var H=!Array.isArray(p)&&ki(p.type).endsWith("Chart");return D.Children.map(p,function(L){return D.isValidElement(L)?M.cloneElement(L,Yd({width:U,height:B},H?{style:Yd({height:"100%",width:"100%",maxHeight:B,maxWidth:U},L.props.style)}:{})):L})},[n,p,l,f,h,c,I,s]);return D.createElement("div",{id:y?"".concat(y):void 0,className:Ce("recharts-responsive-container",w),style:Yd(Yd({},S),{},{width:s,height:l,minWidth:c,minHeight:h,maxHeight:f}),ref:E},j)}),cF=function(e){return null};cF.displayName="Cell";function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yme(t,e,n){return e=vme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vme(t){var e=_me(t,"string");return zh(e)=="symbol"?e:e+""}function _me(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var La={widthCache:{},cacheCount:0},wme=2e3,bme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_k="recharts_measurement_span";function xme(t){var e=Tb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var eh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ji.isSsr)return{width:0,height:0};var r=xme(n),i=JSON.stringify({text:e,copyStyle:r});if(La.widthCache[i])return La.widthCache[i];try{var o=document.getElementById(_k);o||(o=document.createElement("span"),o.setAttribute("id",_k),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Tb(Tb({},bme),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return La.widthCache[i]=l,++La.cacheCount>wme&&(La.cacheCount=0,La.widthCache={}),l}catch{return{width:0,height:0}}},Eme=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function Ym(t,e){return Pme(t)||Ame(t,e)||Sme(t,e)||Tme()}function Tme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sme(t,e){if(t){if(typeof t=="string")return wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wk(t,e)}}function wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ame(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Pme(t){if(Array.isArray(t))return t}function Ome(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cme(r.key),r)}}function Ime(t,e,n){return e&&bk(t.prototype,e),n&&bk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cme(t){var e=kme(t,"string");return Wh(e)=="symbol"?e:e+""}function kme(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ek=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nme=Object.keys(hF),cl="NaN";function Mme(t,e){return t*hF[e]}var Qd=function(){function t(e,n){Ome(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Rme.test(n)&&(this.num=NaN,this.unit=""),Nme.includes(n)&&(this.num=Mme(e,n),this.unit="px")}return Ime(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=jme.exec(n))!==null&&r!==void 0?r:[],o=Ym(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function fF(t){if(t.includes(cl))return cl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=xk.exec(e))!==null&&n!==void 0?n:[],i=Ym(r,4),o=i[1],s=i[2],a=i[3],l=Qd.parse(o??""),u=Qd.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return cl;e=e.replace(xk,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=Ek.exec(e))!==null&&h!==void 0?h:[],p=Ym(f,4),m=p[1],g=p[2],y=p[3],w=Qd.parse(m??""),_=Qd.parse(y??""),v=g==="+"?w.add(_):w.subtract(_);if(v.isNaN())return cl;e=e.replace(Ek,v.toString())}return e}var Tk=/\(([^()]*)\)/;function Dme(t){for(var e=t;e.includes("(");){var n=Tk.exec(e),r=Ym(n,2),i=r[1];e=e.replace(Tk,fF(i))}return e}function $me(t){var e=t.replace(/\s+/g,"");return e=Dme(e),e=fF(e),e}function Lme(t){try{return $me(t)}catch{return cl}}function G0(t){var e=Lme(t.slice(5,-1));return e===cl?"":e}var Vme=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Fme=["dx","dy","angle","className","breakAll"];function Sb(){return Sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sb.apply(this,arguments)}function Sk(t,e){if(t==null)return{};var n=Ume(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ume(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ak(t,e){return Hme(t)||Wme(t,e)||zme(t,e)||Bme()}function Bme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zme(t,e){if(t){if(typeof t=="string")return Pk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pk(t,e)}}function Pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Hme(t){if(Array.isArray(t))return t}var dF=/[ \f\n\r\t\v\u2028\u2029]+/,pF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];xe(n)||(r?o=n.toString().split(""):o=n.toString().split(dF));var s=o.map(function(l){return{word:l,width:eh(l,i).width}}),a=r?0:eh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},qme=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ee(s),h=a,f=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(B,H){var L=H.word,z=H.width,X=B[B.length-1];if(X&&(i==null||o||X.width+z+r<Number(i)))X.words.push(L),X.width+=z+r;else{var Y={words:[L],width:z};B.push(Y)}return B},[])},p=f(n),m=function(U){return U.reduce(function(B,H){return B.width>H.width?B:H})};if(!c)return p;for(var g="",y=function(U){var B=h.slice(0,U),H=pF({breakAll:u,style:l,children:B+g}).wordsWithComputedWidth,L=f(H),z=L.length>s||m(L).width>Number(i);return[z,L]},w=0,_=h.length-1,v=0,S;w<=_&&v<=h.length-1;){var E=Math.floor((w+_)/2),A=E-1,x=y(A),T=Ak(x,2),I=T[0],k=T[1],C=y(E),j=Ak(C,1),R=j[0];if(!I&&!R&&(w=E+1),I&&R&&(_=E-1),!I&&R){S=k;break}v++}return S||p},Ok=function(e){var n=xe(e)?[]:e.toString().split(dF);return[{words:n}]},Kme=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!ji.isSsr){var l,u,c=pF({breakAll:s,children:i,style:o});if(c){var h=c.wordsWithComputedWidth,f=c.spaceWidth;l=h,u=f}else return Ok(i);return qme({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return Ok(i)},Ik="#808080",Qm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,h=c===void 0?!1:c,f=e.textAnchor,p=f===void 0?"start":f,m=e.verticalAnchor,g=m===void 0?"end":m,y=e.fill,w=y===void 0?Ik:y,_=Sk(e,Vme),v=M.useMemo(function(){return Kme({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:h,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,h,_.style,_.width]),S=_.dx,E=_.dy,A=_.angle,x=_.className,T=_.breakAll,I=Sk(_,Fme);if(!Ot(r)||!Ot(o))return null;var k=r+(ee(S)?S:0),C=o+(ee(E)?E:0),j;switch(g){case"start":j=G0("calc(".concat(u,")"));break;case"middle":j=G0("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:j=G0("calc(".concat(v.length-1," * -").concat(a,")"));break}var R=[];if(h){var V=v[0].width,U=_.width;R.push("scale(".concat((ee(U)?U/V:1)/V,")"))}return A&&R.push("rotate(".concat(A,", ").concat(k,", ").concat(C,")")),R.length&&(I.transform=R.join(" ")),D.createElement("text",Sb({},Ae(I,!0),{x:k,y:C,className:Ce("recharts-text",x),textAnchor:p,fill:w.includes("url")?Ik:w}),v.map(function(B,H){var L=B.words.join(T?"":" ");return D.createElement("tspan",{x:k,dy:H===0?j:a,key:"".concat(L,"-").concat(H)},L)}))};function Fo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gme(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hT(t){let e,n,r;t.length!==2?(e=Fo,n=(a,l)=>Fo(t(a),l),r=(a,l)=>t(a)-l):(e=t===Fo||t===Gme?t:Xme,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(a[h],l)<0?u=h+1:c=h}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(a[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function s(a,l,u=0,c=a.length){const h=i(a,l,u,c-1);return h>u&&r(a[h-1],l)>-r(a[h],l)?h-1:h}return{left:i,center:s,right:o}}function Xme(){return 0}function mF(t){return t===null?NaN:+t}function*Yme(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Qme=hT(Fo),Kf=Qme.right;hT(mF).center;class Ck extends Map{constructor(e,n=ege){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(kk(this,e))}has(e){return super.has(kk(this,e))}set(e,n){return super.set(Jme(this,e),n)}delete(e){return super.delete(Zme(this,e))}}function kk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Jme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Zme({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ege(t){return t!==null&&typeof t=="object"?t.valueOf():t}function tge(t=Fo){if(t===Fo)return gF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const nge=Math.sqrt(50),rge=Math.sqrt(10),ige=Math.sqrt(2);function Jm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=nge?10:o>=rge?5:o>=ige?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Jm(t,e,n*2):[a,l,u]}function Ab(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Jm(e,t,n):Jm(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Pb(t,e,n){return e=+e,t=+t,n=+n,Jm(t,e,n)[2]}function Ob(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Pb(e,t,n):Pb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Rk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?gF:tge(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/l+f)),m=Math.min(r,Math.floor(e+(l-u)*h/l+f));yF(t,e,p,m,i)}const o=t[e];let s=n,a=r;for(cc(t,n,e),i(t[r],o)>0&&cc(t,n,r);s<a;){for(cc(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?cc(t,n,a):(++a,cc(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function cc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function oge(t,e,n){if(t=Float64Array.from(Yme(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return jk(t);if(e>=1)return Rk(t);var r,i=(r-1)*e,o=Math.floor(i),s=Rk(yF(t,o).subarray(0,o+1)),a=jk(t.subarray(o+1));return s+(a-s)*(i-o)}}function sge(t,e,n=mF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function age(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function mr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Zi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ib=Symbol("implicit");function fT(){var t=new Ck,e=[],n=[],r=Ib;function i(o){let s=t.get(o);if(s===void 0){if(r!==Ib)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ck;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return fT(e,n).unknown(r)},mr.apply(i,arguments),i}function Hh(){var t=fT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,f-l+u*2),a&&(o=Math.floor(o)),m+=(g-m-o*(f-l))*c,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var y=age(f).map(function(w){return m+o*w});return n(p?y.reverse():y)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(f){return arguments.length?(a=!!f,h()):a},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return Hh(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},mr.apply(h(),arguments)}function vF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vF(e())},t}function th(){return vF(Hh.apply(null,arguments).paddingInner(1))}function dT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _F(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gf(){}var qh=.7,Zm=1/qh,Sl="\\s*([+-]?\\d+)\\s*",Kh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lge=/^#([0-9a-f]{3,8})$/,uge=new RegExp(`^rgb\\(${Sl},${Sl},${Sl}\\)$`),cge=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),hge=new RegExp(`^rgba\\(${Sl},${Sl},${Sl},${Kh}\\)$`),fge=new RegExp(`^rgba\\(${ei},${ei},${ei},${Kh}\\)$`),dge=new RegExp(`^hsl\\(${Kh},${ei},${ei}\\)$`),pge=new RegExp(`^hsla\\(${Kh},${ei},${ei},${Kh}\\)$`),Nk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dT(Gf,Gh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Mk,formatHex:Mk,formatHex8:mge,formatHsl:gge,formatRgb:Dk,toString:Dk});function Mk(){return this.rgb().formatHex()}function mge(){return this.rgb().formatHex8()}function gge(){return wF(this).formatHsl()}function Dk(){return this.rgb().formatRgb()}function Gh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lge.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$k(e):n===3?new On(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uge.exec(t))?new On(e[1],e[2],e[3],1):(e=cge.exec(t))?new On(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hge.exec(t))?Jd(e[1],e[2],e[3],e[4]):(e=fge.exec(t))?Jd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dge.exec(t))?Fk(e[1],e[2]/100,e[3]/100,1):(e=pge.exec(t))?Fk(e[1],e[2]/100,e[3]/100,e[4]):Nk.hasOwnProperty(t)?$k(Nk[t]):t==="transparent"?new On(NaN,NaN,NaN,0):null}function $k(t){return new On(t>>16&255,t>>8&255,t&255,1)}function Jd(t,e,n,r){return r<=0&&(t=e=n=NaN),new On(t,e,n,r)}function yge(t){return t instanceof Gf||(t=Gh(t)),t?(t=t.rgb(),new On(t.r,t.g,t.b,t.opacity)):new On}function Cb(t,e,n,r){return arguments.length===1?yge(t):new On(t,e,n,r??1)}function On(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dT(On,Cb,_F(Gf,{brighter(t){return t=t==null?Zm:Math.pow(Zm,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qh:Math.pow(qh,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new On(qs(this.r),qs(this.g),qs(this.b),eg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lk,formatHex:Lk,formatHex8:vge,formatRgb:Vk,toString:Vk}));function Lk(){return`#${Ls(this.r)}${Ls(this.g)}${Ls(this.b)}`}function vge(){return`#${Ls(this.r)}${Ls(this.g)}${Ls(this.b)}${Ls((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vk(){const t=eg(this.opacity);return`${t===1?"rgb(":"rgba("}${qs(this.r)}, ${qs(this.g)}, ${qs(this.b)}${t===1?")":`, ${t})`}`}function eg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ls(t){return t=qs(t),(t<16?"0":"")+t.toString(16)}function Fk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ir(t,e,n,r)}function wF(t){if(t instanceof Ir)return new Ir(t.h,t.s,t.l,t.opacity);if(t instanceof Gf||(t=Gh(t)),!t)return new Ir;if(t instanceof Ir)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ir(s,a,l,t.opacity)}function _ge(t,e,n,r){return arguments.length===1?wF(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dT(Ir,_ge,_F(Gf,{brighter(t){return t=t==null?Zm:Math.pow(Zm,t),new Ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qh:Math.pow(qh,t),new Ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new On(X0(t>=240?t-240:t+120,i,r),X0(t,i,r),X0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ir(Uk(this.h),Zd(this.s),Zd(this.l),eg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=eg(this.opacity);return`${t===1?"hsl(":"hsla("}${Uk(this.h)}, ${Zd(this.s)*100}%, ${Zd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Uk(t){return t=(t||0)%360,t<0?t+360:t}function Zd(t){return Math.max(0,Math.min(1,t||0))}function X0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const pT=t=>()=>t;function wge(t,e){return function(n){return t+n*e}}function bge(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xge(t){return(t=+t)==1?bF:function(e,n){return n-e?bge(e,n,t):pT(isNaN(e)?n:e)}}function bF(t,e){var n=e-t;return n?wge(t,n):pT(isNaN(t)?e:t)}const Bk=function t(e){var n=xge(e);function r(i,o){var s=n((i=Cb(i)).r,(o=Cb(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=bF(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Ege(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Tge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Sge(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Cu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Age(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function tg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Pge(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var kb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y0=new RegExp(kb.source,"g");function Oge(t){return function(){return t}}function Ige(t){return function(e){return t(e)+""}}function Cge(t,e){var n=kb.lastIndex=Y0.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=kb.exec(t))&&(i=Y0.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:tg(r,i)})),n=Y0.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Ige(l[0].x):Oge(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)a[(h=l[c]).i]=h.x(u);return a.join("")})}function Cu(t,e){var n=typeof e,r;return e==null||n==="boolean"?pT(e):(n==="number"?tg:n==="string"?(r=Gh(e))?(e=r,Bk):Cge:e instanceof Gh?Bk:e instanceof Date?Age:Tge(e)?Ege:Array.isArray(e)?Sge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Pge:tg)(t,e)}function mT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kge(t,e){e===void 0&&(e=t,t=Cu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Rge(t){return function(){return t}}function ng(t){return+t}var zk=[0,1];function _n(t){return t}function Rb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Rge(isNaN(e)?NaN:.5)}function jge(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Nge(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Rb(i,r),o=n(s,o)):(r=Rb(r,i),o=n(o,s)),function(a){return o(r(a))}}function Mge(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Rb(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Kf(t,a,1,r)-1;return o[l](i[l](a))}}function Xf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zy(){var t=zk,e=zk,n=Cu,r,i,o,s=_n,a,l,u;function c(){var f=Math.min(t.length,e.length);return s!==_n&&(s=jge(t[0],t[f-1])),a=f>2?Mge:Nge,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?o:(l||(l=a(t.map(r),e,n)))(r(s(f)))}return h.invert=function(f){return s(i((u||(u=a(e,t.map(r),tg)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,ng),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=mT,c()},h.clamp=function(f){return arguments.length?(s=f?!0:_n,c()):s!==_n},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return r=f,i=p,c()}}function gT(){return Zy()(_n,_n)}function Dge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Xl(t){return t=rg(Math.abs(t)),t?t[1]:NaN}function $ge(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Lge(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xh(t){if(!(e=Vge.exec(t)))throw new Error("invalid format: "+t);var e;return new yT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xh.prototype=yT.prototype;function yT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fge(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xF;function Uge(t,e){var n=rg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(xF=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rg(t,Math.max(0,e+o-1))[0]}function Wk(t,e){var n=rg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Hk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Dge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Wk(t*100,e),r:Wk,s:Uge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qk(t){return t}var Kk=Array.prototype.map,Gk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bge(t){var e=t.grouping===void 0||t.thousands===void 0?qk:$ge(Kk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?qk:Lge(Kk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Xh(h);var f=h.fill,p=h.align,m=h.sign,g=h.symbol,y=h.zero,w=h.width,_=h.comma,v=h.precision,S=h.trim,E=h.type;E==="n"?(_=!0,E="g"):Hk[E]||(v===void 0&&(v=12),S=!0,E="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",x=g==="$"?r:/[%p]/.test(E)?s:"",T=Hk[E],I=/[defgprs%]/.test(E);v=v===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function k(C){var j=A,R=x,V,U,B;if(E==="c")R=T(C)+R,C="";else{C=+C;var H=C<0||1/C<0;if(C=isNaN(C)?l:T(Math.abs(C),v),S&&(C=Fge(C)),H&&+C==0&&m!=="+"&&(H=!1),j=(H?m==="("?m:a:m==="-"||m==="("?"":m)+j,R=(E==="s"?Gk[8+xF/3]:"")+R+(H&&m==="("?")":""),I){for(V=-1,U=C.length;++V<U;)if(B=C.charCodeAt(V),48>B||B>57){R=(B===46?i+C.slice(V+1):C.slice(V))+R,C=C.slice(0,V);break}}}_&&!y&&(C=e(C,1/0));var L=j.length+C.length+R.length,z=L<w?new Array(w-L+1).join(f):"";switch(_&&y&&(C=e(z+C,z.length?w-R.length:1/0),z=""),p){case"<":C=j+C+R+z;break;case"=":C=j+z+C+R;break;case"^":C=z.slice(0,L=z.length>>1)+j+C+R+z.slice(L);break;default:C=z+j+C+R;break}return o(C)}return k.toString=function(){return h+""},k}function c(h,f){var p=u((h=Xh(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Xl(f)/3)))*3,g=Math.pow(10,-m),y=Gk[8+m/3];return function(w){return p(g*w)+y}}return{format:u,formatPrefix:c}}var ep,vT,EF;zge({thousands:",",grouping:[3],currency:["$",""]});function zge(t){return ep=Bge(t),vT=ep.format,EF=ep.formatPrefix,ep}function Wge(t){return Math.max(0,-Xl(Math.abs(t)))}function Hge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xl(e)/3)))*3-Xl(Math.abs(t)))}function qge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xl(e)-Xl(t))+1}function TF(t,e,n,r){var i=Ob(t,e,n),o;switch(r=Xh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Hge(i,s))&&(r.precision=o),EF(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=qge(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Wge(i))&&(r.precision=o-(r.type==="%")*2);break}}return vT(r)}function cs(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ab(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return TF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Pb(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function ig(){var t=gT();return t.copy=function(){return Xf(t,ig())},mr.apply(t,arguments),cs(t)}function SF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ng),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return SF(t).unknown(e)},t=arguments.length?Array.from(t,ng):[0,1],cs(n)}function AF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Xk(t){return Math.log(t)}function Yk(t){return Math.exp(t)}function Kge(t){return-Math.log(-t)}function Gge(t){return-Math.exp(-t)}function Xge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Yge(t){return t===10?Xge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Qge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Qk(t){return(e,n)=>-t(-e,n)}function _T(t){const e=t(Xk,Yk),n=e.domain;let r=10,i,o;function s(){return i=Qge(r),o=Yge(r),n()[0]<0?(i=Qk(i),o=Qk(o),t(Kge,Gge)):t(Xk,Yk),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let f=i(u),p=i(c),m,g;const y=a==null?10:+a;let w=[];if(!(r%1)&&p-f<y){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(m=1;m<r;++m)if(g=f<0?m/o(-f):m*o(f),!(g<u)){if(g>c)break;w.push(g)}}else for(;f<=p;++f)for(m=r-1;m>=1;--m)if(g=f>0?m/o(-f):m*o(f),!(g<u)){if(g>c)break;w.push(g)}w.length*2<y&&(w=Ab(u,c,y))}else w=Ab(f,p,Math.min(p-f,y)).map(o);return h?w.reverse():w},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Xh(l)).precision==null&&(l.trim=!0),l=vT(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},e.nice=()=>n(AF(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function PF(){const t=_T(Zy()).domain([1,10]);return t.copy=()=>Xf(t,PF()).base(t.base()),mr.apply(t,arguments),t}function Jk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Zk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function wT(t){var e=1,n=t(Jk(e),Zk(e));return n.constant=function(r){return arguments.length?t(Jk(e=+r),Zk(e)):e},cs(n)}function OF(){var t=wT(Zy());return t.copy=function(){return Xf(t,OF()).constant(t.constant())},mr.apply(t,arguments)}function eR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Jge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Zge(t){return t<0?-t*t:t*t}function bT(t){var e=t(_n,_n),n=1;function r(){return n===1?t(_n,_n):n===.5?t(Jge,Zge):t(eR(n),eR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},cs(e)}function xT(){var t=bT(Zy());return t.copy=function(){return Xf(t,xT()).exponent(t.exponent())},mr.apply(t,arguments),t}function eye(){return xT.apply(null,arguments).exponent(.5)}function tR(t){return Math.sign(t)*t*t}function tye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function IF(){var t=gT(),e=[0,1],n=!1,r;function i(o){var s=tye(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(tR(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,ng)).map(tR)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return IF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},mr.apply(i,arguments),cs(i)}function CF(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=sge(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Kf(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Fo),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return CF().domain(t).range(e).unknown(r)},mr.apply(o,arguments)}function kF(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Kf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return kF().domain([t,e]).range(i).unknown(o)},mr.apply(cs(s),arguments)}function RF(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Kf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return RF().domain(t).range(e).unknown(n)},mr.apply(i,arguments)}const Q0=new Date,J0=new Date;function kt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>kt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Q0.setTime(+o),J0.setTime(+s),t(Q0),t(J0),Math.floor(n(Q0,J0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const og=kt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);og.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):og);og.range;const Ei=1e3,sr=Ei*60,Ti=sr*60,Hi=Ti*24,ET=Hi*7,nR=Hi*30,Z0=Hi*365,Vs=kt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ei)},(t,e)=>(e-t)/Ei,t=>t.getUTCSeconds());Vs.range;const TT=kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ei)},(t,e)=>{t.setTime(+t+e*sr)},(t,e)=>(e-t)/sr,t=>t.getMinutes());TT.range;const ST=kt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*sr)},(t,e)=>(e-t)/sr,t=>t.getUTCMinutes());ST.range;const AT=kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ei-t.getMinutes()*sr)},(t,e)=>{t.setTime(+t+e*Ti)},(t,e)=>(e-t)/Ti,t=>t.getHours());AT.range;const PT=kt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ti)},(t,e)=>(e-t)/Ti,t=>t.getUTCHours());PT.range;const Yf=kt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*sr)/Hi,t=>t.getDate()-1);Yf.range;const ev=kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hi,t=>t.getUTCDate()-1);ev.range;const jF=kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hi,t=>Math.floor(t/Hi));jF.range;function Ta(t){return kt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*sr)/ET)}const tv=Ta(0),sg=Ta(1),nye=Ta(2),rye=Ta(3),Yl=Ta(4),iye=Ta(5),oye=Ta(6);tv.range;sg.range;nye.range;rye.range;Yl.range;iye.range;oye.range;function Sa(t){return kt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ET)}const nv=Sa(0),ag=Sa(1),sye=Sa(2),aye=Sa(3),Ql=Sa(4),lye=Sa(5),uye=Sa(6);nv.range;ag.range;sye.range;aye.range;Ql.range;lye.range;uye.range;const OT=kt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());OT.range;const IT=kt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());IT.range;const qi=kt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());qi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});qi.range;const Ki=kt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ki.range;function NF(t,e,n,r,i,o){const s=[[Vs,1,Ei],[Vs,5,5*Ei],[Vs,15,15*Ei],[Vs,30,30*Ei],[o,1,sr],[o,5,5*sr],[o,15,15*sr],[o,30,30*sr],[i,1,Ti],[i,3,3*Ti],[i,6,6*Ti],[i,12,12*Ti],[r,1,Hi],[r,2,2*Hi],[n,1,ET],[e,1,nR],[e,3,3*nR],[t,1,Z0]];function a(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const p=h&&typeof h.range=="function"?h:l(u,c,h),m=p?p.range(u,+c+1):[];return f?m.reverse():m}function l(u,c,h){const f=Math.abs(c-u)/h,p=hT(([,,y])=>y).right(s,f);if(p===s.length)return t.every(Ob(u/Z0,c/Z0,h));if(p===0)return og.every(Math.max(Ob(u,c,h),1));const[m,g]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return m.every(g)}return[a,l]}const[cye,hye]=NF(Ki,IT,nv,jF,PT,ST),[fye,dye]=NF(qi,OT,tv,Yf,AT,TT);function e_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function t_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function pye(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=fc(i),c=dc(i),h=fc(o),f=dc(o),p=fc(s),m=dc(s),g=fc(a),y=dc(a),w=fc(l),_=dc(l),v={a:H,A:L,b:z,B:X,c:null,d:lR,e:lR,f:$ye,g:Kye,G:Xye,H:Nye,I:Mye,j:Dye,L:MF,m:Lye,M:Vye,p:Y,q:K,Q:hR,s:fR,S:Fye,u:Uye,U:Bye,V:zye,w:Wye,W:Hye,x:null,X:null,y:qye,Y:Gye,Z:Yye,"%":cR},S={a:ne,A:_e,b:Oe,B:De,c:null,d:uR,e:uR,f:eve,g:cve,G:fve,H:Qye,I:Jye,j:Zye,L:$F,m:tve,M:nve,p:yt,q:Rt,Q:hR,s:fR,S:rve,u:ive,U:ove,V:sve,w:ave,W:lve,x:null,X:null,y:uve,Y:hve,Z:dve,"%":cR},E={a:k,A:C,b:j,B:R,c:V,d:sR,e:sR,f:Cye,g:oR,G:iR,H:aR,I:aR,j:Aye,L:Iye,m:Sye,M:Pye,p:I,q:Tye,Q:Rye,s:jye,S:Oye,u:_ye,U:wye,V:bye,w:vye,W:xye,x:U,X:B,y:oR,Y:iR,Z:Eye,"%":kye};v.x=A(n,v),v.X=A(r,v),v.c=A(e,v),S.x=A(n,S),S.X=A(r,S),S.c=A(e,S);function A(te,ae){return function(se){var G=[],ze=-1,we=0,tt=te.length,at,Yt,Vr;for(se instanceof Date||(se=new Date(+se));++ze<tt;)te.charCodeAt(ze)===37&&(G.push(te.slice(we,ze)),(Yt=rR[at=te.charAt(++ze)])!=null?at=te.charAt(++ze):Yt=at==="e"?" ":"0",(Vr=ae[at])&&(at=Vr(se,Yt)),G.push(at),we=ze+1);return G.push(te.slice(we,ze)),G.join("")}}function x(te,ae){return function(se){var G=hc(1900,void 0,1),ze=T(G,te,se+="",0),we,tt;if(ze!=se.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ae&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(we=t_(hc(G.y,0,1)),tt=we.getUTCDay(),we=tt>4||tt===0?ag.ceil(we):ag(we),we=ev.offset(we,(G.V-1)*7),G.y=we.getUTCFullYear(),G.m=we.getUTCMonth(),G.d=we.getUTCDate()+(G.w+6)%7):(we=e_(hc(G.y,0,1)),tt=we.getDay(),we=tt>4||tt===0?sg.ceil(we):sg(we),we=Yf.offset(we,(G.V-1)*7),G.y=we.getFullYear(),G.m=we.getMonth(),G.d=we.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),tt="Z"in G?t_(hc(G.y,0,1)).getUTCDay():e_(hc(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(tt+5)%7:G.w+G.U*7-(tt+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,t_(G)):e_(G)}}function T(te,ae,se,G){for(var ze=0,we=ae.length,tt=se.length,at,Yt;ze<we;){if(G>=tt)return-1;if(at=ae.charCodeAt(ze++),at===37){if(at=ae.charAt(ze++),Yt=E[at in rR?ae.charAt(ze++):at],!Yt||(G=Yt(te,se,G))<0)return-1}else if(at!=se.charCodeAt(G++))return-1}return G}function I(te,ae,se){var G=u.exec(ae.slice(se));return G?(te.p=c.get(G[0].toLowerCase()),se+G[0].length):-1}function k(te,ae,se){var G=p.exec(ae.slice(se));return G?(te.w=m.get(G[0].toLowerCase()),se+G[0].length):-1}function C(te,ae,se){var G=h.exec(ae.slice(se));return G?(te.w=f.get(G[0].toLowerCase()),se+G[0].length):-1}function j(te,ae,se){var G=w.exec(ae.slice(se));return G?(te.m=_.get(G[0].toLowerCase()),se+G[0].length):-1}function R(te,ae,se){var G=g.exec(ae.slice(se));return G?(te.m=y.get(G[0].toLowerCase()),se+G[0].length):-1}function V(te,ae,se){return T(te,e,ae,se)}function U(te,ae,se){return T(te,n,ae,se)}function B(te,ae,se){return T(te,r,ae,se)}function H(te){return s[te.getDay()]}function L(te){return o[te.getDay()]}function z(te){return l[te.getMonth()]}function X(te){return a[te.getMonth()]}function Y(te){return i[+(te.getHours()>=12)]}function K(te){return 1+~~(te.getMonth()/3)}function ne(te){return s[te.getUTCDay()]}function _e(te){return o[te.getUTCDay()]}function Oe(te){return l[te.getUTCMonth()]}function De(te){return a[te.getUTCMonth()]}function yt(te){return i[+(te.getUTCHours()>=12)]}function Rt(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ae=A(te+="",v);return ae.toString=function(){return te},ae},parse:function(te){var ae=x(te+="",!1);return ae.toString=function(){return te},ae},utcFormat:function(te){var ae=A(te+="",S);return ae.toString=function(){return te},ae},utcParse:function(te){var ae=x(te+="",!0);return ae.toString=function(){return te},ae}}}var rR={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,mye=/^%/,gye=/[\\^$*+?|[\]().{}]/g;function Re(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function yye(t){return t.replace(gye,"\\$&")}function fc(t){return new RegExp("^(?:"+t.map(yye).join("|")+")","i")}function dc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function vye(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _ye(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function wye(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bye(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xye(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function iR(t,e,n){var r=Vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function oR(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Eye(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Tye(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Sye(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function sR(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Aye(t,e,n){var r=Vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function aR(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Pye(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Oye(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Iye(t,e,n){var r=Vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Cye(t,e,n){var r=Vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kye(t,e,n){var r=mye.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Rye(t,e,n){var r=Vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function jye(t,e,n){var r=Vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function lR(t,e){return Re(t.getDate(),e,2)}function Nye(t,e){return Re(t.getHours(),e,2)}function Mye(t,e){return Re(t.getHours()%12||12,e,2)}function Dye(t,e){return Re(1+Yf.count(qi(t),t),e,3)}function MF(t,e){return Re(t.getMilliseconds(),e,3)}function $ye(t,e){return MF(t,e)+"000"}function Lye(t,e){return Re(t.getMonth()+1,e,2)}function Vye(t,e){return Re(t.getMinutes(),e,2)}function Fye(t,e){return Re(t.getSeconds(),e,2)}function Uye(t){var e=t.getDay();return e===0?7:e}function Bye(t,e){return Re(tv.count(qi(t)-1,t),e,2)}function DF(t){var e=t.getDay();return e>=4||e===0?Yl(t):Yl.ceil(t)}function zye(t,e){return t=DF(t),Re(Yl.count(qi(t),t)+(qi(t).getDay()===4),e,2)}function Wye(t){return t.getDay()}function Hye(t,e){return Re(sg.count(qi(t)-1,t),e,2)}function qye(t,e){return Re(t.getFullYear()%100,e,2)}function Kye(t,e){return t=DF(t),Re(t.getFullYear()%100,e,2)}function Gye(t,e){return Re(t.getFullYear()%1e4,e,4)}function Xye(t,e){var n=t.getDay();return t=n>=4||n===0?Yl(t):Yl.ceil(t),Re(t.getFullYear()%1e4,e,4)}function Yye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Re(e/60|0,"0",2)+Re(e%60,"0",2)}function uR(t,e){return Re(t.getUTCDate(),e,2)}function Qye(t,e){return Re(t.getUTCHours(),e,2)}function Jye(t,e){return Re(t.getUTCHours()%12||12,e,2)}function Zye(t,e){return Re(1+ev.count(Ki(t),t),e,3)}function $F(t,e){return Re(t.getUTCMilliseconds(),e,3)}function eve(t,e){return $F(t,e)+"000"}function tve(t,e){return Re(t.getUTCMonth()+1,e,2)}function nve(t,e){return Re(t.getUTCMinutes(),e,2)}function rve(t,e){return Re(t.getUTCSeconds(),e,2)}function ive(t){var e=t.getUTCDay();return e===0?7:e}function ove(t,e){return Re(nv.count(Ki(t)-1,t),e,2)}function LF(t){var e=t.getUTCDay();return e>=4||e===0?Ql(t):Ql.ceil(t)}function sve(t,e){return t=LF(t),Re(Ql.count(Ki(t),t)+(Ki(t).getUTCDay()===4),e,2)}function ave(t){return t.getUTCDay()}function lve(t,e){return Re(ag.count(Ki(t)-1,t),e,2)}function uve(t,e){return Re(t.getUTCFullYear()%100,e,2)}function cve(t,e){return t=LF(t),Re(t.getUTCFullYear()%100,e,2)}function hve(t,e){return Re(t.getUTCFullYear()%1e4,e,4)}function fve(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ql(t):Ql.ceil(t),Re(t.getUTCFullYear()%1e4,e,4)}function dve(){return"+0000"}function cR(){return"%"}function hR(t){return+t}function fR(t){return Math.floor(+t/1e3)}var Va,VF,FF;pve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pve(t){return Va=pye(t),VF=Va.format,Va.parse,FF=Va.utcFormat,Va.utcParse,Va}function mve(t){return new Date(t)}function gve(t){return t instanceof Date?+t:+new Date(+t)}function CT(t,e,n,r,i,o,s,a,l,u){var c=gT(),h=c.invert,f=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),_=u("%b %d"),v=u("%B"),S=u("%Y");function E(A){return(l(A)<A?p:a(A)<A?m:s(A)<A?g:o(A)<A?y:r(A)<A?i(A)<A?w:_:n(A)<A?v:S)(A)}return c.invert=function(A){return new Date(h(A))},c.domain=function(A){return arguments.length?f(Array.from(A,gve)):f().map(mve)},c.ticks=function(A){var x=f();return t(x[0],x[x.length-1],A??10)},c.tickFormat=function(A,x){return x==null?E:u(x)},c.nice=function(A){var x=f();return(!A||typeof A.range!="function")&&(A=e(x[0],x[x.length-1],A??10)),A?f(AF(x,A)):c},c.copy=function(){return Xf(c,CT(t,e,n,r,i,o,s,a,l,u))},c}function yve(){return mr.apply(CT(fye,dye,qi,OT,tv,Yf,AT,TT,Vs,VF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vve(){return mr.apply(CT(cye,hye,Ki,IT,nv,ev,PT,ST,Vs,FF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rv(){var t=0,e=1,n,r,i,o,s=_n,a=!1,l;function u(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(o(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(a=!!h,u):a},u.interpolator=function(h){return arguments.length?(s=h,u):s};function c(h){return function(f){var p,m;return arguments.length?([p,m]=f,s=h(p,m),u):[s(0),s(1)]}}return u.range=c(Cu),u.rangeRound=c(mT),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function hs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UF(){var t=cs(rv()(_n));return t.copy=function(){return hs(t,UF())},Zi.apply(t,arguments)}function BF(){var t=_T(rv()).domain([1,10]);return t.copy=function(){return hs(t,BF()).base(t.base())},Zi.apply(t,arguments)}function zF(){var t=wT(rv());return t.copy=function(){return hs(t,zF()).constant(t.constant())},Zi.apply(t,arguments)}function kT(){var t=bT(rv());return t.copy=function(){return hs(t,kT()).exponent(t.exponent())},Zi.apply(t,arguments)}function _ve(){return kT.apply(null,arguments).exponent(.5)}function WF(){var t=[],e=_n;function n(r){if(r!=null&&!isNaN(r=+r))return e((Kf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Fo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>oge(t,o/r))},n.copy=function(){return WF(e).domain(t)},Zi.apply(n,arguments)}function iv(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=_n,c,h=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(y){var w,_,v;return arguments.length?([w,_,v]=y,u=kge(g,[w,_,v]),p):[u(0),u(.5),u(1)]}}return p.range=m(Cu),p.rangeRound=m(mT),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return c=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function HF(){var t=cs(iv()(_n));return t.copy=function(){return hs(t,HF())},Zi.apply(t,arguments)}function qF(){var t=_T(iv()).domain([.1,1,10]);return t.copy=function(){return hs(t,qF()).base(t.base())},Zi.apply(t,arguments)}function KF(){var t=wT(iv());return t.copy=function(){return hs(t,KF()).constant(t.constant())},Zi.apply(t,arguments)}function RT(){var t=bT(iv());return t.copy=function(){return hs(t,RT()).exponent(t.exponent())},Zi.apply(t,arguments)}function wve(){return RT.apply(null,arguments).exponent(.5)}const dR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hh,scaleDiverging:HF,scaleDivergingLog:qF,scaleDivergingPow:RT,scaleDivergingSqrt:wve,scaleDivergingSymlog:KF,scaleIdentity:SF,scaleImplicit:Ib,scaleLinear:ig,scaleLog:PF,scaleOrdinal:fT,scalePoint:th,scalePow:xT,scaleQuantile:CF,scaleQuantize:kF,scaleRadial:IF,scaleSequential:UF,scaleSequentialLog:BF,scaleSequentialPow:kT,scaleSequentialQuantile:WF,scaleSequentialSqrt:_ve,scaleSequentialSymlog:zF,scaleSqrt:eye,scaleSymlog:OF,scaleThreshold:RF,scaleTime:yve,scaleUtc:vve,tickFormat:TF},Symbol.toStringTag,{value:"Module"}));var bve=xu;function xve(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!bve(s):n(s,a)))var a=s,l=o}return l}var GF=xve;function Eve(t,e){return t>e}var Tve=Eve,Sve=GF,Ave=Tve,Pve=Iu;function Ove(t){return t&&t.length?Sve(t,Pve,Ave):void 0}var Ive=Ove;const ov=Be(Ive);function Cve(t,e){return t<e}var kve=Cve,Rve=GF,jve=kve,Nve=Iu;function Mve(t){return t&&t.length?Rve(t,Nve,jve):void 0}var Dve=Mve;const sv=Be(Dve);var $ve=qE,Lve=us,Vve=tF,Fve=Mn;function Uve(t,e){var n=Fve(t)?$ve:Vve;return n(t,Lve(e))}var Bve=Uve,zve=Z4,Wve=Bve;function Hve(t,e){return zve(Wve(t,e),1)}var qve=Hve;const Kve=Be(qve);var Gve=aT;function Xve(t,e){return Gve(t,e)}var Yve=Xve;const av=Be(Yve);var ku=1e9,Qve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NT,et=!0,dr="[DecimalError] ",Ks=dr+"Invalid argument: ",jT=dr+"Exponent out of range: ",Ru=Math.floor,Cs=Math.pow,Jve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bn,Mt=1e7,Qe=7,XF=9007199254740991,lg=Ru(XF/Qe),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(t){return Ni(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,n=e.constructor;return Ue(Ni(e,new n(t),0,1),n.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return xt(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Bn))throw Error(dr+"NaN");if(n.s<1)throw Error(dr+(n.s?"NaN":"-Infinity"));return n.eq(Bn)?new r(0):(et=!1,e=Ni(Yh(n,o),Yh(t,o),o),et=!0,Ue(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JF(e,t):YF(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(dr+"NaN");return n.s?(et=!1,e=Ni(n,t,0,1).times(t),et=!0,n.minus(e)):Ue(new r(n),i)};oe.naturalExponential=oe.exp=function(){return QF(this)};oe.naturalLogarithm=oe.ln=function(){return Yh(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YF(e,t):JF(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ks+t);if(e=xt(i)+1,r=i.d.length-1,n=r*Qe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};oe.squareRoot=oe.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(dr+"NaN")}for(t=xt(a),et=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Hr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ru((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Ni(a,o,s+2)).times(.5),Hr(o.d).slice(0,s)===(e=Hr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ue(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return et=!0,Ue(r,n)};oe.times=oe.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,h=c.constructor,f=c.d,p=(t=new h(t)).d;if(!c.s||!t.s)return new h(0);for(t.s*=c.s,n=c.e+t.e,l=f.length,u=p.length,l<u&&(o=f,f=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*f[i-r-1]+e,o[i--]=a%Mt|0,e=a/Mt|0;o[i]=(o[i]+e)%Mt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,et?Ue(t,h.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(oi(t,0,ku),e===void 0?e=r.rounding:oi(e,0,8),Ue(n,t+xt(n)+1,e))};oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=la(r,!0):(oi(t,0,ku),e===void 0?e=i.rounding:oi(e,0,8),r=Ue(new i(r),t+1,e),n=la(r,!0,t+1)),n};oe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?la(i):(oi(t,0,ku),e===void 0?e=o.rounding:oi(e,0,8),r=Ue(new o(i),t+xt(i)+1,e),n=la(r.abs(),!1,t+xt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return Ue(new e(t),xt(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Bn);if(a=new l(a),!a.s){if(t.s<1)throw Error(dr+"Infinity");return a}if(a.eq(Bn))return a;if(r=l.precision,t.eq(Bn))return Ue(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=XF){for(i=new l(Bn),e=Math.ceil(r/Qe+4),et=!1;n%2&&(i=i.times(a),mR(i.d,e)),n=Ru(n/2),n!==0;)a=a.times(a),mR(a.d,e);return et=!0,t.s<0?new l(Bn).div(i):Ue(i,r)}}else if(o<0)throw Error(dr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,et=!1,i=t.times(Yh(a,r+u)),et=!0,i=QF(i),i.s=o,i};oe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=xt(i),r=la(i,n<=o.toExpNeg||n>=o.toExpPos)):(oi(t,1,ku),e===void 0?e=o.rounding:oi(e,0,8),i=Ue(new o(i),t,e),n=xt(i),r=la(i,t<=n||n<=o.toExpNeg,t)),r};oe.toSignificantDigits=oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(oi(t,1,ku),e===void 0?e=r.rounding:oi(e,0,8)),Ue(new r(n),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=xt(t),n=t.constructor;return la(t,e<=n.toExpNeg||e>=n.toExpPos)};function YF(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,h=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),et?Ue(e,h):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(h/Qe),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Mt|0,l[o]%=Mt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,et?Ue(e,h):e}function oi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ks+t)}function Hr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Qe-r.length,n&&(o+=fo(n)),o+=r;s=t[e],r=s+"",n=Qe-r.length,n&&(o+=fo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ni=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Mt|0,s=o/Mt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Mt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,h,f,p,m,g,y,w,_,v,S,E,A,x,T,I=r.constructor,k=r.s==i.s?1:-1,C=r.d,j=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(dr+"Division by zero");for(l=r.e-i.e,x=j.length,E=C.length,p=new I(k),m=p.d=[],u=0;j[u]==(C[u]||0);)++u;if(j[u]>(C[u]||0)&&--l,o==null?_=o=I.precision:s?_=o+(xt(r)-xt(i))+1:_=o,_<0)return new I(0);if(_=_/Qe+2|0,u=0,x==1)for(c=0,j=j[0],_++;(u<E||c)&&_--;u++)v=c*Mt+(C[u]||0),m[u]=v/j|0,c=v%j|0;else{for(c=Mt/(j[0]+1)|0,c>1&&(j=t(j,c),C=t(C,c),x=j.length,E=C.length),S=x,g=C.slice(0,x),y=g.length;y<x;)g[y++]=0;T=j.slice(),T.unshift(0),A=j[0],j[1]>=Mt/2&&++A;do c=0,a=e(j,g,x,y),a<0?(w=g[0],x!=y&&(w=w*Mt+(g[1]||0)),c=w/A|0,c>1?(c>=Mt&&(c=Mt-1),h=t(j,c),f=h.length,y=g.length,a=e(h,g,f,y),a==1&&(c--,n(h,x<f?T:j,f))):(c==0&&(a=c=1),h=j.slice()),f=h.length,f<y&&h.unshift(0),n(g,h,y),a==-1&&(y=g.length,a=e(j,g,x,y),a<1&&(c++,n(g,x<y?T:j,y))),y=g.length):a===0&&(c++,g=[0]),m[u++]=c,a&&g[0]?g[y++]=C[S]||0:(g=[C[S]],y=1);while((S++<E||g[0]!==void 0)&&_--)}return m[0]||m.shift(),p.e=l,Ue(p,s?o+xt(p)+1:o)}}();function QF(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,h=c.precision;if(xt(t)>16)throw Error(jT+xt(t));if(!t.s)return new c(Bn);for(e==null?(et=!1,a=h):a=e,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Cs(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Bn),c.precision=a;;){if(i=Ue(i.times(t),a),n=n.times(++l),s=o.plus(Ni(i,n,a)),Hr(s.d).slice(0,a)===Hr(o.d).slice(0,a)){for(;u--;)o=Ue(o.times(o),a);return c.precision=h,e==null?(et=!0,Ue(o,h)):o}o=s}}function xt(t){for(var e=t.e*Qe,n=t.d[0];n>=10;n/=10)e++;return e}function n_(t,e,n){if(e>t.LN10.sd())throw et=!0,n&&(t.precision=n),Error(dr+"LN10 precision limit exceeded");return Ue(new t(t.LN10),e)}function fo(t){for(var e="";t--;)e+="0";return e}function Yh(t,e){var n,r,i,o,s,a,l,u,c,h=1,f=10,p=t,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(dr+(p.s?"NaN":"-Infinity"));if(p.eq(Bn))return new g(0);if(e==null?(et=!1,u=y):u=e,p.eq(10))return e==null&&(et=!0),n_(g,u);if(u+=f,g.precision=u,n=Hr(m),r=n.charAt(0),o=xt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Hr(p.d),r=n.charAt(0),h++;o=xt(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=n_(g,u+2,y).times(o+""),p=Yh(new g(r+"."+n.slice(1)),u-f).plus(l),g.precision=y,e==null?(et=!0,Ue(p,y)):p;for(a=s=p=Ni(p.minus(Bn),p.plus(Bn),u),c=Ue(p.times(p),u),i=3;;){if(s=Ue(s.times(c),u),l=a.plus(Ni(s,new g(i),u)),Hr(l.d).slice(0,u)===Hr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(n_(g,u+2,y).times(o+""))),a=Ni(a,new g(h),u),g.precision=y,e==null?(et=!0,Ue(a,y)):a;a=l,i+=2}}function pR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ru(n/Qe),t.d=[],r=(n+1)%Qe,n<0&&(r+=Qe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Qe;r<i;)t.d.push(+e.slice(r,r+=Qe));e=e.slice(r),r=Qe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),et&&(t.e>lg||t.e<-lg))throw Error(jT+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ue(t,e,n){var r,i,o,s,a,l,u,c,h=t.d;for(s=1,o=h[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Qe,i=e,u=h[c=0];else{if(c=Math.ceil((r+1)/Qe),o=h.length,c>=o)return t;for(u=o=h[c],s=1;o>=10;o/=10)s++;r%=Qe,i=r-Qe+s}if(n!==void 0&&(o=Cs(10,s-i-1),a=u/o%10|0,l=e<0||h[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Cs(10,s-i):0:h[c-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(o=xt(t),h.length=1,e=e-o-1,h[0]=Cs(10,(Qe-e%Qe)%Qe),t.e=Ru(-e/Qe)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=c,o=1,c--):(h.length=c+1,o=Cs(10,Qe-r),h[c]=i>0?(u/Cs(10,s-i)%Cs(10,i)|0)*o:0),l)for(;;)if(c==0){(h[0]+=o)==Mt&&(h[0]=1,++t.e);break}else{if(h[c]+=o,h[c]!=Mt)break;h[c--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(et&&(t.e>lg||t.e<-lg))throw Error(jT+xt(t));return t}function JF(t,e){var n,r,i,o,s,a,l,u,c,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),et?Ue(e,p):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=h.length):(n=h,r=u,a=l.length),i=Math.max(Math.ceil(p/Qe),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=h.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=h[i]){c=l[i]<h[i];break}s=0}for(c&&(n=l,l=h,h=n,e.s=-e.s),a=l.length,i=h.length-a;i>0;--i)l[a++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(o=i;o&&l[--o]===0;)l[o]=Mt-1;--l[o],l[i]+=Mt}l[i]-=h[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,et?Ue(e,p):e):new f(0)}function la(t,e,n){var r,i=xt(t),o=Hr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+fo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+fo(-i-1)+o,n&&(r=n-s)>0&&(o+=fo(r))):i>=s?(o+=fo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+fo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=fo(r))),t.s<0?"-"+o:o}function mR(t,e){if(t.length>e)return t.length=e,!0}function ZF(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ks+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return pR(s,o.toString())}else if(typeof o!="string")throw Error(Ks+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Jve.test(o))pR(s,o);else throw Error(Ks+o)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZF,i.config=i.set=Zve,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Zve(t){if(!t||typeof t!="object")throw Error(dr+"Object expected");var e,n,r,i=["precision",1,ku,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ru(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ks+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ks+n+": "+r);return this}var NT=ZF(Qve);Bn=new NT(1);const Ve=NT;function e0e(t){return i0e(t)||r0e(t)||n0e(t)||t0e()}function t0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n0e(t,e){if(t){if(typeof t=="string")return jb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jb(t,e)}}function r0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function i0e(t){if(Array.isArray(t))return jb(t)}function jb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o0e=function(e){return e},eU={"@@functional/placeholder":!0},tU=function(e){return e===eU},gR=function(e){return function n(){return arguments.length===0||arguments.length===1&&tU(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},s0e=function t(e,n){return e===1?n:gR(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==eU}).length;return s>=e?n.apply(void 0,i):t(e-s,gR(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(h){return tU(h)?l.shift():h});return n.apply(void 0,e0e(c).concat(l))}))})},lv=function(e){return s0e(e.length,e)},Nb=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},a0e=lv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),l0e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return o0e;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},Mb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nU=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function u0e(t){var e;return t===0?e=1:e=Math.floor(new Ve(t).abs().log(10).toNumber())+1,e}function c0e(t,e,n){for(var r=new Ve(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var h0e=lv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),f0e=lv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),d0e=lv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const uv={rangeStep:c0e,getDigitCount:u0e,interpolateNumber:h0e,uninterpolateNumber:f0e,uninterpolateTruncation:d0e};function Db(t){return g0e(t)||m0e(t)||rU(t)||p0e()}function p0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function g0e(t){if(Array.isArray(t))return $b(t)}function Qh(t,e){return _0e(t)||v0e(t,e)||rU(t,e)||y0e()}function y0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rU(t,e){if(t){if(typeof t=="string")return $b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $b(t,e)}}function $b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v0e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function _0e(t){if(Array.isArray(t))return t}function iU(t){var e=Qh(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function oU(t,e,n){if(t.lte(0))return new Ve(0);var r=uv.getDigitCount(t.toNumber()),i=new Ve(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Ve(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Ve(Math.ceil(l))}function w0e(t,e,n){var r=1,i=new Ve(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ve(10).pow(uv.getDigitCount(t)-1),i=new Ve(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ve(Math.floor(t)))}else t===0?i=new Ve(Math.floor((e-1)/2)):n||(i=new Ve(Math.floor(t)));var s=Math.floor((e-1)/2),a=l0e(a0e(function(l){return i.add(new Ve(l-s).mul(r)).toNumber()}),Nb);return a(0,e)}function sU(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var o=oU(new Ve(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ve(0):(s=new Ve(t).add(e).div(2),s=s.sub(new Ve(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Ve(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?sU(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Ve(a).mul(o)),tickMax:s.add(new Ve(l).mul(o))})}function b0e(t){var e=Qh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=iU([n,r]),l=Qh(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var h=c===1/0?[u].concat(Db(Nb(0,i-1).map(function(){return 1/0}))):[].concat(Db(Nb(0,i-1).map(function(){return-1/0})),[c]);return n>r?Mb(h):h}if(u===c)return w0e(u,i,o);var f=sU(u,c,s,o),p=f.step,m=f.tickMin,g=f.tickMax,y=uv.rangeStep(m,g.add(new Ve(.1).mul(p)),p);return n>r?Mb(y):y}function x0e(t,e){var n=Qh(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=iU([r,i]),a=Qh(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),h=oU(new Ve(u).sub(l).div(c-1),o,0),f=[].concat(Db(uv.rangeStep(new Ve(l),new Ve(u).sub(new Ve(.99).mul(h)),h)),[u]);return r>i?Mb(f):f}var E0e=nU(b0e),T0e=nU(x0e),S0e="Invariant failed";function ua(t,e){throw new Error(S0e)}var A0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(this,arguments)}function P0e(t,e){return k0e(t)||C0e(t,e)||I0e(t,e)||O0e()}function O0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I0e(t,e){if(t){if(typeof t=="string")return yR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yR(t,e)}}function yR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function k0e(t){if(Array.isArray(t))return t}function R0e(t,e){if(t==null)return{};var n=j0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uU(r.key),r)}}function D0e(t,e,n){return e&&M0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $0e(t,e,n){return e=cg(e),L0e(t,aU()?Reflect.construct(e,n||[],cg(t).constructor):e.apply(t,n))}function L0e(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V0e(t)}function V0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aU=function(){return!!t})()}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cg(t)}function F0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lb(t,e)}function Lb(t,e){return Lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lb(t,e)}function lU(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=U0e(t,"string");return Jl(e)=="symbol"?e:e+""}function U0e(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qf=function(t){function e(){return N0e(this,e),$0e(this,e,arguments)}return F0e(e,t),D0e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,h=r.yAxis,f=R0e(r,A0e),p=Ae(f,!1);this.props.direction==="x"&&c.type!=="number"&&ua();var m=l.map(function(g){var y=u(g,a),w=y.x,_=y.y,v=y.value,S=y.errorVal;if(!S)return null;var E=[],A,x;if(Array.isArray(S)){var T=P0e(S,2);A=T[0],x=T[1]}else A=x=S;if(o==="vertical"){var I=c.scale,k=_+i,C=k+s,j=k-s,R=I(v-A),V=I(v+x);E.push({x1:V,y1:C,x2:V,y2:j}),E.push({x1:R,y1:k,x2:V,y2:k}),E.push({x1:R,y1:C,x2:R,y2:j})}else if(o==="horizontal"){var U=h.scale,B=w+i,H=B-s,L=B+s,z=U(v-A),X=U(v+x);E.push({x1:H,y1:X,x2:L,y2:X}),E.push({x1:B,y1:z,x2:B,y2:X}),E.push({x1:H,y1:z,x2:L,y2:z})}return D.createElement(gt,ug({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},p),E.map(function(Y){return D.createElement("line",ug({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return D.createElement(gt,{className:"recharts-errorBars"},m)}}])}(D.Component);lU(Qf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lU(Qf,"displayName","ErrorBar");function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){B0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B0e(t,e,n){return e=z0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z0e(t){var e=W0e(t,"string");return Jh(e)=="symbol"?e:e+""}function W0e(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cU=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Fn(n,Hs);if(!s)return null;var a=Hs.defaultProps,l=a!==void 0?ws(ws({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,h){var f=h.item,p=h.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:s.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var h=c.item,f=h.type.defaultProps,p=f!==void 0?ws(ws({},f),h.props):{},m=p.dataKey,g=p.name,y=p.legendType,w=p.hide;return{inactive:w,dataKey:m,type:l.iconType||y||"square",color:MT(h),value:g||m,payload:p}}),ws(ws(ws({},l),Hs.getWithHeight(s,i)),{},{payload:u,item:s})};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function _R(t){return G0e(t)||K0e(t)||q0e(t)||H0e()}function H0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q0e(t,e){if(t){if(typeof t=="string")return Vb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vb(t,e)}}function K0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G0e(t){if(Array.isArray(t))return Vb(t)}function Vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){Al(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Al(t,e,n){return e=X0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X0e(t){var e=Y0e(t,"string");return Zh(e)=="symbol"?e:e+""}function Y0e(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kn(t,e,n){return xe(t)||xe(e)?n:Ot(e)?ur(t,e,n):ye(e)?e(t):n}function nh(t,e,n,r){var i=Kve(t,function(a){return Kn(a,e)});if(n==="number"){var o=i.filter(function(a){return ee(a)||parseFloat(a)});return o.length?[sv(o),ov(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!xe(a)}):i;return s.map(function(a){return Ot(a)||a instanceof Date?a:""})}var Q0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,h=i[u].coordinate,f=u>=a-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(jr(h-c)!==jr(f-h)){var m=[];if(jr(f-h)===jr(l[1]-l[0])){p=f;var g=h+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var y=f+l[1]-l[0];m[0]=Math.min(h,(y+h)/2),m[1]=Math.max(h,(y+h)/2)}var w=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){s=i[u].index;break}}else{var _=Math.min(c,f),v=Math.max(c,f);if(e>(_+h)/2&&e<=(v+h)/2){s=i[u].index;break}}}else for(var S=0;S<a;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<a-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===a-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){s=r[S].index;break}return s},MT=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ct(ct({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},J0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,h=Object.keys(c),f=0,p=h.length;f<p;f++){var m=c[h[f]],g=m.items,y=m.cateAxisId,w=g.filter(function(x){return ki(x.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,v=_!==void 0?ct(ct({},_),w[0].props):w[0].props,S=v.barSize,E=v[y];s[E]||(s[E]=[]);var A=xe(S)?n:S;s[E].push({item:w[0],stackList:w.slice(1),barSize:xe(A)?void 0:aa(A,r,0)})}}return s},Z0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=aa(n,i,0,!0),c,h=[];if(s[0].barSize===+s[0].barSize){var f=!1,p=i/l,m=s.reduce(function(S,E){return S+E.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(f=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,y={offset:g-u,size:0};c=s.reduce(function(S,E){var A={item:E.item,position:{offset:y.offset+y.size+u,size:f?p:E.barSize}},x=[].concat(_R(S),[A]);return y=x[x.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){x.push({item:T,position:y})}),x},h)}else{var w=aa(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var _=(i-2*w-(l-1)*u)/l;_>1&&(_>>=0);var v=a===+a?Math.min(_,a):_;c=s.reduce(function(S,E,A){var x=[].concat(_R(S),[{item:E.item,position:{offset:w+(_+u)*A+(_-v)/2,size:v}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){x.push({item:T,position:x[x.length-1].position})}),x},h)}return c},e_e=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=cU({children:o,legendWidth:l});if(u){var c=i||{},h=c.width,f=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ee(e[p]))return ct(ct({},e),{},Al({},p,e[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ee(e[m]))return ct(ct({},e),{},Al({},m,e[m]+(f||0)))}return e},t_e=function(e,n,r){return xe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},hU=function(e,n,r,i,o){var s=n.props.children,a=cr(s,Qf).filter(function(u){return t_e(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var h=Kn(c,r);if(xe(h))return u;var f=Array.isArray(h)?[sv(h),ov(h)]:[h,h],p=l.reduce(function(m,g){var y=Kn(c,g,0),w=f[0]-Math.abs(Array.isArray(y)?y[0]:y),_=f[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,m[0]),Math.max(_,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},n_e=function(e,n,r,i,o){var s=n.map(function(a){return hU(e,a,r,o,i)}).filter(function(a){return!xe(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},fU=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&hU(e,l,u,i)||nh(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,h=u.length;c<h;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},dU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},pU=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},Si=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?jr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(h){var f=o?o.indexOf(h):h;return{coordinate:i(f)+u,value:h,offset:u}});return c.filter(function(h){return!Wf(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+u,value:h,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,f){return{coordinate:i(h)+u,value:o?o[h]:h,index:f,offset:u}})},r_=new WeakMap,tp=function(e,n){if(typeof n!="function")return e;r_.has(e)||r_.set(e,new WeakMap);var r=r_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},r_e=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Hh(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:ig(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:th(),realScaleType:"point"}:o==="category"?{scale:Hh(),realScaleType:"band"}:{scale:ig(),realScaleType:"linear"};if(sa(i)){var l="scale".concat(qy(i));return{scale:(dR[l]||th)(),realScaleType:dR[l]?l:"point"}}return ye(i)?{scale:i}:{scale:th(),realScaleType:"point"}},bR=1e-4,i_e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-bR,s=Math.max(i[0],i[1])+bR,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},o_e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},s_e=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(o[0]=r),(!ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},a_e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Wf(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},l_e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Wf(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},u_e={sign:a_e,expand:Tse,none:Wl,silhouette:Sse,wiggle:Ase,positive:l_e},c_e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=u_e[r],s=Ese().keys(i).value(function(a,l){return+Kn(a,l,0)}).order(cb).offset(o);return s(e)},h_e=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(h,f){var p,m=(p=f.type)!==null&&p!==void 0&&p.defaultProps?ct(ct({},f.type.defaultProps),f.props):f.props,g=m.stackId,y=m.hide;if(y)return h;var w=m[r],_=h[w]||{hasStack:!1,stackGroups:{}};if(Ot(g)){var v=_.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};v.items.push(f),_.hasStack=!0,_.stackGroups[g]=v}else _.stackGroups[Hf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return ct(ct({},h),{},Al({},w,_))},l),c={};return Object.keys(u).reduce(function(h,f){var p=u[f];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var w=p.stackGroups[y];return ct(ct({},g),{},Al({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:c_e(e,w.items,o)}))},m)}return ct(ct({},h),{},Al({},f,p))},c)},f_e=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=E0e(u,o,a);return e.domain([sv(c),ov(c)]),{niceTicks:c}}if(o&&i==="number"){var h=e.domain(),f=T0e(h,o,a);return{niceTicks:f}}return null};function xR(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xe(i[e.dataKey])){var a=Mm(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Kn(i,xe(s)?e.dataKey:s);return xe(l)?null:e.scale(l)}var ER=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Kn(s,n.dataKey,n.domain[a]);return xe(l)?null:n.scale(l)-o/2+i},d_e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},p_e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ct(ct({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ot(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},m_e=function(e){return e.reduce(function(n,r){return[sv(r.concat([n[0]]).filter(ee)),ov(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},mU=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var h=m_e(c.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},TR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fb=function(e,n,r){if(ye(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(TR.test(e[0])){var o=+TR.exec(e[0])[1];i[0]=n[0]-o}else ye(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(SR.test(e[1])){var s=+SR.exec(e[1])[1];i[1]=n[1]+s}else ye(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},hg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=uT(n,function(h){return h.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},AR=function(e,n,r){return!e||!e.length||av(e,ur(r,"type.defaultProps.domain"))?n:e},gU=function(e,n){var r=e.type.defaultProps?ct(ct({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return ct(ct({},Ae(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:MT(e),value:Kn(n,i),type:l,payload:n,chartType:u,hide:c})};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){g_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g_e(t,e,n){return e=y_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y_e(t){var e=v_e(t,"string");return ef(e)=="symbol"?e:e+""}function v_e(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fg=Math.PI/180,__e=function(e){return e*180/Math.PI},Ht=function(e,n,r,i){return{x:e+Math.cos(-fg*i)*r,y:n+Math.sin(-fg*i)*r}},w_e=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},b_e=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=w_e({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:__e(u),angleInRadian:u}},x_e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},E_e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},IR=function(e,n){var r=e.x,i=e.y,o=b_e({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=x_e(n),h=c.startAngle,f=c.endAngle,p=a,m;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}return m?OR(OR({},n),{},{radius:s,angle:E_e(p,n)}):null};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}var T_e=["offset"];function S_e(t){return I_e(t)||O_e(t)||P_e(t)||A_e()}function A_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P_e(t,e){if(t){if(typeof t=="string")return Ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ub(t,e)}}function O_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I_e(t){if(Array.isArray(t))return Ub(t)}function Ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C_e(t,e){if(t==null)return{};var n=k_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){R_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R_e(t,e,n){return e=j_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_e(t){var e=N_e(t,"string");return tf(e)=="symbol"?e:e+""}function N_e(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(this,arguments)}var M_e=function(e){var n=e.value,r=e.formatter,i=xe(e.children)?n:e.children;return ye(r)?r(i):i},D_e=function(e,n){var r=jr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},$_e=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,h=l.innerRadius,f=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,y=(h+f)/2,w=D_e(p,m),_=w>=0?1:-1,v,S;i==="insideStart"?(v=p+_*s,S=g):i==="insideEnd"?(v=m-_*s,S=!g):i==="end"&&(v=m+_*s,S=g),S=w<=0?S:!S;var E=Ht(u,c,y,v),A=Ht(u,c,y,v+(S?1:-1)*359),x="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(A.x,",").concat(A.y),T=xe(e.id)?Hf("recharts-radial-line-"):e.id;return D.createElement("text",nf({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",a)}),D.createElement("defs",null,D.createElement("path",{id:T,d:x})),D.createElement("textPath",{xlinkHref:"#".concat(T)},n))},L_e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,h=o.endAngle,f=(c+h)/2;if(i==="outside"){var p=Ht(s,a,u+r,f),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,w=Ht(s,a,y,f),_=w.x,v=w.y;return{x:_,y:v,textAnchor:"middle",verticalAnchor:"middle"}},V_e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,h=c>=0?1:-1,f=h*i,p=h>0?"end":"start",m=h>0?"start":"end",g=u>=0?1:-1,y=g*i,w=g>0?"end":"start",_=g>0?"start":"end";if(o==="top"){var v={x:a+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:p};return Tt(Tt({},v),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var S={x:a+u/2,y:l+c+f,textAnchor:"middle",verticalAnchor:m};return Tt(Tt({},S),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var E={x:a-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Tt(Tt({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(o==="right"){var A={x:a+u+y,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Tt(Tt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var x=r?{width:u,height:c}:{};return o==="insideLeft"?Tt({x:a+y,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},x):o==="insideRight"?Tt({x:a+u-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},x):o==="insideTop"?Tt({x:a+u/2,y:l+f,textAnchor:"middle",verticalAnchor:m},x):o==="insideBottom"?Tt({x:a+u/2,y:l+c-f,textAnchor:"middle",verticalAnchor:p},x):o==="insideTopLeft"?Tt({x:a+y,y:l+f,textAnchor:_,verticalAnchor:m},x):o==="insideTopRight"?Tt({x:a+u-y,y:l+f,textAnchor:w,verticalAnchor:m},x):o==="insideBottomLeft"?Tt({x:a+y,y:l+c-f,textAnchor:_,verticalAnchor:p},x):o==="insideBottomRight"?Tt({x:a+u-y,y:l+c-f,textAnchor:w,verticalAnchor:p},x):Eu(o)&&(ee(o.x)||$s(o.x))&&(ee(o.y)||$s(o.y))?Tt({x:a+aa(o.x,u),y:l+aa(o.y,c),textAnchor:"end",verticalAnchor:"end"},x):Tt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)},F_e=function(e){return"cx"in e&&ee(e.cx)};function cn(t){var e=t.offset,n=e===void 0?5:e,r=C_e(t,T_e),i=Tt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,h=c===void 0?"":c,f=i.textBreakAll;if(!o||xe(a)&&xe(l)&&!M.isValidElement(u)&&!ye(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var p;if(ye(u)){if(p=M.createElement(u,i),M.isValidElement(p))return p}else p=M_e(i);var m=F_e(o),g=Ae(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return $_e(i,p,g);var y=m?L_e(i):V_e(i);return D.createElement(Qm,nf({className:Ce("recharts-label",h)},g,y,{breakAll:f}),p)}cn.displayName="Label";var yU=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,h=e.x,f=e.y,p=e.top,m=e.left,g=e.width,y=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(ee(g)&&ee(y)){if(ee(h)&&ee(f))return{x:h,y:f,width:g,height:y};if(ee(p)&&ee(m))return{x:p,y:m,width:g,height:y}}return ee(h)&&ee(f)?{x:h,y:f,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:w}:e.viewBox?e.viewBox:{}},U_e=function(e,n){return e?e===!0?D.createElement(cn,{key:"label-implicit",viewBox:n}):Ot(e)?D.createElement(cn,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===cn?M.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(cn,{key:"label-implicit",content:e,viewBox:n}):ye(e)?D.createElement(cn,{key:"label-implicit",content:e,viewBox:n}):Eu(e)?D.createElement(cn,nf({viewBox:n},e,{key:"label-implicit"})):null:null},B_e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=yU(e),s=cr(i,cn).map(function(l,u){return M.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=U_e(e.label,n||o);return[a].concat(S_e(s))};cn.parseViewBox=yU;cn.renderCallByParent=B_e;function z_e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var W_e=z_e;const H_e=Be(W_e);function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}var q_e=["valueAccessor"],K_e=["data","dataKey","clockWise","id","textBreakAll"];function G_e(t){return J_e(t)||Q_e(t)||Y_e(t)||X_e()}function X_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y_e(t,e){if(t){if(typeof t=="string")return Bb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bb(t,e)}}function Q_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J_e(t){if(Array.isArray(t))return Bb(t)}function Bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(this,arguments)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){Z_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z_e(t,e,n){return e=ewe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ewe(t){var e=twe(t,"string");return rf(e)=="symbol"?e:e+""}function twe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jR(t,e){if(t==null)return{};var n=nwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rwe=function(e){return Array.isArray(e.value)?H_e(e.value):e.value};function Uo(t){var e=t.valueAccessor,n=e===void 0?rwe:e,r=jR(t,q_e),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=jR(r,K_e);return!i||!i.length?null:D.createElement(gt,{className:"recharts-label-list"},i.map(function(c,h){var f=xe(o)?n(c,h):Kn(c&&c.payload,o),p=xe(a)?{}:{id:"".concat(a,"-").concat(h)};return D.createElement(cn,dg({},Ae(c,!0),u,p,{parentViewBox:c.parentViewBox,value:f,textBreakAll:l,viewBox:cn.parseViewBox(xe(s)?c:RR(RR({},c),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}Uo.displayName="LabelList";function iwe(t,e){return t?t===!0?D.createElement(Uo,{key:"labelList-implicit",data:e}):D.isValidElement(t)||ye(t)?D.createElement(Uo,{key:"labelList-implicit",data:e,content:t}):Eu(t)?D.createElement(Uo,dg({data:e},t,{key:"labelList-implicit"})):null:null}function owe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=cr(r,Uo).map(function(s,a){return M.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=iwe(t.label,e);return[o].concat(G_e(i))}Uo.renderCallByParent=owe;function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(this,arguments)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){swe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function swe(t,e,n){return e=awe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function awe(t){var e=lwe(t,"string");return of(e)=="symbol"?e:e+""}function lwe(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uwe=function(e,n){var r=jr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},np=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,h=Math.asin(l/c)/fg,f=u?o:o+s*h,p=Ht(n,r,c,f),m=Ht(n,r,i,f),g=u?o-s*h:o,y=Ht(n,r,c*Math.cos(h*fg),g);return{center:p,circleTangency:m,lineTangency:y,theta:h}},vU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=uwe(s,a),u=s+l,c=Ht(n,r,o,s),h=Ht(n,r,o,u),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Ht(n,r,i,s),m=Ht(n,r,i,u);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},cwe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,h=jr(c-u),f=np({cx:n,cy:r,radius:o,angle:u,sign:h,cornerRadius:s,cornerIsExternal:l}),p=f.circleTangency,m=f.lineTangency,g=f.theta,y=np({cx:n,cy:r,radius:o,angle:c,sign:-h,cornerRadius:s,cornerIsExternal:l}),w=y.circleTangency,_=y.lineTangency,v=y.theta,S=l?Math.abs(u-c):Math.abs(u-c)-g-v;if(S<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var A=np({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),x=A.circleTangency,T=A.lineTangency,I=A.theta,k=np({cx:n,cy:r,radius:i,angle:c,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=k.circleTangency,j=k.lineTangency,R=k.theta,V=l?Math.abs(u-c):Math.abs(u-c)-I-R;if(V<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},hwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_U=function(e){var n=MR(MR({},hwe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,h=n.endAngle,f=n.className;if(s<o||c===h)return null;var p=Ce("recharts-sector",f),m=s-o,g=aa(a,m,0,!0),y;return g>0&&Math.abs(c-h)<360?y=cwe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:h}):y=vU({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:h}),D.createElement("path",zb({},Ae(n,!0),{className:p,d:y,role:"img"}))};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(this,arguments)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){fwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fwe(t,e,n){return e=dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dwe(t){var e=pwe(t,"string");return sf(e)=="symbol"?e:e+""}function pwe(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LR={curveBasisClosed:fse,curveBasisOpen:dse,curveBasis:hse,curveBumpX:Qoe,curveBumpY:Joe,curveLinearClosed:pse,curveLinear:Gy,curveMonotoneX:mse,curveMonotoneY:gse,curveNatural:yse,curveStep:vse,curveStepAfter:wse,curveStepBefore:_se},rp=function(e){return e.x===+e.x&&e.y===+e.y},pc=function(e){return e.x},mc=function(e){return e.y},mwe=function(e,n){if(ye(e))return e;var r="curve".concat(qy(e));return(r==="curveMonotone"||r==="curveBump")&&n?LR["".concat(r).concat(n==="vertical"?"Y":"X")]:LR[r]||Gy},gwe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=mwe(r,a),h=u?o.filter(function(g){return rp(g)}):o,f;if(Array.isArray(s)){var p=u?s.filter(function(g){return rp(g)}):s,m=h.map(function(g,y){return $R($R({},g),{},{base:p[y]})});return a==="vertical"?f=Kd().y(mc).x1(pc).x0(function(g){return g.base.x}):f=Kd().x(pc).y1(mc).y0(function(g){return g.base.y}),f.defined(rp).curve(c),f(m)}return a==="vertical"&&ee(s)?f=Kd().y(mc).x1(pc).x0(s):ee(s)?f=Kd().x(pc).y1(mc).y0(s):f=v4().x(pc).y(mc),f.defined(rp).curve(c),f(h)},Hb=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?gwe(e):i;return M.createElement("path",Wb({},Ae(e,!1),Dm(e),{className:Ce("recharts-curve",n),d:s,ref:o}))},wU={exports:{}},ywe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vwe=ywe,_we=vwe;function bU(){}function xU(){}xU.resetWarningCache=bU;var wwe=function(){function t(r,i,o,s,a,l){if(l!==_we){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xU,resetWarningCache:bU};return n.PropTypes=n,n};wU.exports=wwe();var bwe=wU.exports;const Ne=Be(bwe);var xwe=Object.getOwnPropertyNames,Ewe=Object.getOwnPropertySymbols,Twe=Object.prototype.hasOwnProperty;function VR(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function ip(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function FR(t){return xwe(t).concat(Ewe(t))}var Swe=Object.hasOwn||function(t,e){return Twe.call(t,e)};function Aa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Awe="__v",Pwe="__o",Owe="_owner",UR=Object.getOwnPropertyDescriptor,BR=Object.keys;function Iwe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Cwe(t,e){return Aa(t.getTime(),e.getTime())}function kwe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Rwe(t,e){return t===e}function zR(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),c=!1,h=0;(a=u.next())&&!a.done;){if(i[h]){h++;continue}var f=s.value,p=a.value;if(n.equals(f[0],p[0],l,h,t,e,n)&&n.equals(f[1],p[1],f[0],p[0],t,e,n)){c=i[h]=!0;break}h++}if(!c)return!1;l++}return!0}var jwe=Aa;function Nwe(t,e,n){var r=BR(t),i=r.length;if(BR(e).length!==i)return!1;for(;i-- >0;)if(!EU(t,e,n,r[i]))return!1;return!0}function gc(t,e,n){var r=FR(t),i=r.length;if(FR(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!EU(t,e,n,o)||(s=UR(t,o),a=UR(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Mwe(t,e){return Aa(t.valueOf(),e.valueOf())}function Dwe(t,e){return t.source===e.source&&t.flags===e.flags}function WR(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,c=0;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function $we(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Lwe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function EU(t,e,n,r){return(r===Owe||r===Pwe||r===Awe)&&(t.$$typeof||e.$$typeof)?!0:Swe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Vwe="[object Arguments]",Fwe="[object Boolean]",Uwe="[object Date]",Bwe="[object Error]",zwe="[object Map]",Wwe="[object Number]",Hwe="[object Object]",qwe="[object RegExp]",Kwe="[object Set]",Gwe="[object String]",Xwe="[object URL]",Ywe=Array.isArray,HR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,qR=Object.assign,Qwe=Object.prototype.toString.call.bind(Object.prototype.toString);function Jwe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,h=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(m,g,y){if(m===g)return!0;if(m==null||g==null)return!1;var w=typeof m;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?s(m,g,y):w==="function"?i(m,g,y):!1;var _=m.constructor;if(_!==g.constructor)return!1;if(_===Object)return a(m,g,y);if(Ywe(m))return e(m,g,y);if(HR!=null&&HR(m))return h(m,g,y);if(_===Date)return n(m,g,y);if(_===RegExp)return u(m,g,y);if(_===Map)return o(m,g,y);if(_===Set)return c(m,g,y);var v=Qwe(m);return v===Uwe?n(m,g,y):v===qwe?u(m,g,y):v===zwe?o(m,g,y):v===Kwe?c(m,g,y):v===Hwe?typeof m.then!="function"&&typeof g.then!="function"&&a(m,g,y):v===Xwe?f(m,g,y):v===Bwe?r(m,g,y):v===Vwe?a(m,g,y):v===Fwe||v===Wwe||v===Gwe?l(m,g,y):!1}}function Zwe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?gc:Iwe,areDatesEqual:Cwe,areErrorsEqual:kwe,areFunctionsEqual:Rwe,areMapsEqual:r?VR(zR,gc):zR,areNumbersEqual:jwe,areObjectsEqual:r?gc:Nwe,arePrimitiveWrappersEqual:Mwe,areRegExpsEqual:Dwe,areSetsEqual:r?VR(WR,gc):WR,areTypedArraysEqual:r?gc:$we,areUrlsEqual:Lwe};if(n&&(i=qR({},i,n(i))),e){var o=ip(i.areArraysEqual),s=ip(i.areMapsEqual),a=ip(i.areObjectsEqual),l=ip(i.areSetsEqual);i=qR({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function ebe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function tbe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),h=c.cache,f=h===void 0?e?new WeakMap:void 0:h,p=c.meta;return n(l,u,{cache:f,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var nbe=fs();fs({strict:!0});fs({circular:!0});fs({circular:!0,strict:!0});fs({createInternalComparator:function(){return Aa}});fs({strict:!0,createInternalComparator:function(){return Aa}});fs({circular:!0,createInternalComparator:function(){return Aa}});fs({circular:!0,createInternalComparator:function(){return Aa},strict:!0});function fs(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=Zwe(t),l=Jwe(a),u=r?r(l):ebe(l);return tbe({circular:n,comparator:l,createState:i,equals:u,strict:s})}function rbe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function KR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):rbe(i)};requestAnimationFrame(r)}function qb(t){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qb(t)}function ibe(t){return lbe(t)||abe(t)||sbe(t)||obe()}function obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sbe(t,e){if(t){if(typeof t=="string")return GR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GR(t,e)}}function GR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function abe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lbe(t){if(Array.isArray(t))return t}function ube(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=ibe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){KR(i.bind(null,u),l);return}i(l),KR(i.bind(null,u));return}qb(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){TU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TU(t,e,n){return e=cbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cbe(t){var e=hbe(t,"string");return af(e)==="symbol"?e:String(e)}function hbe(t,e){if(af(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(af(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fbe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},dbe=function(e){return e},pbe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},rh=function(e,n){return Object.keys(n).reduce(function(r,i){return YR(YR({},r),{},TU({},i,e(i,n[i])))},{})},QR=function(e,n,r){return e.map(function(i){return"".concat(pbe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function mbe(t,e){return vbe(t)||ybe(t,e)||SU(t,e)||gbe()}function gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ybe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function vbe(t){if(Array.isArray(t))return t}function _be(t){return xbe(t)||bbe(t)||SU(t)||wbe()}function wbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SU(t,e){if(t){if(typeof t=="string")return Kb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kb(t,e)}}function bbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xbe(t){if(Array.isArray(t))return Kb(t)}function Kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pg=1e-4,AU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},PU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},JR=function(e,n){return function(r){var i=AU(e,n);return PU(i,r)}},Ebe=function(e,n){return function(r){var i=AU(e,n),o=[].concat(_be(i.map(function(s,a){return s*a}).slice(1)),[0]);return PU(o,r)}},ZR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=mbe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var h=JR(i,s),f=JR(o,a),p=Ebe(i,s),m=function(w){return w>1?1:w<0?0:w},g=function(w){for(var _=w>1?1:w,v=_,S=0;S<8;++S){var E=h(v)-_,A=p(v);if(Math.abs(E-_)<pg||A<pg)return f(v);v=m(v-E/A)}return f(v)};return g.isStepper=!1,g},Tbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,h,f){var p=-(c-h)*r,m=f*o,g=f+(p-m)*a/1e3,y=f*a/1e3+c;return Math.abs(y-h)<pg&&Math.abs(g)<pg?[h,0]:[y,g]};return l.isStepper=!0,l.dt=a,l},Sbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ZR(i);case"spring":return Tbe();default:if(i.split("(")[0]==="cubic-bezier")return ZR(i)}return typeof i=="function"?i:null};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function ej(t){return Obe(t)||Pbe(t)||OU(t)||Abe()}function Abe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Obe(t){if(Array.isArray(t))return Xb(t)}function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(n),!0).forEach(function(r){Gb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gb(t,e,n){return e=Ibe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ibe(t){var e=Cbe(t,"string");return lf(e)==="symbol"?e:String(e)}function Cbe(t,e){if(lf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kbe(t,e){return Nbe(t)||jbe(t,e)||OU(t,e)||Rbe()}function Rbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OU(t,e){if(t){if(typeof t=="string")return Xb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xb(t,e)}}function Xb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Nbe(t){if(Array.isArray(t))return t}var mg=function(e,n,r){return e+(n-e)*r},Yb=function(e){var n=e.from,r=e.to;return n!==r},Mbe=function t(e,n,r){var i=rh(function(o,s){if(Yb(s)){var a=e(s.from,s.to,s.velocity),l=kbe(a,2),u=l[0],c=l[1];return Ut(Ut({},s),{},{from:u,velocity:c})}return s},n);return r<1?rh(function(o,s){return Yb(s)?Ut(Ut({},s),{},{velocity:mg(s.velocity,i[o].velocity,r),from:mg(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Dbe=function(t,e,n,r,i){var o=fbe(t,e),s=o.reduce(function(y,w){return Ut(Ut({},y),{},Gb({},w,[t[w],e[w]]))},{}),a=o.reduce(function(y,w){return Ut(Ut({},y),{},Gb({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,h=function(){return null},f=function(){return rh(function(w,_){return _.from},a)},p=function(){return!Object.values(a).filter(Yb).length},m=function(w){u||(u=w);var _=w-u,v=_/n.dt;a=Mbe(n,a,v),i(Ut(Ut(Ut({},t),e),f())),u=w,p()||(l=requestAnimationFrame(h))},g=function(w){c||(c=w);var _=(w-c)/r,v=rh(function(E,A){return mg.apply(void 0,ej(A).concat([n(_)]))},s);if(i(Ut(Ut(Ut({},t),e),v)),_<1)l=requestAnimationFrame(h);else{var S=rh(function(E,A){return mg.apply(void 0,ej(A).concat([n(1)]))},s);i(Ut(Ut(Ut({},t),e),S))}};return h=n.isStepper?m:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}var $be=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Lbe(t,e){if(t==null)return{};var n=Vbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function i_(t){return zbe(t)||Bbe(t)||Ube(t)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ube(t,e){if(t){if(typeof t=="string")return Qb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(t,e)}}function Bbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zbe(t){if(Array.isArray(t))return Qb(t)}function Qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){Cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cc(t,e,n){return e=IU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IU(r.key),r)}}function qbe(t,e,n){return e&&Hbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IU(t){var e=Kbe(t,"string");return Zl(e)==="symbol"?e:String(e)}function Kbe(t,e){if(Zl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jb(t,e)}function Xbe(t){var e=Ybe();return function(){var r=gg(t),i;if(e){var o=gg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Zb(this,i)}}function Zb(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e1(t)}function e1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ybe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}var Gi=function(t){Gbe(n,t);var e=Xbe(n);function n(r,i){var o;Wbe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,h=s.steps,f=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(e1(o)),o.changeStyle=o.changeStyle.bind(e1(o)),!a||p<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:c}),Zb(o);if(h&&h.length)o.state={style:h[0].style};else if(u){if(typeof f=="function")return o.state={style:u},Zb(o);o.state={style:l?Cc({},l,u):u}}else o.state={style:{}};return o}return qbe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,h=o.from,f=this.state.style;if(a){if(!s){var p={style:l?Cc({},l,c):c};this.state&&f&&(l&&f[l]!==c||!l&&f!==c)&&this.setState(p);return}if(!(nbe(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?h:i.to;if(this.state&&f){var y={style:l?Cc({},l,g):g};(l&&f[l]!==g||!l&&f!==g)&&this.setState(y)}this.runAnimation(vr(vr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,p=Dbe(s,a,Sbe(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([f,c,m,l,h])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,h=u.duration,f=h===void 0?0:h,p=function(g,y,w){if(w===0)return g;var _=y.duration,v=y.easing,S=v===void 0?"ease":v,E=y.style,A=y.properties,x=y.onAnimationEnd,T=w>0?s[w-1]:y,I=A||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(i_(g),[o.runJSAnimation.bind(o,{from:T.style,to:E,duration:_,easing:S}),_]);var k=QR(I,_,S),C=vr(vr(vr({},T.style),E),{},{transition:k});return[].concat(i_(g),[C,_,x]).filter(dbe)};return this.manager.start([l].concat(i_(s.reduce(p,[c,Math.max(f,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ube());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=a?Cc({},a,l):l,y=QR(Object.keys(g),s,u);m.start([c,o,vr(vr({},g),{},{transition:y}),s,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Lbe(i,$be),u=M.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var h=function(p){var m=p.props,g=m.style,y=g===void 0?{}:g,w=m.className,_=M.cloneElement(p,vr(vr({},l),{},{style:vr(vr({},y),c),className:w}));return _};return u===1?h(M.Children.only(o)):D.createElement("div",null,M.Children.map(o,function(f){return h(f)}))}}]),n}(M.PureComponent);Gi.displayName="Animate";Gi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gi.propTypes={from:Ne.oneOfType([Ne.object,Ne.string]),to:Ne.oneOfType([Ne.object,Ne.string]),attributeName:Ne.string,duration:Ne.number,begin:Ne.number,easing:Ne.oneOfType([Ne.string,Ne.func]),steps:Ne.arrayOf(Ne.shape({duration:Ne.number.isRequired,style:Ne.object.isRequired,easing:Ne.oneOfType([Ne.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ne.func]),properties:Ne.arrayOf("string"),onAnimationEnd:Ne.func})),children:Ne.oneOfType([Ne.node,Ne.func]),isActive:Ne.bool,canBegin:Ne.bool,onAnimationEnd:Ne.func,shouldReAnimate:Ne.bool,onAnimationStart:Ne.func,onAnimationReStart:Ne.func};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function Qbe(t,e){return t1e(t)||e1e(t,e)||Zbe(t,e)||Jbe()}function Jbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zbe(t,e){if(t){if(typeof t=="string")return rj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rj(t,e)}}function rj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function t1e(t){if(Array.isArray(t))return t}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){n1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n1e(t,e,n){return e=r1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r1e(t){var e=i1e(t,"string");return uf(e)=="symbol"?e:e+""}function i1e(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sj=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=o[f]>s?s:o[f];c="M".concat(e,",").concat(n+a*h[0]),h[0]>0&&(c+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(n)),c+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(c+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*h[1])),c+="L ".concat(e+r,",").concat(n+i-a*h[2]),h[2]>0&&(c+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),c+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(c+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*h[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var m=Math.min(s,o);c="M ".concat(e,",").concat(n+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*m,`
            L `).concat(e+r,",").concat(n+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},o1e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),h=Math.min(s,s+l),f=Math.max(s,s+l);return r>=u&&r<=c&&i>=h&&i<=f}return!1},s1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DT=function(e){var n=oj(oj({},s1e),e),r=M.useRef(),i=M.useState(-1),o=Qbe(i,2),s=o[0],a=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,u=n.y,c=n.width,h=n.height,f=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||h!==+h||c===0||h===0)return null;var v=Ce("recharts-rectangle",p);return _?D.createElement(Gi,{canBegin:s>0,from:{width:c,height:h,x:l,y:u},to:{width:c,height:h,x:l,y:u},duration:g,animationEasing:m,isActive:_},function(S){var E=S.width,A=S.height,x=S.x,T=S.y;return D.createElement(Gi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:w,easing:m},D.createElement("path",yg({},Ae(n,!0),{className:v,d:sj(x,T,E,A,f),ref:r})))}):D.createElement("path",yg({},Ae(n,!0),{className:v,d:sj(l,u,c,h,f)}))};function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t1.apply(this,arguments)}var $T=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ce("recharts-dot",o);return n===+n&&r===+r&&i===+i?M.createElement("circle",t1({},Ae(e,!1),Dm(e),{className:s,cx:n,cy:r,r:i})):null};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}var a1e=["x","y","top","left","width","height","className"];function n1(){return n1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n1.apply(this,arguments)}function aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(n),!0).forEach(function(r){u1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u1e(t,e,n){return e=c1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c1e(t){var e=h1e(t,"string");return cf(e)=="symbol"?e:e+""}function h1e(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f1e(t,e){if(t==null)return{};var n=d1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var p1e=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},m1e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,h=c===void 0?0:c,f=e.height,p=f===void 0?0:f,m=e.className,g=f1e(e,a1e),y=l1e({x:r,y:o,top:a,left:u,width:h,height:p},g);return!ee(r)||!ee(o)||!ee(h)||!ee(p)||!ee(a)||!ee(u)?null:D.createElement("path",n1({},Ae(y,!0),{className:Ce("recharts-cross",m),d:p1e(r,o,h,p,a,u)}))},g1e=B4,y1e=g1e(Object.getPrototypeOf,Object),v1e=y1e,_1e=Qi,w1e=v1e,b1e=Ji,x1e="[object Object]",E1e=Function.prototype,T1e=Object.prototype,CU=E1e.toString,S1e=T1e.hasOwnProperty,A1e=CU.call(Object);function P1e(t){if(!b1e(t)||_1e(t)!=x1e)return!1;var e=w1e(t);if(e===null)return!0;var n=S1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&CU.call(n)==A1e}var O1e=P1e;const I1e=Be(O1e);var C1e=Qi,k1e=Ji,R1e="[object Boolean]";function j1e(t){return t===!0||t===!1||k1e(t)&&C1e(t)==R1e}var N1e=j1e;const M1e=Be(N1e);function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function D1e(t,e){return F1e(t)||V1e(t,e)||L1e(t,e)||$1e()}function $1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L1e(t,e){if(t){if(typeof t=="string")return lj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lj(t,e)}}function lj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function F1e(t){if(Array.isArray(t))return t}function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){U1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U1e(t,e,n){return e=B1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B1e(t){var e=z1e(t,"string");return hf(e)=="symbol"?e:e+""}function z1e(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hj=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},W1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},H1e=function(e){var n=cj(cj({},W1e),e),r=M.useRef(),i=M.useState(-1),o=D1e(i,2),s=o[0],a=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&a(v)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,h=n.lowerWidth,f=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||h!==+h||f!==+f||c===0&&h===0||f===0)return null;var _=Ce("recharts-trapezoid",p);return w?D.createElement(Gi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:c,lowerWidth:h,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:w},function(v){var S=v.upperWidth,E=v.lowerWidth,A=v.height,x=v.x,T=v.y;return D.createElement(Gi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:m},D.createElement("path",vg({},Ae(n,!0),{className:_,d:hj(x,T,S,E,A),ref:r})))}):D.createElement("g",null,D.createElement("path",vg({},Ae(n,!0),{className:_,d:hj(l,u,c,h,f)})))},q1e=["option","shapeType","propTransformer","activeClassName","isActive"];function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function K1e(t,e){if(t==null)return{};var n=G1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(n),!0).forEach(function(r){X1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X1e(t,e,n){return e=Y1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y1e(t){var e=Q1e(t,"string");return ff(e)=="symbol"?e:e+""}function Q1e(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J1e(t,e){return _g(_g({},e),t)}function Z1e(t,e){return t==="symbols"}function dj(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(DT,n);case"trapezoid":return D.createElement(H1e,n);case"sector":return D.createElement(_U,n);case"symbols":if(Z1e(e))return D.createElement(tT,n);break;default:return null}}function exe(t){return M.isValidElement(t)?t.props:t}function txe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?J1e:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=K1e(t,q1e),u;if(M.isValidElement(e))u=M.cloneElement(e,_g(_g({},l),exe(e)));else if(ye(e))u=e(l);else if(I1e(e)&&!M1e(e)){var c=i(e,l);u=D.createElement(dj,{shapeType:n,elementProps:c})}else{var h=l;u=D.createElement(dj,{shapeType:n,elementProps:h})}return a?D.createElement(gt,{className:s},u):u}function cv(t,e){return e!=null&&"trapezoids"in t.props}function hv(t,e){return e!=null&&"sectors"in t.props}function df(t,e){return e!=null&&"points"in t.props}function nxe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function rxe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ixe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function oxe(t,e){var n;return cv(t,e)?n=nxe:hv(t,e)?n=rxe:df(t,e)&&(n=ixe),n}function sxe(t,e){var n;return cv(t,e)?n="trapezoids":hv(t,e)?n="sectors":df(t,e)&&(n="points"),n}function axe(t,e){if(cv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(hv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return df(t,e)?e.payload:{}}function lxe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=sxe(n,e),o=axe(n,e),s=r.filter(function(l,u){var c=av(o,l),h=n.props[i].filter(function(m){var g=oxe(n,e);return g(m,e)}),f=n.props[i].indexOf(h[h.length-1]),p=u===f;return c&&p}),a=r.indexOf(s[s.length-1]);return a}var uxe=Math.ceil,cxe=Math.max;function hxe(t,e,n,r){for(var i=-1,o=cxe(uxe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var fxe=hxe,dxe=aF,pj=1/0,pxe=17976931348623157e292;function mxe(t){if(!t)return t===0?t:0;if(t=dxe(t),t===pj||t===-pj){var e=t<0?-1:1;return e*pxe}return t===t?t:0}var kU=mxe,gxe=fxe,yxe=Jy,o_=kU;function vxe(t){return function(e,n,r){return r&&typeof r!="number"&&yxe(e,n,r)&&(n=r=void 0),e=o_(e),n===void 0?(n=e,e=0):n=o_(n),r=r===void 0?e<n?1:-1:o_(r),gxe(e,n,r,t)}}var _xe=vxe,wxe=_xe,bxe=wxe(),xxe=bxe;const wg=Be(xxe);function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(n),!0).forEach(function(r){RU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RU(t,e,n){return e=Exe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Exe(t){var e=Txe(t,"string");return pf(e)=="symbol"?e:e+""}function Txe(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sxe=["Webkit","Moz","O","ms"],Axe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Sxe.reduce(function(o,s){return gj(gj({},o),{},RU({},s+r,n))},{});return i[e]=n,i};function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NU(r.key),r)}}function Oxe(t,e,n){return e&&vj(t.prototype,e),n&&vj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ixe(t,e,n){return e=xg(e),Cxe(t,jU()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function Cxe(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kxe(t)}function kxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jU=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function Rxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r1(t,e)}function r1(t,e){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r1(t,e)}function Ln(t,e,n){return e=NU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NU(t){var e=jxe(t,"string");return eu(e)=="symbol"?e:e+""}function jxe(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nxe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=th().domain(wg(0,l)).range([o,o+s-a]),c=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},_j=function(e){return e.changedTouches&&!!e.changedTouches.length},tu=function(t){function e(n){var r;return Pxe(this,e),r=Ixe(this,e,[n]),Ln(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ln(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ln(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Ln(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ln(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ln(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ln(r,"handleSlideDragStart",function(i){var o=_j(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Rxe(e,t),Oxe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,h=Math.min(i,o),f=Math.max(i,o),p=e.getIndexInRange(s,h),m=e.getIndexInRange(s,f);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Kn(o[r],a,r);return ye(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,h=l.travellerWidth,f=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+c-h-a,u+c-h-s):g<0&&(g=Math.max(g,u-s,u-a));var y=this.getIndex({startX:s+g,endX:a+g});(y.startIndex!==f||y.endIndex!==p)&&m&&m(y),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=_j(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,h=c.x,f=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,y=c.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,h+f-p-u):_<0&&(_=Math.max(_,h-u)),w[s]=u+_;var v=this.getIndex(w),S=v.startIndex,E=v.endIndex,A=function(){var T=y.length-1;return s==="startX"&&(a>l?S%g===0:E%g===0)||a<l&&E===T||s==="endX"&&(a>l?E%g===0:S%g===0)||a>l&&E===T};this.setState(Ln(Ln({},s,u+_),"brushMoveStartX",r.pageX),function(){m&&A()&&m(v)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],h=a.indexOf(c);if(h!==-1){var f=h+r;if(!(f===-1||f>=a.length)){var p=a[f];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Ln({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,h=M.Children.only(u);return h?D.cloneElement(h,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,h=l.height,f=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,y=l.endIndex,w=Math.max(r,this.props.x),_=s_(s_({},Ae(this.props,!1)),{},{x:w,y:u,width:c,height:h}),v=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=m[y])===null||s===void 0?void 0:s.name);return D.createElement(gt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:h,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,h=c.startX,f=c.endX,p=5,m={pointerEvents:"none",fill:u};return D.createElement(gt,{className:"recharts-brush-texts"},D.createElement(Qm,bg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:s+a/2},m),this.getTextOfTick(i)),D.createElement(Qm,bg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+l+p,y:s+a/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,h=r.alwaysShowText,f=this.state,p=f.startX,m=f.endX,g=f.isTextActive,y=f.isSlideMoving,w=f.isTravellerMoving,_=f.isTravellerFocused;if(!i||!i.length||!ee(a)||!ee(l)||!ee(u)||!ee(c)||u<=0||c<=0)return null;var v=Ce("recharts-brush",o),S=D.Children.count(s)===1,E=Axe("userSelect","none");return D.createElement(gt,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||y||w||_||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):ye(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,h=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return s_({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?Nxe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(M.PureComponent);Ln(tu,"displayName","Brush");Ln(tu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Mxe=lT;function Dxe(t,e){var n;return Mxe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var $xe=Dxe,Lxe=N4,Vxe=us,Fxe=$xe,Uxe=Mn,Bxe=Jy;function zxe(t,e,n){var r=Uxe(t)?Lxe:Fxe;return n&&Bxe(t,e,n)&&(e=void 0),r(t,Vxe(e))}var Wxe=zxe;const Hxe=Be(Wxe);var ti=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},wj=nF;function qxe(t,e,n){e=="__proto__"&&wj?wj(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Kxe=qxe,Gxe=Kxe,Xxe=eF,Yxe=us;function Qxe(t,e){var n={};return e=Yxe(e),Xxe(t,function(r,i,o){Gxe(n,i,e(r,i,o))}),n}var Jxe=Qxe;const Zxe=Be(Jxe);function eEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var tEe=eEe,nEe=lT;function rEe(t,e){var n=!0;return nEe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var iEe=rEe,oEe=tEe,sEe=iEe,aEe=us,lEe=Mn,uEe=Jy;function cEe(t,e,n){var r=lEe(t)?oEe:sEe;return n&&uEe(t,e,n)&&(e=void 0),r(t,aEe(e))}var hEe=cEe;const MU=Be(hEe);var fEe=["x","y"];function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i1.apply(this,arguments)}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){dEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dEe(t,e,n){return e=pEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pEe(t){var e=mEe(t,"string");return mf(e)=="symbol"?e:e+""}function mEe(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gEe(t,e){if(t==null)return{};var n=yEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vEe(t,e){var n=t.x,r=t.y,i=gEe(t,fEe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return yc(yc(yc(yc(yc({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:f,name:e.name,radius:e.radius})}function xj(t){return D.createElement(txe,i1({shapeType:"rectangle",propTransformer:vEe,activeClassName:"recharts-active-bar"},t))}var _Ee=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ee(r)||Die(r);return o?e(r,i):(o||ua(),n)}},wEe=["value","background"],DU;function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function bEe(t,e){if(t==null)return{};var n=xEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){Ao(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LU(r.key),r)}}function TEe(t,e,n){return e&&Tj(t.prototype,e),n&&Tj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SEe(t,e,n){return e=Tg(e),AEe(t,$U()?Reflect.construct(e,n||[],Tg(t).constructor):e.apply(t,n))}function AEe(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PEe(t)}function PEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function OEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o1(t,e)}function o1(t,e){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o1(t,e)}function Ao(t,e,n){return e=LU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LU(t){var e=IEe(t,"string");return nu(e)=="symbol"?e:e+""}function IEe(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pa=function(t){function e(){var n;EEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=SEe(this,e,[].concat(i)),Ao(n,"state",{isAnimationFinished:!1}),Ao(n,"id",Hf("recharts-bar-")),Ao(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ao(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return OEe(e,t),TEe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Ae(this.props,!1);return r&&r.map(function(h,f){var p=f===l,m=p?u:s,g=wt(wt(wt({},c),h),{},{isActive:p,option:m,index:f,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(gt,Eg({className:"recharts-bar-rectangle"},$m(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),D.createElement(xj,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,h=i.animationId,f=this.state.prevData;return D.createElement(Gi,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(y,w){var _=f&&f[w];if(_){var v=Or(_.x,y.x),S=Or(_.y,y.y),E=Or(_.width,y.width),A=Or(_.height,y.height);return wt(wt({},y),{},{x:v(m),y:S(m),width:E(m),height:A(m)})}if(s==="horizontal"){var x=Or(0,y.height),T=x(m);return wt(wt({},y),{},{y:y.y+y.height-T,height:T})}var I=Or(0,y.width),k=I(m);return wt(wt({},y),{},{width:k})});return D.createElement(gt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!av(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Ae(this.props.background,!1);return o.map(function(u,c){u.value;var h=u.background,f=bEe(u,wEe);if(!h)return null;var p=wt(wt(wt(wt(wt({},f),{},{fill:"#eee"},h),l),$m(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(xj,Eg({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,h=cr(c,Qf);if(!h)return null;var f=u==="vertical"?s[0].height/2:s[0].width/2,p=function(y,w){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Kn(y,w)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(gt,m,h.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,h=r.width,f=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=Ce("recharts-bar",s),_=a&&a.allowDataOverflow,v=l&&l.allowDataOverflow,S=_||v,E=xe(g)?this.id:g;return D.createElement(gt,{className:w},_||v?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:_?u:u-h/2,y:v?c:c-f/2,width:_?h:h*2,height:v?f:f*2}))):null,D.createElement(gt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!p||y)&&Uo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);DU=Pa;Ao(Pa,"displayName","Bar");Ao(Pa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ji.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ao(Pa,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,h=t.displayedData,f=t.offset,p=o_e(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,y=g!==void 0?wt(wt({},g),n.props):n.props,w=y.dataKey,_=y.children,v=y.minPointSize,S=m==="horizontal"?s:o,E=u?S.scale.domain():null,A=d_e({numericAxis:S}),x=cr(_,cF),T=h.map(function(I,k){var C,j,R,V,U,B;u?C=s_e(u[c+k],E):(C=Kn(I,w),Array.isArray(C)||(C=[A,C]));var H=_Ee(v,DU.defaultProps.minPointSize)(C[1],k);if(m==="horizontal"){var L,z=[s.scale(C[0]),s.scale(C[1])],X=z[0],Y=z[1];j=ER({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:I,index:k}),R=(L=Y??X)!==null&&L!==void 0?L:void 0,V=p.size;var K=X-Y;if(U=Number.isNaN(K)?0:K,B={x:j,y:s.y,width:V,height:s.height},Math.abs(H)>0&&Math.abs(U)<Math.abs(H)){var ne=jr(U||H)*(Math.abs(H)-Math.abs(U));R-=ne,U+=ne}}else{var _e=[o.scale(C[0]),o.scale(C[1])],Oe=_e[0],De=_e[1];if(j=Oe,R=ER({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:I,index:k}),V=De-Oe,U=p.size,B={x:o.x,y:R,width:o.width,height:U},Math.abs(H)>0&&Math.abs(V)<Math.abs(H)){var yt=jr(V||H)*(Math.abs(H)-Math.abs(V));V+=yt}}return wt(wt(wt({},I),{},{x:j,y:R,width:V,height:U,value:u?C:C[1],payload:I,background:B},x&&x[k]&&x[k].props),{},{tooltipPayload:[gU(n,I)],tooltipPosition:{x:j+V/2,y:R+U/2}})});return wt({data:T,layout:m},f)});function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function CEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VU(r.key),r)}}function kEe(t,e,n){return e&&Sj(t.prototype,e),n&&Sj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){fv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fv(t,e,n){return e=VU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(t){var e=REe(t,"string");return gf(e)=="symbol"?e:e+""}function REe(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FU=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),h={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},f=!!Fn(u,Pa);return c.reduce(function(p,m){var g=n[m],y=g.orientation,w=g.domain,_=g.padding,v=_===void 0?{}:_,S=g.mirror,E=g.reversed,A="".concat(y).concat(S?"Mirror":""),x,T,I,k,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var j=w[1]-w[0],R=1/0,V=g.categoricalDomain.sort(Vie);if(V.forEach(function(_e,Oe){Oe>0&&(R=Math.min((_e||0)-(V[Oe-1]||0),R))}),Number.isFinite(R)){var U=R/j,B=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(x=U*B/2),g.padding==="no-gap"){var H=aa(e.barCategoryGap,U*B),L=U*B/2;x=L-H-(L-H)/B*H}}}i==="xAxis"?T=[r.left+(v.left||0)+(x||0),r.left+r.width-(v.right||0)-(x||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(x||0),r.top+r.height-(v.bottom||0)-(x||0)]:T=g.range,E&&(T=[T[1],T[0]]);var z=r_e(g,o,f),X=z.scale,Y=z.realScaleType;X.domain(w).range(T),i_e(X);var K=f_e(X,Tr(Tr({},g),{},{realScaleType:Y}));i==="xAxis"?(C=y==="top"&&!S||y==="bottom"&&S,I=r.left,k=h[A]-C*g.height):i==="yAxis"&&(C=y==="left"&&!S||y==="right"&&S,I=h[A]-C*g.width,k=r.top);var ne=Tr(Tr(Tr({},g),K),{},{realScaleType:Y,x:I,y:k,scale:X,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ne.bandSize=hg(ne,K),!g.hide&&i==="xAxis"?h[A]+=(C?-1:1)*ne.height:g.hide||(h[A]+=(C?-1:1)*ne.width),Tr(Tr({},p),{},fv({},m,ne))},{})},UU=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},jEe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return UU({x:n,y:r},{x:i,y:o})},BU=function(){function t(e){CEe(this,t),this.scale=e}return kEe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();fv(BU,"EPS",1e-4);var LT=function(e){var n=Object.keys(e).reduce(function(r,i){return Tr(Tr({},r),{},fv({},i,BU.create(e[i])))},{});return Tr(Tr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Zxe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return MU(i,function(o,s){return n[s].isInRange(o)})}})};function NEe(t){return(t%180+180)%180}var MEe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=NEe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},DEe=us,$Ee=qf,LEe=Yy;function VEe(t){return function(e,n,r){var i=Object(e);if(!$Ee(e)){var o=DEe(n);e=LEe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var FEe=VEe,UEe=kU;function BEe(t){var e=UEe(t),n=e%1;return e===e?n?e-n:e:0}var zEe=BEe,WEe=G4,HEe=us,qEe=zEe,KEe=Math.max;function GEe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:qEe(n);return i<0&&(i=KEe(r+i,0)),WEe(t,HEe(e),i)}var XEe=GEe,YEe=FEe,QEe=XEe,JEe=YEe(QEe),ZEe=JEe;const eTe=Be(ZEe);var tTe=Fre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),VT=M.createContext(void 0),FT=M.createContext(void 0),zU=M.createContext(void 0),WU=M.createContext({}),HU=M.createContext(void 0),qU=M.createContext(0),KU=M.createContext(0),Pj=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=tTe(o);return D.createElement(VT.Provider,{value:r},D.createElement(FT.Provider,{value:i},D.createElement(WU.Provider,{value:o},D.createElement(zU.Provider,{value:c},D.createElement(HU.Provider,{value:s},D.createElement(qU.Provider,{value:u},D.createElement(KU.Provider,{value:l},a)))))))},nTe=function(){return M.useContext(HU)},GU=function(e){var n=M.useContext(VT);n==null&&ua();var r=n[e];return r==null&&ua(),r},rTe=function(){var e=M.useContext(VT);return bo(e)},iTe=function(){var e=M.useContext(FT),n=eTe(e,function(r){return MU(r.domain,Number.isFinite)});return n||bo(e)},XU=function(e){var n=M.useContext(FT);n==null&&ua();var r=n[e];return r==null&&ua(),r},oTe=function(){var e=M.useContext(zU);return e},sTe=function(){return M.useContext(WU)},UT=function(){return M.useContext(KU)},BT=function(){return M.useContext(qU)};function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function aTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QU(r.key),r)}}function uTe(t,e,n){return e&&lTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cTe(t,e,n){return e=Sg(e),hTe(t,YU()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function hTe(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fTe(t)}function fTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YU=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function dTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s1(t,e)}function s1(t,e){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s1(t,e)}function Oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ij(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(n),!0).forEach(function(r){zT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zT(t,e,n){return e=QU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QU(t){var e=pTe(t,"string");return ru(e)=="symbol"?e:e+""}function pTe(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mTe(t,e){return _Te(t)||vTe(t,e)||yTe(t,e)||gTe()}function gTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yTe(t,e){if(t){if(typeof t=="string")return Cj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cj(t,e)}}function Cj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function _Te(t){if(Array.isArray(t))return t}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(this,arguments)}var wTe=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):ye(e)?r=e(n):r=D.createElement("line",a1({},n,{className:"recharts-reference-line-line"})),r},bTe=function(e,n,r,i,o,s,a,l,u){var c=o.x,h=o.y,f=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:s});if(ti(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:c+f,y:g},{x:c,y:g}];return l==="left"?y.reverse():y}if(n){var w=u.x,_=e.x.apply(w,{position:s});if(ti(u,"discard")&&!e.x.isInRange(_))return null;var v=[{x:_,y:h+p},{x:_,y:h}];return a==="top"?v.reverse():v}if(i){var S=u.segment,E=S.map(function(A){return e.apply(A,{position:s})});return ti(u,"discard")&&Hxe(E,function(A){return!e.isInRange(A)})?null:E}return null};function xTe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=nTe(),c=GU(i),h=XU(o),f=oTe();if(!u||!f)return null;Ri(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=LT({x:c.scale,y:h.scale}),m=Ot(e),g=Ot(n),y=r&&r.length===2,w=bTe(p,m,g,y,f,t.position,c.orientation,h.orientation,t);if(!w)return null;var _=mTe(w,2),v=_[0],S=v.x,E=v.y,A=_[1],x=A.x,T=A.y,I=ti(t,"hidden")?"url(#".concat(u,")"):void 0,k=Ij(Ij({clipPath:I},Ae(t,!0)),{},{x1:S,y1:E,x2:x,y2:T});return D.createElement(gt,{className:Ce("recharts-reference-line",a)},wTe(s,k),cn.renderCallByParent(t,jEe({x1:S,y1:E,x2:x,y2:T})))}var WT=function(t){function e(){return aTe(this,e),cTe(this,e,arguments)}return dTe(e,t),uTe(e,[{key:"render",value:function(){return D.createElement(xTe,this.props)}}])}(D.Component);zT(WT,"displayName","ReferenceLine");zT(WT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l1.apply(this,arguments)}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){dv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ETe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZU(r.key),r)}}function STe(t,e,n){return e&&TTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ATe(t,e,n){return e=Ag(e),PTe(t,JU()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function PTe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OTe(t)}function OTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JU=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function ITe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u1(t,e)}function u1(t,e){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u1(t,e)}function dv(t,e,n){return e=ZU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZU(t){var e=CTe(t,"string");return iu(e)=="symbol"?e:e+""}function CTe(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kTe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=LT({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ti(e,"discard")&&!s.isInRange(a)?null:a},pv=function(t){function e(){return ETe(this,e),ATe(this,e,arguments)}return ITe(e,t),STe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Ot(i),c=Ot(o);if(Ri(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var h=kTe(this.props);if(!h)return null;var f=h.x,p=h.y,m=this.props,g=m.shape,y=m.className,w=ti(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=Rj(Rj({clipPath:w},Ae(this.props,!0)),{},{cx:f,cy:p});return D.createElement(gt,{className:Ce("recharts-reference-dot",y)},e.renderDot(g,_),cn.renderCallByParent(this.props,{x:f-s,y:p-s,width:2*s,height:2*s}))}}])}(D.Component);dv(pv,"displayName","ReferenceDot");dv(pv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dv(pv,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):ye(t)?n=t(e):n=D.createElement($T,l1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c1.apply(this,arguments)}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jj(Object(n),!0).forEach(function(r){mv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tB(r.key),r)}}function NTe(t,e,n){return e&&jTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MTe(t,e,n){return e=Pg(e),DTe(t,eB()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function DTe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Te(t)}function $Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eB=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function LTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h1(t,e)}function h1(t,e){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h1(t,e)}function mv(t,e,n){return e=tB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tB(t){var e=VTe(t,"string");return ou(e)=="symbol"?e:e+""}function VTe(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FTe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,h=o.yAxis;if(!c||!h)return null;var f=LT({x:c.scale,y:h.scale}),p={x:e?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},m={x:n?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return ti(o,"discard")&&(!f.isInRange(p)||!f.isInRange(m))?null:UU(p,m)},gv=function(t){function e(){return RTe(this,e),MTe(this,e,arguments)}return LTe(e,t),NTe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ri(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Ot(i),f=Ot(o),p=Ot(s),m=Ot(a),g=this.props.shape;if(!h&&!f&&!p&&!m&&!g)return null;var y=FTe(h,f,p,m,this.props);if(!y&&!g)return null;var w=ti(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(gt,{className:Ce("recharts-reference-area",l)},e.renderRect(g,Nj(Nj({clipPath:w},Ae(this.props,!0)),y)),cn.renderCallByParent(this.props,y))}}])}(D.Component);mv(gv,"displayName","ReferenceArea");mv(gv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});mv(gv,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):ye(t)?n=t(e):n=D.createElement(DT,c1({},e,{className:"recharts-reference-area-rect"})),n});function nB(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function UTe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return MEe(r,n)}function BTe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Og(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function zTe(t,e){return nB(t,e+1)}function WTe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,h=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:nB(r,u)};var g=l,y,w=function(){return y===void 0&&(y=n(m,g)),y},_=m.coordinate,v=l===0||Og(t,_,w,c,a);v||(l=0,c=s,u+=1),v&&(c=_+t*(w()/2+i),l+=u)},f;u<=o.length;)if(f=h(),f)return f.v;return[]}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(n),!0).forEach(function(r){HTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HTe(t,e,n){return e=qTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qTe(t){var e=KTe(t,"string");return yf(e)=="symbol"?e:e+""}function KTe(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GTe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(f){var p=o[f],m,g=function(){return m===void 0&&(m=n(p,f)),m};if(f===s-1){var y=t*(p.coordinate+t*g()/2-l);o[f]=p=sn(sn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else o[f]=p=sn(sn({},p),{},{tickCoord:p.coordinate});var w=Og(t,p.tickCoord,g,a,l);w&&(l=p.tickCoord-t*(g()/2+i),o[f]=sn(sn({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function XTe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],h=n(c,a-1),f=t*(c.coordinate+t*h/2-u);s[a-1]=c=sn(sn({},c),{},{tickCoord:f>0?c.coordinate-f*t:c.coordinate});var p=Og(t,c.tickCoord,function(){return h},l,u);p&&(u=c.tickCoord-t*(h/2+i),s[a-1]=sn(sn({},c),{},{isShow:!0}))}for(var m=o?a-1:a,g=function(_){var v=s[_],S,E=function(){return S===void 0&&(S=n(v,_)),S};if(_===0){var A=t*(v.coordinate-t*E()/2-l);s[_]=v=sn(sn({},v),{},{tickCoord:A<0?v.coordinate-A*t:v.coordinate})}else s[_]=v=sn(sn({},v),{},{tickCoord:v.coordinate});var x=Og(t,v.tickCoord,E,l,u);x&&(l=v.tickCoord+t*(E()/2+i),s[_]=sn(sn({},v),{},{isShow:!0}))},y=0;y<m;y++)g(y);return s}function HT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(ee(l)||ji.isSsr)return zTe(i,typeof l=="number"&&ee(l)?l:0);var f=[],p=a==="top"||a==="bottom"?"width":"height",m=c&&p==="width"?eh(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(v,S){var E=ye(u)?u(v.value,S):v.value;return p==="width"?UTe(eh(E,{fontSize:e,letterSpacing:n}),m,h):eh(E,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?jr(i[1].coordinate-i[0].coordinate):1,w=BTe(o,y,p);return l==="equidistantPreserveStart"?WTe(y,w,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?f=XTe(y,w,g,i,s,l==="preserveStartEnd"):f=GTe(y,w,g,i,s),f.filter(function(_){return _.isShow}))}var YTe=["viewBox"],QTe=["viewBox"],JTe=["ticks"];function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hl.apply(this,arguments)}function Dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(n),!0).forEach(function(r){qT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a_(t,e){if(t==null)return{};var n=ZTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iB(r.key),r)}}function tSe(t,e,n){return e&&$j(t.prototype,e),n&&$j(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nSe(t,e,n){return e=Ig(e),rSe(t,rB()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function rSe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iSe(t)}function iSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rB=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function oSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f1(t,e)}function f1(t,e){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f1(t,e)}function qT(t,e,n){return e=iB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iB(t){var e=sSe(t,"string");return su(e)=="symbol"?e:e+""}function sSe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ju=function(t){function e(n){var r;return eSe(this,e),r=nSe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return oSe(e,t),tSe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=a_(r,YTe),a=this.props,l=a.viewBox,u=a_(a,QTe);return!Tl(o,l)||!Tl(s,u)||!Tl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,h=i.mirror,f=i.tickMargin,p,m,g,y,w,_,v=h?-1:1,S=r.tickSize||c,E=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,y=s+ +!h*l,g=y-v*S,_=g-v*f,w=E;break;case"left":g=y=r.coordinate,m=o+ +!h*a,p=m-v*S,w=p-v*f,_=E;break;case"right":g=y=r.coordinate,m=o+ +h*a,p=m+v*S,w=p+v*f,_=E;break;default:p=m=r.coordinate,y=s+ +h*l,g=y+v*S,_=g+v*f,w=E;break}return{line:{x1:p,y1:g,x2:m,y2:y},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,h=Et(Et(Et({},Ae(this.props,!1)),Ae(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);h=Et(Et({},h),{},{x1:i,y1:o+f*a,x2:i+s,y2:o+f*a})}else{var p=+(l==="left"&&!u||l==="right"&&u);h=Et(Et({},h),{},{x1:i+p*s,y1:o,x2:i+p*s,y2:o+a})}return D.createElement("line",hl({},h,{className:Ce("recharts-cartesian-axis-line",ur(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,h=a.tickFormatter,f=a.unit,p=HT(Et(Et({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Ae(this.props,!1),w=Ae(c,!1),_=Et(Et({},y),{},{fill:"none"},Ae(l,!1)),v=p.map(function(S,E){var A=s.getTickLineCoord(S),x=A.line,T=A.tick,I=Et(Et(Et(Et({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:u},w),T),{},{index:E,payload:S,visibleTicksCount:p.length,tickFormatter:h});return D.createElement(gt,hl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},$m(s.props,S,E)),l&&D.createElement("line",hl({},_,x,{className:Ce("recharts-cartesian-axis-tick-line",ur(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(ye(h)?h(S.value,E):S.value).concat(f||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var h=this.props,f=h.ticks,p=a_(h,JTe),m=f;return ye(l)&&(m=f&&f.length>0?l(this.props):l(p)),s<=0||a<=0||!m||!m.length?null:D.createElement(gt,{className:Ce("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),cn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ce(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?s=D.cloneElement(r,Et(Et({},i),{},{className:a})):ye(r)?s=r(Et(Et({},i),{},{className:a})):s=D.createElement(Qm,hl({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(M.Component);qT(ju,"displayName","CartesianAxis");qT(ju,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var aSe=["x1","y1","x2","y2","key"],lSe=["offset"];function ca(t){"@babel/helpers - typeof";return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(t)}function Lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(n),!0).forEach(function(r){uSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uSe(t,e,n){return e=cSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cSe(t){var e=hSe(t,"string");return ca(e)=="symbol"?e:e+""}function hSe(t,e){if(ca(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fs.apply(this,arguments)}function Vj(t,e){if(t==null)return{};var n=fSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dSe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function oB(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(ye(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=Vj(e,aSe),u=Ae(l,!1);u.offset;var c=Vj(u,lSe);n=D.createElement("line",Fs({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function pSe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=hn(hn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return oB(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function mSe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=hn(hn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return oB(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function gSe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==c[0]&&c.unshift(0);var h=c.map(function(f,p){var m=!c[p+1],g=m?i+s-f:c[p+1]-f;if(g<=0)return null;var y=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:g,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ySe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(f){return Math.round(f+o-o)}).sort(function(f,p){return f-p});o!==c[0]&&c.unshift(0);var h=c.map(function(f,p){var m=!c[p+1],g=m?o+a-f:c[p+1]-f;if(g<=0)return null;var y=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:f,y:s,width:g,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var vSe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return pU(HT(hn(hn(hn({},ju.defaultProps),r),{},{ticks:Si(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},_Se=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return pU(HT(hn(hn(hn({},ju.defaultProps),r),{},{ticks:Si(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},Fa={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function KT(t){var e,n,r,i,o,s,a=UT(),l=BT(),u=sTe(),c=hn(hn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Fa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Fa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Fa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Fa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Fa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Fa.verticalFill,x:ee(t.x)?t.x:u.left,y:ee(t.y)?t.y:u.top,width:ee(t.width)?t.width:u.width,height:ee(t.height)?t.height:u.height}),h=c.x,f=c.y,p=c.width,m=c.height,g=c.syncWithTicks,y=c.horizontalValues,w=c.verticalValues,_=rTe(),v=iTe();if(!ee(p)||p<=0||!ee(m)||m<=0||!ee(h)||h!==+h||!ee(f)||f!==+f)return null;var S=c.verticalCoordinatesGenerator||vSe,E=c.horizontalCoordinatesGenerator||_Se,A=c.horizontalPoints,x=c.verticalPoints;if((!A||!A.length)&&ye(E)){var T=y&&y.length,I=E({yAxis:v?hn(hn({},v),{},{ticks:T?y:v.ticks}):void 0,width:a,height:l,offset:u},T?!0:g);Ri(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ca(I),"]")),Array.isArray(I)&&(A=I)}if((!x||!x.length)&&ye(S)){var k=w&&w.length,C=S({xAxis:_?hn(hn({},_),{},{ticks:k?w:_.ticks}):void 0,width:a,height:l,offset:u},k?!0:g);Ri(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ca(C),"]")),Array.isArray(C)&&(x=C)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(dSe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),D.createElement(pSe,Fs({},c,{offset:u,horizontalPoints:A,xAxis:_,yAxis:v})),D.createElement(mSe,Fs({},c,{offset:u,verticalPoints:x,xAxis:_,yAxis:v})),D.createElement(gSe,Fs({},c,{horizontalPoints:A})),D.createElement(ySe,Fs({},c,{verticalPoints:x})))}KT.displayName="CartesianGrid";var wSe=["type","layout","connectNulls","ref"],bSe=["key"];function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function Fj(t,e){if(t==null)return{};var n=xSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(this,arguments)}function Uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(n),!0).forEach(function(r){Sr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ua(t){return ASe(t)||SSe(t)||TSe(t)||ESe()}function ESe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TSe(t,e){if(t){if(typeof t=="string")return d1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d1(t,e)}}function SSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ASe(t){if(Array.isArray(t))return d1(t)}function d1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aB(r.key),r)}}function OSe(t,e,n){return e&&Bj(t.prototype,e),n&&Bj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ISe(t,e,n){return e=Cg(e),CSe(t,sB()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function CSe(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kSe(t)}function kSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sB=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function RSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p1(t,e)}function p1(t,e){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p1(t,e)}function Sr(t,e,n){return e=aB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aB(t){var e=jSe(t,"string");return au(e)=="symbol"?e:e+""}function jSe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gs=function(t){function e(){var n;PSe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ISe(this,e,[].concat(i)),Sr(n,"state",{isAnimationFinished:!0,totalLength:0}),Sr(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Sr(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(w,_){return w+_});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var c=Math.floor(s/u),h=s%u,f=a-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>h){p=[].concat(Ua(l.slice(0,m)),[h-g]);break}var y=p.length%2===0?[0,f]:[f];return[].concat(Ua(e.repeat(l,c)),Ua(p),y).map(function(w){return"".concat(w,"px")}).join(", ")}),Sr(n,"id",Hf("recharts-line-")),Sr(n,"pathRef",function(s){n.mainCurve=s}),Sr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Sr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return RSe(e,t),OSe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,h=cr(c,Qf);if(!h)return null;var f=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Kn(g.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(gt,p,h.map(function(m){return D.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,c=a.dataKey,h=Ae(this.props,!1),f=Ae(l,!0),p=u.map(function(g,y){var w=$n($n($n({key:"dot-".concat(y),r:3},h),f),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,w)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(gt,ih({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,c=a.connectNulls;a.ref;var h=Fj(a,wSe),f=$n($n($n({},Ae(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return D.createElement(Hb,ih({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,h=s.animationDuration,f=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,y=s.height,w=this.state,_=w.prevPoints,v=w.totalLength;return D.createElement(Gi,{begin:c,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var E=S.t;if(_){var A=_.length/a.length,x=a.map(function(j,R){var V=Math.floor(R*A);if(_[V]){var U=_[V],B=Or(U.x,j.x),H=Or(U.y,j.y);return $n($n({},j),{},{x:B(E),y:H(E)})}if(m){var L=Or(g*2,j.x),z=Or(y/2,j.y);return $n($n({},j),{},{x:L(E),y:z(E)})}return $n($n({},j),{},{x:j.x,y:j.y})});return o.renderCurveStatically(x,r,i)}var T=Or(0,v),I=T(E),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});k=o.getStrokeDasharray(I,v,C)}else k=o.generateSimpleStrokeDasharray(v,I);return o.renderCurveStatically(a,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return a&&s&&s.length&&(!u&&c>0||!av(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,c=i.yAxis,h=i.top,f=i.left,p=i.width,m=i.height,g=i.isAnimationActive,y=i.id;if(o||!a||!a.length)return null;var w=this.state.isAnimationFinished,_=a.length===1,v=Ce("recharts-line",l),S=u&&u.allowDataOverflow,E=c&&c.allowDataOverflow,A=S||E,x=xe(y)?this.id:y,T=(r=Ae(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=T.r,k=I===void 0?3:I,C=T.strokeWidth,j=C===void 0?2:C,R=Gie(s)?s:{},V=R.clipDot,U=V===void 0?!0:V,B=k*2+j;return D.createElement(gt,{className:v},S||E?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(x)},D.createElement("rect",{x:S?f:f-p/2,y:E?h:h-m/2,width:S?p:p*2,height:E?m:m*2})),!U&&D.createElement("clipPath",{id:"clipPath-dots-".concat(x)},D.createElement("rect",{x:f-B/2,y:h-B/2,width:p+B,height:m+B}))):null,!_&&this.renderCurve(A,x),this.renderErrorBar(A,x),(_||s)&&this.renderDots(A,U,x),(!g||w)&&Uo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Ua(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Ua(s),Ua(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(ye(r))o=r(i);else{var s=i.key,a=Fj(i,bSe),l=Ce("recharts-line-dot",typeof r!="boolean"?r.className:"");o=D.createElement($T,ih({key:s},a,{className:l}))}return o}}])}(M.PureComponent);Sr(Gs,"displayName","Line");Sr(Gs,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ji.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Sr(Gs,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,h=l.map(function(f,p){var m=Kn(f,s);return c==="horizontal"?{x:xR({axis:n,ticks:i,bandSize:a,entry:f,index:p}),y:xe(m)?null:r.scale(m),value:m,payload:f}:{x:xe(m)?null:n.scale(m),y:xR({axis:r,ticks:o,bandSize:a,entry:f,index:p}),value:m,payload:f}});return $n({points:h,layout:c},u)});function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function NSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cB(r.key),r)}}function DSe(t,e,n){return e&&MSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Se(t,e,n){return e=kg(e),LSe(t,lB()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function LSe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VSe(t)}function VSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lB=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function FSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m1(t,e)}function m1(t,e){return m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m1(t,e)}function uB(t,e,n){return e=cB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cB(t){var e=USe(t,"string");return lu(e)=="symbol"?e:e+""}function USe(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g1.apply(this,arguments)}function BSe(t){var e=t.xAxisId,n=UT(),r=BT(),i=GU(e);return i==null?null:M.createElement(ju,g1({},i,{className:Ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Si(s,!0)}}))}var Nu=function(t){function e(){return NSe(this,e),$Se(this,e,arguments)}return FSe(e,t),DSe(e,[{key:"render",value:function(){return M.createElement(BSe,this.props)}}])}(M.Component);uB(Nu,"displayName","XAxis");uB(Nu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function zSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dB(r.key),r)}}function HSe(t,e,n){return e&&WSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qSe(t,e,n){return e=Rg(e),KSe(t,hB()?Reflect.construct(e,n||[],Rg(t).constructor):e.apply(t,n))}function KSe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GSe(t)}function GSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hB=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(t)}function XSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y1(t,e)}function y1(t,e){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y1(t,e)}function fB(t,e,n){return e=dB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dB(t){var e=YSe(t,"string");return uu(e)=="symbol"?e:e+""}function YSe(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v1.apply(this,arguments)}var QSe=function(e){var n=e.yAxisId,r=UT(),i=BT(),o=XU(n);return o==null?null:M.createElement(ju,v1({},o,{className:Ce("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Si(a,!0)}}))},Mu=function(t){function e(){return zSe(this,e),qSe(this,e,arguments)}return XSe(e,t),HSe(e,[{key:"render",value:function(){return M.createElement(QSe,this.props)}}])}(M.Component);fB(Mu,"displayName","YAxis");fB(Mu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zj(t){return tAe(t)||eAe(t)||ZSe(t)||JSe()}function JSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZSe(t,e){if(t){if(typeof t=="string")return _1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _1(t,e)}}function eAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tAe(t){if(Array.isArray(t))return _1(t)}function _1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var w1=function(e,n,r,i,o){var s=cr(e,WT),a=cr(e,pv),l=[].concat(zj(s),zj(a)),u=cr(e,gv),c="".concat(i,"Id"),h=i[0],f=n;if(l.length&&(f=l.reduce(function(g,y){if(y.props[c]===r&&ti(y.props,"extendDomain")&&ee(y.props[h])){var w=y.props[h];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},f)),u.length){var p="".concat(h,"1"),m="".concat(h,"2");f=u.reduce(function(g,y){if(y.props[c]===r&&ti(y.props,"extendDomain")&&ee(y.props[p])&&ee(y.props[m])){var w=y.props[p],_=y.props[m];return[Math.min(g[0],w,_),Math.max(g[1],w,_)]}return g},f)}return o&&o.length&&(f=o.reduce(function(g,y){return ee(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},f)),f},pB={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,h,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,h||l,f),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,f,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,_,v;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,h),!0;case 4:return y.fn.call(y.context,c,h,f),!0;case 5:return y.fn.call(y.context,c,h,f,p),!0;case 6:return y.fn.call(y.context,c,h,f,p,m),!0}for(v=1,_=new Array(w-1);v<w;v++)_[v-1]=arguments[v];y.fn.apply(y.context,_)}else{var S=y.length,E;for(v=0;v<S;v++)switch(y[v].once&&this.removeListener(u,y[v].fn,void 0,!0),w){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,c);break;case 3:y[v].fn.call(y[v].context,c,h);break;case 4:y[v].fn.call(y[v].context,c,h,f);break;default:if(!_)for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];y[v].fn.apply(y[v].context,_)}}return!0},a.prototype.on=function(u,c,h){return o(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return o(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,f){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!f||m.once)&&(!h||m.context===h)&&s(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==c||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(pB);var nAe=pB.exports;const rAe=Be(nAe);var l_=new rAe,u_="recharts.syncMouseEvents";function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function iAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mB(r.key),r)}}function sAe(t,e,n){return e&&oAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c_(t,e,n){return e=mB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mB(t){var e=aAe(t,"string");return vf(e)=="symbol"?e:e+""}function aAe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lAe=function(){function t(){iAe(this,t),c_(this,"activeIndex",0),c_(this,"coordinateList",[]),c_(this,"layout","horizontal")}return sAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,h=c===void 0?null:c,f=n.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=o+l+u,f=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function uAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ee(r)&&ee(i))return!0}return!1}function cAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function gB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Ht(e,n,r,i),a=Ht(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function hAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,h=e.angle,f=Ht(a,l,u,h),p=Ht(a,l,c,h);r=f.x,i=f.y,o=p.x,s=p.y}else return gB(e);return[{x:r,y:i},{x:o,y:s}]}function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){fAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fAe(t,e,n){return e=dAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dAe(t){var e=pAe(t,"string");return _f(e)=="symbol"?e:e+""}function pAe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!s||f!=="ScatterChart"&&i!=="axis")return null;var m,g=Hb;if(f==="ScatterChart")m=s,g=m1e;else if(f==="BarChart")m=cAe(h,s,l,c),g=DT;else if(h==="radial"){var y=gB(s),w=y.cx,_=y.cy,v=y.radius,S=y.startAngle,E=y.endAngle;m={cx:w,cy:_,startAngle:S,endAngle:E,innerRadius:v,outerRadius:v},g=_U}else m={points:hAe(h,s,l)},g=Hb;var A=op(op(op(op({stroke:"#ccc",pointerEvents:"none"},l),m),Ae(p,!1)),{},{payload:a,payloadIndex:u,className:Ce("recharts-tooltip-cursor",p.className)});return M.isValidElement(p)?M.cloneElement(p,A):M.createElement(g,A)}var gAe=["item"],yAe=["children","className","width","height","style","compact","title","desc"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(this,arguments)}function Hj(t,e){return wAe(t)||_Ae(t,e)||vB(t,e)||vAe()}function vAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wAe(t){if(Array.isArray(t))return t}function qj(t,e){if(t==null)return{};var n=bAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_B(r.key),r)}}function TAe(t,e,n){return e&&EAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SAe(t,e,n){return e=jg(e),AAe(t,yB()?Reflect.construct(e,n||[],jg(t).constructor):e.apply(t,n))}function AAe(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PAe(t)}function PAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yB=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(t)}function OAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b1(t,e)}function b1(t,e){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b1(t,e)}function hu(t){return kAe(t)||CAe(t)||vB(t)||IAe()}function IAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vB(t,e){if(t){if(typeof t=="string")return x1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x1(t,e)}}function CAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kAe(t){if(Array.isArray(t))return x1(t)}function x1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ce(t,e,n){return e=_B(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _B(t){var e=RAe(t,"string");return cu(e)=="symbol"?e:e+""}function RAe(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jAe={xAxis:["bottom","top"],yAxis:["left","right"]},NAe={width:"100%",height:"100%"},wB={x:0,y:0};function sp(t){return t}var MAe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},DAe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return W(W(W({},i),Ht(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return W(W(W({},i),Ht(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return wB},yv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(hu(a),hu(u)):a},[]);return s.length>0?s:e&&e.length&&ee(i)&&ee(o)?e.slice(i,o+1):[]};function bB(t){return t==="number"?[0,"auto"]:void 0}var E1=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=yv(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,h=(c=u.props.data)!==null&&c!==void 0?c:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var p=h===void 0?a:h;f=Mm(p,s.dataKey,i)}else f=h&&h[r]||a[r];return f?[].concat(hu(l),[gU(u,f)]):l},[])},Gj=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=MAe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Q0e(s,a,u,l);if(c>=0&&u){var h=u[c]&&u[c].value,f=E1(e,n,c,h),p=DAe(r,a,c,o);return{activeTooltipIndex:c,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},$Ae=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,h=e.children,f=e.stackOffset,p=dU(c,o);return r.reduce(function(m,g){var y,w=g.type.defaultProps!==void 0?W(W({},g.type.defaultProps),g.props):g.props,_=w.type,v=w.dataKey,S=w.allowDataOverflow,E=w.allowDuplicatedCategory,A=w.scale,x=w.ticks,T=w.includeHidden,I=w[s];if(m[I])return m;var k=yv(e.data,{graphicalItems:i.filter(function(K){var ne,_e=s in K.props?K.props[s]:(ne=K.type.defaultProps)===null||ne===void 0?void 0:ne[s];return _e===I}),dataStartIndex:l,dataEndIndex:u}),C=k.length,j,R,V;uAe(w.domain,S,_)&&(j=Fb(w.domain,null,S),p&&(_==="number"||A!=="auto")&&(V=nh(k,v,"category")));var U=bB(_);if(!j||j.length===0){var B,H=(B=w.domain)!==null&&B!==void 0?B:U;if(v){if(j=nh(k,v,_),_==="category"&&p){var L=Lie(j);E&&L?(R=j,j=wg(0,C)):E||(j=AR(H,j,g).reduce(function(K,ne){return K.indexOf(ne)>=0?K:[].concat(hu(K),[ne])},[]))}else if(_==="category")E?j=j.filter(function(K){return K!==""&&!xe(K)}):j=AR(H,j,g).reduce(function(K,ne){return K.indexOf(ne)>=0||ne===""||xe(ne)?K:[].concat(hu(K),[ne])},[]);else if(_==="number"){var z=n_e(k,i.filter(function(K){var ne,_e,Oe=s in K.props?K.props[s]:(ne=K.type.defaultProps)===null||ne===void 0?void 0:ne[s],De="hide"in K.props?K.props.hide:(_e=K.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Oe===I&&(T||!De)}),v,o,c);z&&(j=z)}p&&(_==="number"||A!=="auto")&&(V=nh(k,v,"category"))}else p?j=wg(0,C):a&&a[I]&&a[I].hasStack&&_==="number"?j=f==="expand"?[0,1]:mU(a[I].stackGroups,l,u):j=fU(k,i.filter(function(K){var ne=s in K.props?K.props[s]:K.type.defaultProps[s],_e="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return ne===I&&(T||!_e)}),_,c,!0);if(_==="number")j=w1(h,j,I,o,x),H&&(j=Fb(H,j,S));else if(_==="category"&&H){var X=H,Y=j.every(function(K){return X.indexOf(K)>=0});Y&&(j=X)}}return W(W({},m),{},ce({},I,W(W({},w),{},{axisType:o,domain:j,categoricalDomain:V,duplicateDomain:R,originalDomain:(y=w.domain)!==null&&y!==void 0?y:U,isCategorical:p,layout:c})))},{})},LAe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,h=e.children,f=yv(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=f.length,m=dU(c,o),g=-1;return r.reduce(function(y,w){var _=w.type.defaultProps!==void 0?W(W({},w.type.defaultProps),w.props):w.props,v=_[s],S=bB("number");if(!y[v]){g++;var E;return m?E=wg(0,p):a&&a[v]&&a[v].hasStack?(E=mU(a[v].stackGroups,l,u),E=w1(h,E,v,o)):(E=Fb(S,fU(f,r.filter(function(A){var x,T,I=s in A.props?A.props[s]:(x=A.type.defaultProps)===null||x===void 0?void 0:x[s],k="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return I===v&&!k}),"number",c),i.defaultProps.allowDataOverflow),E=w1(h,E,v,o)),W(W({},y),{},ce({},v,W(W({axisType:o},i.defaultProps),{},{hide:!0,orientation:ur(jAe,"".concat(o,".").concat(g%2),null),domain:E,originalDomain:S,isCategorical:m,layout:c})))}return y},{})},VAe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,h="".concat(i,"Id"),f=cr(c,o),p={};return f&&f.length?p=$Ae(e,{axes:f,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=LAe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),p},FAe=function(e){var n=bo(e),r=Si(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:uT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:hg(n,r)}},Xj=function(e){var n=e.children,r=e.defaultShowTooltip,i=Fn(n,tu),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},UAe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ki(n&&n.type);return r&&r.indexOf("Bar")>=0})},Yj=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BAe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,h=r.children,f=r.margin||{},p=Fn(h,tu),m=Fn(h,Hs),g=Object.keys(l).reduce(function(E,A){var x=l[A],T=x.orientation;return!x.mirror&&!x.hide?W(W({},E),{},ce({},T,E[T]+x.width)):E},{left:f.left||0,right:f.right||0}),y=Object.keys(s).reduce(function(E,A){var x=s[A],T=x.orientation;return!x.mirror&&!x.hide?W(W({},E),{},ce({},T,ur(E,"".concat(T))+x.height)):E},{top:f.top||0,bottom:f.bottom||0}),w=W(W({},y),g),_=w.bottom;p&&(w.bottom+=p.props.height||tu.defaultProps.height),m&&n&&(w=e_e(w,i,r,n));var v=u-w.left-w.right,S=c-w.top-w.bottom;return W(W({brushBottom:_},w),{},{width:Math.max(v,0),height:Math.max(S,0)})},zAe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},xB=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,h=e.defaultProps,f=function(w,_){var v=_.graphicalItems,S=_.stackGroups,E=_.offset,A=_.updateId,x=_.dataStartIndex,T=_.dataEndIndex,I=w.barSize,k=w.layout,C=w.barGap,j=w.barCategoryGap,R=w.maxBarSize,V=Yj(k),U=V.numericAxisName,B=V.cateAxisName,H=UAe(v),L=[];return v.forEach(function(z,X){var Y=yv(w.data,{graphicalItems:[z],dataStartIndex:x,dataEndIndex:T}),K=z.type.defaultProps!==void 0?W(W({},z.type.defaultProps),z.props):z.props,ne=K.dataKey,_e=K.maxBarSize,Oe=K["".concat(U,"Id")],De=K["".concat(B,"Id")],yt={},Rt=l.reduce(function(Fr,ui){var ds=_["".concat(ui.axisType,"Map")],Oa=K["".concat(ui.axisType,"Id")];ds&&ds[Oa]||ui.axisType==="zAxis"||ua();var Du=ds[Oa];return W(W({},Fr),{},ce(ce({},ui.axisType,Du),"".concat(ui.axisType,"Ticks"),Si(Du)))},yt),te=Rt[B],ae=Rt["".concat(B,"Ticks")],se=S&&S[Oe]&&S[Oe].hasStack&&p_e(z,S[Oe].stackGroups),G=ki(z.type).indexOf("Bar")>=0,ze=hg(te,ae),we=[],tt=H&&J0e({barSize:I,stackGroups:S,totalSize:zAe(Rt,B)});if(G){var at,Yt,Vr=xe(_e)?R:_e,li=(at=(Yt=hg(te,ae,!0))!==null&&Yt!==void 0?Yt:Vr)!==null&&at!==void 0?at:0;we=Z0e({barGap:C,barCategoryGap:j,bandSize:li!==ze?li:ze,sizeList:tt[De],maxBarSize:Vr}),li!==ze&&(we=we.map(function(Fr){return W(W({},Fr),{},{position:W(W({},Fr.position),{},{offset:Fr.position.offset-li/2})})}))}var eo=z&&z.type&&z.type.getComposedData;eo&&L.push({props:W(W({},eo(W(W({},Rt),{},{displayedData:Y,props:w,dataKey:ne,item:z,bandSize:ze,barPosition:we,offset:E,stackedData:se,layout:k,dataStartIndex:x,dataEndIndex:T}))),{},ce(ce(ce({key:z.key||"item-".concat(X)},U,Rt[U]),B,Rt[B]),"animationId",A)),childIndex:Qie(z,w.children),item:z})}),L},p=function(w,_){var v=w.props,S=w.dataStartIndex,E=w.dataEndIndex,A=w.updateId;if(!_C({props:v}))return null;var x=v.children,T=v.layout,I=v.stackOffset,k=v.data,C=v.reverseStackOrder,j=Yj(T),R=j.numericAxisName,V=j.cateAxisName,U=cr(x,r),B=h_e(k,U,"".concat(R,"Id"),"".concat(V,"Id"),I,C),H=l.reduce(function(K,ne){var _e="".concat(ne.axisType,"Map");return W(W({},K),{},ce({},_e,VAe(v,W(W({},ne),{},{graphicalItems:U,stackGroups:ne.axisType===R&&B,dataStartIndex:S,dataEndIndex:E}))))},{}),L=BAe(W(W({},H),{},{props:v,graphicalItems:U}),_==null?void 0:_.legendBBox);Object.keys(H).forEach(function(K){H[K]=c(v,H[K],L,K.replace("Map",""),n)});var z=H["".concat(V,"Map")],X=FAe(z),Y=f(v,W(W({},H),{},{dataStartIndex:S,dataEndIndex:E,updateId:A,graphicalItems:U,stackGroups:B,offset:L}));return W(W({formattedGraphicalItems:Y,graphicalItems:U,offset:L,stackGroups:B},X),H)},m=function(y){function w(_){var v,S,E;return xAe(this,w),E=SAe(this,w,[_]),ce(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ce(E,"accessibilityManager",new lAe),ce(E,"handleLegendBBoxUpdate",function(A){if(A){var x=E.state,T=x.dataStartIndex,I=x.dataEndIndex,k=x.updateId;E.setState(W({legendBBox:A},p({props:E.props,dataStartIndex:T,dataEndIndex:I,updateId:k},W(W({},E.state),{},{legendBBox:A}))))}}),ce(E,"handleReceiveSyncEvent",function(A,x,T){if(E.props.syncId===A){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(x)}}),ce(E,"handleBrushChange",function(A){var x=A.startIndex,T=A.endIndex;if(x!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var I=E.state.updateId;E.setState(function(){return W({dataStartIndex:x,dataEndIndex:T},p({props:E.props,dataStartIndex:x,dataEndIndex:T,updateId:I},E.state))}),E.triggerSyncEvent({dataStartIndex:x,dataEndIndex:T})}}),ce(E,"handleMouseEnter",function(A){var x=E.getMouseInfo(A);if(x){var T=W(W({},x),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseEnter;ye(I)&&I(T,A)}}),ce(E,"triggeredAfterMouseMove",function(A){var x=E.getMouseInfo(A),T=x?W(W({},x),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseMove;ye(I)&&I(T,A)}),ce(E,"handleItemMouseEnter",function(A){E.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),ce(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ce(E,"handleMouseMove",function(A){A.persist(),E.throttleTriggeredAfterMouseMove(A)}),ce(E,"handleMouseLeave",function(A){E.throttleTriggeredAfterMouseMove.cancel();var x={isTooltipActive:!1};E.setState(x),E.triggerSyncEvent(x);var T=E.props.onMouseLeave;ye(T)&&T(x,A)}),ce(E,"handleOuterEvent",function(A){var x=Yie(A),T=ur(E.props,"".concat(x));if(x&&ye(T)){var I,k;/.*touch.*/i.test(x)?k=E.getMouseInfo(A.changedTouches[0]):k=E.getMouseInfo(A),T((I=k)!==null&&I!==void 0?I:{},A)}}),ce(E,"handleClick",function(A){var x=E.getMouseInfo(A);if(x){var T=W(W({},x),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var I=E.props.onClick;ye(I)&&I(T,A)}}),ce(E,"handleMouseDown",function(A){var x=E.props.onMouseDown;if(ye(x)){var T=E.getMouseInfo(A);x(T,A)}}),ce(E,"handleMouseUp",function(A){var x=E.props.onMouseUp;if(ye(x)){var T=E.getMouseInfo(A);x(T,A)}}),ce(E,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),ce(E,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseDown(A.changedTouches[0])}),ce(E,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseUp(A.changedTouches[0])}),ce(E,"handleDoubleClick",function(A){var x=E.props.onDoubleClick;if(ye(x)){var T=E.getMouseInfo(A);x(T,A)}}),ce(E,"handleContextMenu",function(A){var x=E.props.onContextMenu;if(ye(x)){var T=E.getMouseInfo(A);x(T,A)}}),ce(E,"triggerSyncEvent",function(A){E.props.syncId!==void 0&&l_.emit(u_,E.props.syncId,A,E.eventEmitterSymbol)}),ce(E,"applySyncEvent",function(A){var x=E.props,T=x.layout,I=x.syncMethod,k=E.state.updateId,C=A.dataStartIndex,j=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)E.setState(W({dataStartIndex:C,dataEndIndex:j},p({props:E.props,dataStartIndex:C,dataEndIndex:j,updateId:k},E.state)));else if(A.activeTooltipIndex!==void 0){var R=A.chartX,V=A.chartY,U=A.activeTooltipIndex,B=E.state,H=B.offset,L=B.tooltipTicks;if(!H)return;if(typeof I=="function")U=I(L,A);else if(I==="value"){U=-1;for(var z=0;z<L.length;z++)if(L[z].value===A.activeLabel){U=z;break}}var X=W(W({},H),{},{x:H.left,y:H.top}),Y=Math.min(R,X.x+X.width),K=Math.min(V,X.y+X.height),ne=L[U]&&L[U].value,_e=E1(E.state,E.props.data,U),Oe=L[U]?{x:T==="horizontal"?L[U].coordinate:Y,y:T==="horizontal"?K:L[U].coordinate}:wB;E.setState(W(W({},A),{},{activeLabel:ne,activeCoordinate:Oe,activePayload:_e,activeTooltipIndex:U}))}else E.setState(A)}),ce(E,"renderCursor",function(A){var x,T=E.state,I=T.isTooltipActive,k=T.activeCoordinate,C=T.activePayload,j=T.offset,R=T.activeTooltipIndex,V=T.tooltipAxisBandSize,U=E.getTooltipEventType(),B=(x=A.props.active)!==null&&x!==void 0?x:I,H=E.props.layout,L=A.key||"_recharts-cursor";return D.createElement(mAe,{key:L,activeCoordinate:k,activePayload:C,activeTooltipIndex:R,chartName:n,element:A,isActive:B,layout:H,offset:j,tooltipAxisBandSize:V,tooltipEventType:U})}),ce(E,"renderPolarAxis",function(A,x,T){var I=ur(A,"type.axisType"),k=ur(E.state,"".concat(I,"Map")),C=A.type.defaultProps,j=C!==void 0?W(W({},C),A.props):A.props,R=k&&k[j["".concat(I,"Id")]];return M.cloneElement(A,W(W({},R),{},{className:Ce(I,R.className),key:A.key||"".concat(x,"-").concat(T),ticks:Si(R,!0)}))}),ce(E,"renderPolarGrid",function(A){var x=A.props,T=x.radialLines,I=x.polarAngles,k=x.polarRadius,C=E.state,j=C.radiusAxisMap,R=C.angleAxisMap,V=bo(j),U=bo(R),B=U.cx,H=U.cy,L=U.innerRadius,z=U.outerRadius;return M.cloneElement(A,{polarAngles:Array.isArray(I)?I:Si(U,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(k)?k:Si(V,!0).map(function(X){return X.coordinate}),cx:B,cy:H,innerRadius:L,outerRadius:z,key:A.key||"polar-grid",radialLines:T})}),ce(E,"renderLegend",function(){var A=E.state.formattedGraphicalItems,x=E.props,T=x.children,I=x.width,k=x.height,C=E.props.margin||{},j=I-(C.left||0)-(C.right||0),R=cU({children:T,formattedGraphicalItems:A,legendWidth:j,legendContent:u});if(!R)return null;var V=R.item,U=qj(R,gAe);return M.cloneElement(V,W(W({},U),{},{chartWidth:I,chartHeight:k,margin:C,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ce(E,"renderTooltip",function(){var A,x=E.props,T=x.children,I=x.accessibilityLayer,k=Fn(T,Er);if(!k)return null;var C=E.state,j=C.isTooltipActive,R=C.activeCoordinate,V=C.activePayload,U=C.activeLabel,B=C.offset,H=(A=k.props.active)!==null&&A!==void 0?A:j;return M.cloneElement(k,{viewBox:W(W({},B),{},{x:B.left,y:B.top}),active:H,label:U,payload:H?V:[],coordinate:R,accessibilityLayer:I})}),ce(E,"renderBrush",function(A){var x=E.props,T=x.margin,I=x.data,k=E.state,C=k.offset,j=k.dataStartIndex,R=k.dataEndIndex,V=k.updateId;return M.cloneElement(A,{key:A.key||"_recharts-brush",onChange:tp(E.handleBrushChange,A.props.onChange),data:I,x:ee(A.props.x)?A.props.x:C.left,y:ee(A.props.y)?A.props.y:C.top+C.height+C.brushBottom-(T.bottom||0),width:ee(A.props.width)?A.props.width:C.width,startIndex:j,endIndex:R,updateId:"brush-".concat(V)})}),ce(E,"renderReferenceElement",function(A,x,T){if(!A)return null;var I=E,k=I.clipPathId,C=E.state,j=C.xAxisMap,R=C.yAxisMap,V=C.offset,U=A.type.defaultProps||{},B=A.props,H=B.xAxisId,L=H===void 0?U.xAxisId:H,z=B.yAxisId,X=z===void 0?U.yAxisId:z;return M.cloneElement(A,{key:A.key||"".concat(x,"-").concat(T),xAxis:j[L],yAxis:R[X],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:k})}),ce(E,"renderActivePoints",function(A){var x=A.item,T=A.activePoint,I=A.basePoint,k=A.childIndex,C=A.isRange,j=[],R=x.props.key,V=x.item.type.defaultProps!==void 0?W(W({},x.item.type.defaultProps),x.item.props):x.item.props,U=V.activeDot,B=V.dataKey,H=W(W({index:k,dataKey:B,cx:T.x,cy:T.y,r:4,fill:MT(x.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Ae(U,!1)),Dm(U));return j.push(w.renderActiveDot(U,H,"".concat(R,"-activePoint-").concat(k))),I?j.push(w.renderActiveDot(U,W(W({},H),{},{cx:I.x,cy:I.y}),"".concat(R,"-basePoint-").concat(k))):C&&j.push(null),j}),ce(E,"renderGraphicChild",function(A,x,T){var I=E.filterFormatItem(A,x,T);if(!I)return null;var k=E.getTooltipEventType(),C=E.state,j=C.isTooltipActive,R=C.tooltipAxis,V=C.activeTooltipIndex,U=C.activeLabel,B=E.props.children,H=Fn(B,Er),L=I.props,z=L.points,X=L.isRange,Y=L.baseLine,K=I.item.type.defaultProps!==void 0?W(W({},I.item.type.defaultProps),I.item.props):I.item.props,ne=K.activeDot,_e=K.hide,Oe=K.activeBar,De=K.activeShape,yt=!!(!_e&&j&&H&&(ne||Oe||De)),Rt={};k!=="axis"&&H&&H.props.trigger==="click"?Rt={onClick:tp(E.handleItemMouseEnter,A.props.onClick)}:k!=="axis"&&(Rt={onMouseLeave:tp(E.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:tp(E.handleItemMouseEnter,A.props.onMouseEnter)});var te=M.cloneElement(A,W(W({},I.props),Rt));function ae(ui){return typeof R.dataKey=="function"?R.dataKey(ui.payload):null}if(yt)if(V>=0){var se,G;if(R.dataKey&&!R.allowDuplicatedCategory){var ze=typeof R.dataKey=="function"?ae:"payload.".concat(R.dataKey.toString());se=Mm(z,ze,U),G=X&&Y&&Mm(Y,ze,U)}else se=z==null?void 0:z[V],G=X&&Y&&Y[V];if(De||Oe){var we=A.props.activeIndex!==void 0?A.props.activeIndex:V;return[M.cloneElement(A,W(W(W({},I.props),Rt),{},{activeIndex:we})),null,null]}if(!xe(se))return[te].concat(hu(E.renderActivePoints({item:I,activePoint:se,basePoint:G,childIndex:V,isRange:X})))}else{var tt,at=(tt=E.getItemByXY(E.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:te},Yt=at.graphicalItem,Vr=Yt.item,li=Vr===void 0?A:Vr,eo=Yt.childIndex,Fr=W(W(W({},I.props),Rt),{},{activeIndex:eo});return[M.cloneElement(li,Fr),null,null]}return X?[te,null,null]:[te,null]}),ce(E,"renderCustomized",function(A,x,T){return M.cloneElement(A,W(W({key:"recharts-customized-".concat(T)},E.props),E.state))}),ce(E,"renderMap",{CartesianGrid:{handler:sp,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:sp},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:sp},YAxis:{handler:sp},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((v=_.id)!==null&&v!==void 0?v:Hf("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=lF(E.triggeredAfterMouseMove,(S=_.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return OAe(w,y),TAe(w,[{key:"componentDidMount",value:function(){var v,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,S=v.children,E=v.data,A=v.height,x=v.layout,T=Fn(S,Er);if(T){var I=T.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,C=E1(this.state,E,I,k),j=this.state.tooltipTicks[I].coordinate,R=(this.state.offset.top+A)/2,V=x==="horizontal",U=V?{x:j,y:R}:{y:j,x:R},B=this.state.formattedGraphicalItems.find(function(L){var z=L.item;return z.type.name==="Scatter"});B&&(U=W(W({},U),B.props.points[I].tooltipPosition),C=B.props.points[I].tooltipPayload);var H={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:U};this.setState(H),this.renderCursor(T),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var E,A;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(v){tb([Fn(v.children,Er)],[Fn(this.props.children,Er)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Fn(this.props.children,Er);if(v&&typeof v.props.shared=="boolean"){var S=v.props.shared?"axis":"item";return a.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),A=Eme(E),x={chartX:Math.round(v.pageX-A.left),chartY:Math.round(v.pageY-A.top)},T=E.width/S.offsetWidth||1,I=this.inRange(x.chartX,x.chartY,T);if(!I)return null;var k=this.state,C=k.xAxisMap,j=k.yAxisMap,R=this.getTooltipEventType(),V=Gj(this.state,this.props.data,this.props.layout,I);if(R!=="axis"&&C&&j){var U=bo(C).scale,B=bo(j).scale,H=U&&U.invert?U.invert(x.chartX):null,L=B&&B.invert?B.invert(x.chartY):null;return W(W({},x),{},{xValue:H,yValue:L},V)}return V?W(W({},x),V):null}},{key:"inRange",value:function(v,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,x=v/E,T=S/E;if(A==="horizontal"||A==="vertical"){var I=this.state.offset,k=x>=I.left&&x<=I.left+I.width&&T>=I.top&&T<=I.top+I.height;return k?{x,y:T}:null}var C=this.state,j=C.angleAxisMap,R=C.radiusAxisMap;if(j&&R){var V=bo(j);return IR({x,y:T},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,S=this.getTooltipEventType(),E=Fn(v,Er),A={};E&&S==="axis"&&(E.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var x=Dm(this.props,this.handleOuterEvent);return W(W({},x),A)}},{key:"addListener",value:function(){l_.on(u_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){l_.removeListener(u_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,S,E){for(var A=this.state.formattedGraphicalItems,x=0,T=A.length;x<T;x++){var I=A[x];if(I.item===v||I.props.key===v.key||S===ki(I.item.type)&&E===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,S=this.state.offset,E=S.left,A=S.top,x=S.height,T=S.width;return D.createElement("defs",null,D.createElement("clipPath",{id:v},D.createElement("rect",{x:E,y:A,height:x,width:T})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(S,E){var A=Hj(E,2),x=A[0],T=A[1];return W(W({},S),{},ce({},x,T.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(S,E){var A=Hj(E,2),x=A[0],T=A[1];return W(W({},S),{},ce({},x,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[v])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(v){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[v])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(v){var S=this.state,E=S.formattedGraphicalItems,A=S.activeItem;if(E&&E.length)for(var x=0,T=E.length;x<T;x++){var I=E[x],k=I.props,C=I.item,j=C.type.defaultProps!==void 0?W(W({},C.type.defaultProps),C.props):C.props,R=ki(C.type);if(R==="Bar"){var V=(k.data||[]).find(function(L){return o1e(v,L)});if(V)return{graphicalItem:I,payload:V}}else if(R==="RadialBar"){var U=(k.data||[]).find(function(L){return IR(v,L)});if(U)return{graphicalItem:I,payload:U}}else if(cv(I,A)||hv(I,A)||df(I,A)){var B=lxe({graphicalItem:I,activeTooltipItem:A,itemData:j.data}),H=j.activeIndex===void 0?B:j.activeIndex;return{graphicalItem:W(W({},I),{},{childIndex:H}),payload:df(I,A)?j.data[B]:I.props.data[B]}}}return null}},{key:"render",value:function(){var v=this;if(!_C(this))return null;var S=this.props,E=S.children,A=S.className,x=S.width,T=S.height,I=S.style,k=S.compact,C=S.title,j=S.desc,R=qj(S,yAe),V=Ae(R,!1);if(k)return D.createElement(Pj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(rb,fl({},V,{width:x,height:T,title:C,desc:j}),this.renderClipPath(),bC(E,this.renderMap)));if(this.props.accessibilityLayer){var U,B;V.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,V.role=(B=this.props.role)!==null&&B!==void 0?B:"application",V.onKeyDown=function(L){v.accessibilityManager.keyboardEvent(L)},V.onFocus=function(){v.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return D.createElement(Pj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",fl({className:Ce("recharts-wrapper",A),style:W({position:"relative",cursor:"default",width:x,height:T},I)},H,{ref:function(z){v.container=z}}),D.createElement(rb,fl({},V,{width:x,height:T,title:C,desc:j,style:NAe}),this.renderClipPath(),bC(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);ce(m,"displayName",n),ce(m,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ce(m,"getDerivedStateFromProps",function(y,w){var _=y.dataKey,v=y.data,S=y.children,E=y.width,A=y.height,x=y.layout,T=y.stackOffset,I=y.margin,k=w.dataStartIndex,C=w.dataEndIndex;if(w.updateId===void 0){var j=Xj(y);return W(W(W({},j),{},{updateId:0},p(W(W({props:y},j),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:v,prevWidth:E,prevHeight:A,prevLayout:x,prevStackOffset:T,prevMargin:I,prevChildren:S})}if(_!==w.prevDataKey||v!==w.prevData||E!==w.prevWidth||A!==w.prevHeight||x!==w.prevLayout||T!==w.prevStackOffset||!Tl(I,w.prevMargin)){var R=Xj(y),V={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},U=W(W({},Gj(w,v,x)),{},{updateId:w.updateId+1}),B=W(W(W({},R),V),U);return W(W(W({},B),p(W({props:y},B),w)),{},{prevDataKey:_,prevData:v,prevWidth:E,prevHeight:A,prevLayout:x,prevStackOffset:T,prevMargin:I,prevChildren:S})}if(!tb(S,w.prevChildren)){var H,L,z,X,Y=Fn(S,tu),K=Y&&(H=(L=Y.props)===null||L===void 0?void 0:L.startIndex)!==null&&H!==void 0?H:k,ne=Y&&(z=(X=Y.props)===null||X===void 0?void 0:X.endIndex)!==null&&z!==void 0?z:C,_e=K!==k||ne!==C,Oe=!xe(v),De=Oe&&!_e?w.updateId:w.updateId+1;return W(W({updateId:De},p(W(W({props:y},w),{},{updateId:De,dataStartIndex:K,dataEndIndex:ne}),w)),{},{prevChildren:S,dataStartIndex:K,dataEndIndex:ne})}return null}),ce(m,"renderActiveDot",function(y,w,_){var v;return M.isValidElement(y)?v=M.cloneElement(y,w):ye(y)?v=y(w):v=D.createElement($T,w),D.createElement(gt,{className:"recharts-active-dot",key:_},v)});var g=M.forwardRef(function(w,_){return D.createElement(m,fl({},w,{ref:_}))});return g.displayName=m.displayName,g},WAe=xB({chartName:"LineChart",GraphicalChild:Gs,axisComponents:[{axisType:"xAxis",AxisComp:Nu},{axisType:"yAxis",AxisComp:Mu}],formatAxisMap:FU}),HAe=xB({chartName:"BarChart",GraphicalChild:Pa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Nu},{axisType:"yAxis",AxisComp:Mu}],formatAxisMap:FU});const qAe=()=>{const[t,e]=M.useState([]),[n,r]=M.useState(!0);M.useEffect(()=>{i()},[]);const i=async()=>{try{e([{day:"Monday",volume:45},{day:"Tuesday",volume:52},{day:"Wednesday",volume:48},{day:"Thursday",volume:61},{day:"Friday",volume:38},{day:"Saturday",volume:25},{day:"Sunday",volume:18}])}catch(o){console.error("Error fetching day of week data:",o)}finally{r(!1)}};return n?O.jsx("div",{className:"flex items-center justify-center h-64",children:O.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):O.jsx("div",{className:"h-64",children:O.jsx(uF,{width:"100%",height:"100%",children:O.jsxs(HAe,{data:t,children:[O.jsx(KT,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),O.jsx(Nu,{dataKey:"day",tick:{fontSize:12},axisLine:!1,tickLine:!1}),O.jsx(Mu,{tick:{fontSize:12},axisLine:!1,tickLine:!1}),O.jsx(Er,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),O.jsx(Pa,{dataKey:"volume",fill:"#3b82f6",radius:[4,4,0,0]})]})})})},KAe=()=>{const[t,e]=M.useState([]),[n,r]=M.useState(!0);M.useEffect(()=>{i()},[]);const i=async()=>{try{e([{period:"Week 1",tMinus3:42,tMinus2:48,tMinus1:35},{period:"Week 2",tMinus3:45,tMinus2:52,tMinus1:38},{period:"Week 3",tMinus3:38,tMinus2:45,tMinus1:42},{period:"Week 4",tMinus3:51,tMinus2:58,tMinus1:45},{period:"Week 5",tMinus3:47,tMinus2:53,tMinus1:40},{period:"Week 6",tMinus3:49,tMinus2:55,tMinus1:43}])}catch(o){console.error("Error fetching booking velocity data:",o)}finally{r(!1)}};return n?O.jsx("div",{className:"flex items-center justify-center h-64",children:O.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):O.jsx("div",{className:"h-64",children:O.jsx(uF,{width:"100%",height:"100%",children:O.jsxs(WAe,{data:t,children:[O.jsx(KT,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),O.jsx(Nu,{dataKey:"period",tick:{fontSize:12},axisLine:!1,tickLine:!1}),O.jsx(Mu,{tick:{fontSize:12},axisLine:!1,tickLine:!1}),O.jsx(Er,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),O.jsx(Hs,{}),O.jsx(Gs,{type:"monotone",dataKey:"tMinus3",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},name:"T-3 Bookings"}),O.jsx(Gs,{type:"monotone",dataKey:"tMinus2",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},name:"T-2 Bookings"}),O.jsx(Gs,{type:"monotone",dataKey:"tMinus1",stroke:"#fbbf24",strokeWidth:2,dot:{fill:"#fbbf24",strokeWidth:2,r:4},name:"T-1 Bookings"})]})})})},Qj=()=>O.jsxs("div",{className:"space-y-8",children:[O.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl p-8 text-white",children:O.jsxs("div",{className:"flex items-center space-x-4",children:[O.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full",children:O.jsx(_V,{className:"w-8 h-8"})}),O.jsxs("div",{children:[O.jsx("h1",{className:"text-3xl font-bold mb-2",children:"SurgiCast"}),O.jsx("p",{className:"text-primary-100",children:"AI-Powered Surgical Volume Forecasting & Analytics"})]})]})}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[O.jsx(je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:O.jsxs(or,{className:"p-6",children:[O.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[O.jsx("div",{className:"p-2 bg-primary-100 rounded-full",children:O.jsx(bV,{className:"w-5 h-5 text-primary-600"})}),O.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Volume Forecaster"})]}),O.jsx(rte,{})]})}),O.jsx(je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:O.jsxs(or,{className:"p-6",children:[O.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[O.jsx("div",{className:"p-2 bg-secondary-100 rounded-full",children:O.jsx(Dh,{className:"w-5 h-5 text-secondary-600"})}),O.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Day of Week Analysis"})]}),O.jsx(qAe,{})]})})]}),O.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:O.jsxs(or,{className:"p-6",children:[O.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[O.jsx("div",{className:"p-2 bg-accent-100 rounded-full",children:O.jsx(Vf,{className:"w-5 h-5 text-accent-600"})}),O.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Booking Velocity Trends"})]}),O.jsx(KAe,{})]})})]}),GAe=({size:t="md"})=>{const e={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return O.jsx("div",{className:"flex items-center justify-center",children:O.jsx(je.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:`${e[t]} border-2 border-primary-200 border-t-primary-500 rounded-full`})})},XAe=()=>{const[t,e]=M.useState(!1);return t?O.jsx(CJ,{onToggleMode:()=>e(!1)}):O.jsx(IJ,{onToggleMode:()=>e(!0)})},YAe=()=>{const{profile:t}=Yi(),[e,n]=M.useState("dashboard"),r=()=>{if((t==null?void 0:t.role)==="patient")switch(e){case"dashboard":return O.jsx(oC,{});case"find-surgeon":return O.jsx(Qee,{});case"health-profile":return O.jsx(Jee,{});default:return O.jsx(oC,{})}else if((t==null?void 0:t.role)==="surgeon")switch(e){case"dashboard":return O.jsx("div",{children:"Surgeon Dashboard (Coming Soon)"});case"patients":return O.jsx("div",{children:"My Patients (Coming Soon)"});case"schedule":return O.jsx("div",{children:"My Schedule (Coming Soon)"});case"profile":return O.jsx("div",{children:"Profile (Coming Soon)"});default:return O.jsx("div",{children:"Surgeon Dashboard (Coming Soon)"})}else if((t==null?void 0:t.role)==="admin")switch(e){case"dashboard":return O.jsx(Qj,{});case"analytics":return O.jsx("div",{children:"Analytics (Coming Soon)"});case"reports":return O.jsx("div",{children:"Reports (Coming Soon)"});default:return O.jsx(Qj,{})}return O.jsx("div",{children:"Unknown role"})};return O.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[O.jsx(kJ,{}),O.jsxs("div",{className:"flex",children:[O.jsx(RJ,{activeTab:e,onTabChange:n}),O.jsx("main",{className:"flex-1 p-8",children:r()})]})]})},QAe=()=>{const{user:t,profile:e,loading:n}=Yi();return n?O.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:O.jsx(GAe,{size:"lg"})}):!t||!e?O.jsx(XAe,{}):O.jsx(YAe,{})};function JAe(){return O.jsx(rG,{children:O.jsx(u9,{children:O.jsx("div",{className:"App",children:O.jsx(s9,{children:O.jsx(xM,{path:"/*",element:O.jsx(QAe,{})})})})})})}dM(document.getElementById("root")).render(O.jsx(M.StrictMode,{children:O.jsx(JAe,{})}));
